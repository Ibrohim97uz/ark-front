(this["webpackJsonpArk-Logistics"]=this["webpackJsonpArk-Logistics"]||[]).push([[10],{1318:function(e,t,a){"use strict";var n=a(15),i=a(0),l=a.n(i),r=a(1296),c=a(1319),o=a(106),s=a(30),u=a(2);t.a=function(e){var t=e.onMenuClick,a=e.menuOptions,i=void 0===a?[]:a,m=e.menuStatus,d=e.buttonStyle,h=e.onAdminMenuClick,f=e.adminMenuOptions,g=void 0===f?[]:f,p=(e.adminStatus,i.map((function(e){return l.a.createElement(r.a.Item,{key:e.key,value:e.name},e.name)}))),E=g.map((function(e){return l.a.createElement(r.a.Item,{key:e.key,value:e.name},e.name)}));return!0===m?l.a.createElement(c.a,{overlay:l.a.createElement(r.a,{onClick:h},E)},l.a.createElement(o.a,{className:"btn-block mb-0 pb-3"},l.a.createElement(s.a,{type:"user",style:{transform:"translate(-4px,-2px)"}}),l.a.createElement(u.a,{id:"admin"}))):l.a.createElement(c.a,{overlay:l.a.createElement(r.a,{onClick:t},p)},l.a.createElement(o.a,{className:"mb-0 pb-3",style:Object(n.a)({border:"none"},d)},l.a.createElement(s.a,{style:{marginRight:2},type:"bars"}),l.a.createElement(s.a,{type:"down"})))}},1322:function(e,t,a){"use strict";var n=a(17),i=a(18),l=a(20),r=a(19),c=a(0),o=a.n(c),s=a(1339),u=a(21),m=a(1326),d=(a(1323),a(2)),h=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement(s.a,{className:"gx-card nnb-simple-card",title:o.a.createElement(d.a,{id:this.props.title})},o.a.createElement(m.Editor,{editorStyle:{width:"100%",minHeight:100,borderWidth:1,borderStyle:"solid",borderColor:"lightgray"},editorState:""===this.props.text?u.EditorState.createEmpty():this.props.text,wrapperClassName:"demo-wrapper",onEditorStateChange:this.props.onEditorChange}))}}]),a}(c.Component);t.a=h},1342:function(e,t,a){"use strict";a.r(t);var n=a(15),i=a(17),l=a(18),r=a(20),c=a(19),o=a(0),s=a.n(o),u=a(68),m=a(21),d=a(31),h=a(33),f=a(1312),g=a(1294),p=a(1295),E=a(1325),b=a(106),v=a(2),y=f.a.Search,S=function(e){var t=e.onAdd,a=e.isActive,n=e.onActive,i=e.handleResetSearch,l=e.handleSubmitSearch,r=e.onChangeSearch,c=e.searchText;return s.a.createElement(g.a,{gutter:24},s.a.createElement(p.a,{xs:23,sm:23,md:7,xl:7,lg:7},s.a.createElement(y,{value:c,placeholder:Object(v.b)({en:"What are we looking for?",ru:"\u0427\u0442\u043e \u043c\u044b \u0438\u0449\u0435\u043c?",uz:"Nima izlaymiz?"}),onChange:function(e){return r(e.target.value)}})),s.a.createElement(p.a,{span:2,className:"text-center"},s.a.createElement(E.a,{onClick:function(e){return n(e)},checked:a,className:"mt-2"})),s.a.createElement(p.a,{xs:12,sm:12,md:7,xl:7,lg:7},s.a.createElement("div",null,s.a.createElement(b.a,{type:"primary",className:"margin-right",onClick:l,icon:"search"},s.a.createElement(v.a,{id:"search"})),s.a.createElement(b.a,{onClick:i,icon:"undo"},s.a.createElement(v.a,{id:"reset"})))),s.a.createElement(p.a,{xs:12,sm:12,md:8,xl:8,lg:8,className:"text-right"},s.a.createElement(b.a,{type:"primary",onClick:t,style:{marginLeft:16}},s.a.createElement(v.a,{id:"create"}))))},x=a(1311),C=a(1308),k=a(1313),j=a(1303),A=a(362),O=a(1322),z=a(1327),F=a.n(z),I=(a(1323),a(52)),w=a.n(I).a.locales,T=x.a.Item,N={labelCol:{xs:24,justify:"center"},wrapperCol:{justify:"center",xs:24}},R={xs:24,sm:24,md:24,xl:24,ld:24},L={xs:24,sm:24,md:8,xl:8,ld:8},U=x.a.create()((function(e){var t=e.currentItem,a=e.onFormLocale,i=e.onSubmit,l=e.onCancel,r=e.file,c=e.files,u=e.videos,d=e.text,h=e.onChangeFile,f=e.onChangeAnyFile,b=e.onChangeAnyFileVideo,y=e.modalVisible,S=e.formItems,z=e.selectedFormLocale,I=e.onTextChange,U=e.actionType,V=e.form,M=V.getFieldDecorator,D=V.validateFields,q=V.getFieldsValue,H=S.map((function(e){return s.a.createElement(p.a,Object.assign({},R,{key:e.name,hidden:!(null===e.locale||e.locale===z.locale)}),s.a.createElement(T,Object.assign({label:s.a.createElement(o.Fragment,null,null!==e.locale&&s.a.createElement("i",{className:"vertical-align-middle icon icon-check-circle-o mr-1"}),e.label),className:"mb-0 ",hasFeedback:!0},N),M(e.name,Object(n.a)({initialValue:t[e.name]},e))(e.obj)))}));return s.a.createElement(k.a,{visible:y,title:"create"===U?Object(v.b)({en:"Create new news",ru:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043d\u043e\u0432\u043e\u0441\u0442\u0438",uz:"Yangi yangilik yaratish"}):Object(v.b)({en:"Update news",ru:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u0438",uz:"Yangilikni tahrirlash"}),onOk:function(){D((function(e){if(e||null===r||null===r.file||""===d.en){for(var n in e)if("titleEn"===n)return a(w[0]);return d&&""===d.en&&C.a.error(Object(v.b)({en:"The problem with the text!",ru:"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0442\u0435\u043a\u0441\u0442\u043e\u043c!",uz:"Matn bilan bog'liq muammo!"})),void(null!==r&&null!==r.file||C.a.error(Object(v.b)({en:"File problem!",ru:"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0444\u0430\u0439\u043b\u043e\u043c!",uz:"Fayl bilan bog'liq muammo!"})))}var l=q(),o=[];l.titleRu=void 0===l.titleRu?l.titleEn:l.titleRu,l.titleUz=void 0===l.titleUz?l.titleEn:l.titleUz,l.textEn=F()(Object(m.convertToRaw)(d.en.getCurrentContent())),l.textRu=""===d.ru?l.textEn:F()(Object(m.convertToRaw)(d.ru.getCurrentContent())),l.textUz=""===d.uz?l.textEn:F()(Object(m.convertToRaw)(d.uz.getCurrentContent())),l.isStatus=void 0===l.isStatus||l.isStatus,l.fileUpload=!0,l.type=!0,l.otherAttachmentId=[],l.files=[],l.videosId=[],l.videos=[],"create"===U&&(0!==c.length&&c.map((function(e){return"update"===e.fileStatus?l.files.push(e):e})),0!==u&&u.map((function(e){return"update"===e.fileStatus?l.videos.push(e):e}))),"update"===U&&(l.id=t.id,0!==c.length&&c.map((function(e){return"create"===e.fileStatus?l.otherAttachmentId.push(e.file.id):"update"===e.fileStatus?l.files.push(e):e})),0!==u.length&&u.map((function(e){return"create"===e.fileStatus?l.videosId.push(e.file.id):"update"===e.fileStatus?l.videos.push(e):e}))),r&&"update"===r.fileStatus&&o.push({name:"mainFile",file:r.file}),r&&"create"===r.fileStatus&&(l.mainAttachmentId=t.mainAttachment.id,o.push({name:"mainFile",file:{}})),r&&"delete"===r.fileStatus&&o.push({name:"mainFile",file:{}}),o.push({name:"file1",file:l.files[0]?{0:l.files[0].file}:{}}),o.push({name:"file2",file:l.files[1]?{0:l.files[1].file}:{}}),o.push({name:"file3",file:l.files[2]?{0:l.files[2].file}:{}}),o.push({name:"video1",file:l.videos[0]?{0:l.videos[0].file}:{}}),o.push({name:"video2",file:l.videos[1]?{0:l.videos[1].file}:{}}),o.push({name:"video3",file:l.videos[2]?{0:l.videos[2].file}:{}}),l.file=o,i(l)}))},bodyStyle:{height:550,overflowY:"auto"},destroyOnClose:!0,width:900,style:{top:20},onCancel:l,cancelText:s.a.createElement(v.a,{id:"cancel"}),okText:s.a.createElement(v.a,{id:"save"})},s.a.createElement(x.a,{layout:"horizontal"},s.a.createElement(g.a,{gutter:24},s.a.createElement(p.a,{span:24},s.a.createElement("div",{className:"#"},s.a.createElement("ul",{className:"gx-header-notifications gx-ml-auto"},s.a.createElement("li",{className:"gx-language"},s.a.createElement(j.a,{overlayClassName:"gx-popover-horizantal",placement:"bottomRight",content:s.a.createElement("div",{className:"gx-popover-lang-scroll overflow-hidden"},s.a.createElement("ul",{className:"gx-sub-popover"},w.map((function(e){return s.a.createElement("li",{className:"gx-media gx-pointer",key:JSON.stringify(e),onClick:function(t){return a(e)}},s.a.createElement("i",{className:"flag flag-24 gx-mr-2 flag-".concat(e.icon)}),s.a.createElement("span",{className:"gx-language-text"},e.name))})))),trigger:"click"},s.a.createElement("span",{className:"gx-pointer gx-flex-row gx-align-items-center"},s.a.createElement("i",{className:"flag flag-24 flag-".concat(z.icon)}),s.a.createElement("span",{className:"gx-pl-2"},z.name),s.a.createElement("i",{className:"icon icon-chevron-down gx-pl-2 d-block"}))))))),H,s.a.createElement(O.a,{title:"field.text",text:d[z.locale],onEditorChange:function(e){I(e)}}),s.a.createElement(p.a,R,s.a.createElement(T,Object.assign({key:"isStatus",className:"mb-0",label:s.a.createElement(v.a,{id:"status"}),hasFeedback:!0},N),M("isStatus",{initialValue:"create"===U||t&&t.isStatus,valuePropName:"checked"})(s.a.createElement(E.a,null)))),s.a.createElement(A.a,{name:"main-img",title:s.a.createElement(v.a,{id:"mainFile"}),types:["image/jpeg","image/png","image/jpg"],size:50,file:r,onChangeFile:h,formItemLayout:N,colLayout:L}),s.a.createElement(A.c,{name:"other-img",files:c,types:["image/jpeg","image/png","image/jpg"],size:50,fileUploadCount:3,title:s.a.createElement(v.a,{id:"otherImg"}),formItemLayout:N,colLayout:L,onChangeFile:f}),s.a.createElement(A.d,{name:"videos",files:u,types:["video/mp4","video/webm","video/ogg"],size:500,fileUploadCount:3,title:s.a.createElement(v.a,{id:"video"}),formItemLayout:N,colLayout:L,onChangeFile:b}))))})),V=a(258),M=a(83),D=a(1318),q=a(1339),H=["onDeleteItem","onEditItem","pagination","location","visibleColumns"],Y=u.Modal.confirm,W={zIndex:1},_=function(e){var t=e.onDeleteItem,a=e.onEditItem,n=e.pagination,i=(e.location,e.visibleColumns),l=Object(M.a)(e,H),r=[].concat(Object(V.a)(i),[{title:s.a.createElement(v.a,{id:"operation"}),key:"operation",width:100,align:"center",render:function(e,t){return s.a.createElement(D.a,{onMenuClick:function(e){return c(t,e)},menuOptions:[{key:"1",name:s.a.createElement("div",null,s.a.createElement(u.Icon,{className:"mr-2",type:"edit"}),s.a.createElement(v.a,{id:"update"}))},{key:"2",name:s.a.createElement("div",null,s.a.createElement(u.Icon,{className:"mr-2",type:"delete"}),s.a.createElement(v.a,{id:"delete"}))}]})}}]),c=function(e,n){"1"===n.key?a(e):"2"===n.key&&Y({title:Object(v.b)({en:"You really want to turn it off?",ru:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0435\u0433\u043e?",uz:"Siz chindan ham o'chirmoqchimisiz?"}),onOk:function(){t(e.id)}})},o={emptyText:s.a.createElement("div",{style:{textAlign:"center",fontSize:16,marginTop:30}},s.a.createElement(u.Icon,{type:"inbox",style:{fontSize:40}}),s.a.createElement("p",null,s.a.createElement(v.a,{id:"NODATA"})))};return s.a.createElement("div",null,s.a.createElement(u.Table,Object.assign({},l,{columns:r,bordered:!0,pagination:n,expandable:!0,expandedRowRender:function(e){return s.a.createElement(q.a,{className:"my-3",style:W},s.a.createElement("h1",{className:"text-center font-weight-bold"},Object(v.b)({en:e.titleEn,ru:e.titleRu,uz:e.titleUz})),s.a.createElement("div",{dangerouslySetInnerHTML:{__html:Object(v.b)({en:e.textEn,ru:e.textRu,uz:e.textUz})}}))},className:"gx-table-responsive",locale:o,rowKey:function(e){return e.id}})))},J=a(26),B=h.a.getNews,K=h.a.postNews,P=h.a.putNews,Q=h.a.deleteNews,G=h.a.searchNews,X=h.a.postIsActiveNews,Z=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var l;return Object(i.a)(this,a),(l=t.call(this,e)).onStartEvent=function(e){Object(d.a)(B,e).then((function(e){e.success&&l.setState({list:e.object})}))},l.onRequestFunc=function(e,t,a){Object(d.a)(e,t).then((function(e){e.success?(l.setState({actionType:"create",modalVisible:!1,file:null,currentItem:{},text:{en:"",ru:"",uz:""}}),u.notification.success({key:a.key,message:a.messageSuccess,description:a.descriptionSuccess}),l.onCancel(),l.onStartEvent()):u.notification.error({key:a.key,message:a.messageError,description:a.descriptionError})}))},l.onFormLocale=function(e){return l.setState({selectedFormLocale:e})},l.onSubmit=function(e){var t={};"create"===l.state.actionType&&(t={key:"create",messageError:Object(v.b)({en:"There was an error creating",ru:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438",uz:"Yaratishda xatolik yuz berdi"}),messageSuccess:Object(v.b)({en:"Successfully created",ru:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d",uz:"Muvaffaqqiyatli yaratildi"})},l.onRequestFunc(K,e,t)),"update"===l.state.actionType&&(t={key:"update",messageError:Object(v.b)({en:"There was an error updating",ru:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435",uz:"Tahrirlashda xatolik yuz berdi"}),messageSuccess:Object(v.b)({en:"Successfully updated",ru:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e",uz:"Muvaffaqqiyatli tahrirlandi"})},l.onRequestFunc(P,Object(n.a)({id:l.state.currentItem.id},e),t))},l.onCancel=function(){l.setState({modalVisible:!1,actionType:"create",text:{en:"",ru:"",uz:""},file:null,videos:[],files:[],selectedFormLocale:{languageId:"nameEn",locale:"en",name:"English",icon:"us"}})},l.onAdd=function(){l.setState({modalVisible:!0,actionType:"create"})},l.onDelete=function(e){l.onRequestFunc(Q,{id:e},{key:"delete",messageError:"There was an error deleting",messageSuccess:"Successfully deleted",descriptionError:"DescriptionSuccessfully deleted",descriptionSuccess:"DescriptionSuccessfully deleted"})},l.onEditItem=function(e){var t=[],a=[];0!==e.otherAttachmentList.length&&e.otherAttachmentList.map((function(e){return t.push({fileUrl:J.b+e.id,file:e,fileStatus:"create"})})),0!==e.videos.length&&e.videos.map((function(e){return a.push({fileUrl:J.b+e.id,file:e,fileStatus:"create"})})),l.setState({actionType:"update",text:{en:m.EditorState.createWithContent(m.ContentState.createFromBlockArray(Object(m.convertFromHTML)(e.textEn))),ru:m.EditorState.createWithContent(m.ContentState.createFromBlockArray(Object(m.convertFromHTML)(e.textRu))),uz:m.EditorState.createWithContent(m.ContentState.createFromBlockArray(Object(m.convertFromHTML)(e.textUz)))},currentItem:e,files:t,videos:a,file:e.mainAttachment?{fileUrl:J.b+e.mainAttachment.id,file:e.mainAttachment,fileStatus:"create"}:null,modalVisible:!0})},l.onChangeFile=function(e){l.setState({file:e})},l.onChangeAnyFile=function(e){l.setState({files:e})},l.onChangeAnyFileVideo=function(e){l.setState({videos:e})},l.onTextChange=function(e){var t=l.state,a=t.text;a[t.selectedFormLocale.locale]=e,l.setState({text:a})},l.onChangeSearch=function(e){l.setState({searchText:e})},l.handleSubmitSearch=function(e){Object(d.a)(G,{word:l.state.searchText,isActive:l.state.isActive}).then((function(e){e.success&&l.setState({list:e.object})}))},l.handleResetSearch=function(){l.onStartEvent({page:0,size:20}),l.setState({searchText:"",isActive:!0})},l.onActive=function(e){Object(d.a)(X,{isActive:e}).then((function(e){e.success?l.setState((function(t,a){return{list:e.object,isActive:!t.isActive}})):l.setState((function(e,t){return{isActive:!e.isActive}}))}))},l.state={actionType:"create",modalVisible:!1,isActive:!0,searchText:"",columns:[{title:s.a.createElement("strong",null,"\u2116"),key:"\u2116",align:"center",width:60,render:function(e,t,a){return a+1}},{title:s.a.createElement(v.a,{id:"attachment"}),key:"file",align:"center",width:100,render:function(e,t,a){return s.a.createElement(A.b,{fileId:t.mainAttachment&&t.mainAttachment.id,defaultView:"picture"})}},Object(v.b)({en:{title:"Title",dataIndex:"titleEn",align:"center",width:250,key:"titleEn"},ru:{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",dataIndex:"titleRu",width:250,align:"center",key:"titleRu"},uz:{title:"Sarlavha",dataIndex:"titleUz",width:250,align:"center",key:"titleUz"}}),{title:Object(v.b)({en:"Description",ru:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",uz:"Ta'rif"}),key:"text",render:function(e,t,a){return s.a.createElement("div",{className:"text-block-table",dangerouslySetInnerHTML:{__html:Object(v.b)({en:t.textEn,ru:t.textRu,uz:t.textUz})}})}},{title:s.a.createElement(v.a,{id:"isActive"}),dataIndex:"isActive",align:"center",key:"isActive",render:function(e,t){return s.a.createElement("div",null,!0===t.isStatus?s.a.createElement(u.Tag,{color:"#87d068"},s.a.createElement(v.a,{id:"enabled"})):s.a.createElement(u.Tag,{color:"#f50"},s.a.createElement(v.a,{id:"disabled"})))}},{title:s.a.createElement(v.a,{id:"createAt"}),key:"createdAt",align:"center",width:100,render:function(e,t,a){var n=new Date(t.createdAt);return n.getDate()+"/"+n.getMonth()+"/"+n.getFullYear()}}],formItems:[{label:"Title",name:"titleEn",rules:[{required:!0,message:s.a.createElement(v.a,{id:"E_ERROR"})}],locale:"en",obj:s.a.createElement(u.Input,null)},{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",name:"titleRu",locale:"ru",obj:s.a.createElement(u.Input,null)},{label:"Sarlavha",name:"titleUz",locale:"uz",obj:s.a.createElement(u.Input,null)}],currentItem:{},list:[],pagination:{showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"Total ".concat(e," Items")},current:1,total:0,pageSize:20},selectedFormLocale:{languageId:"nameEn",locale:"en",name:"English",icon:"us"},file:null,files:[],videos:[],text:{en:"",ru:"",uz:""}},l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.onStartEvent()}},{key:"render",value:function(){var e=this.state,t=e.currentItem,a=e.modalVisible,i=e.isActive,l=e.searchText,r=e.file,c=e.files,o=e.videos,m=e.text,d=e.columns,h=e.formItems,f=e.list,g=e.actionType,p=e.pagination,E=e.selectedFormLocale;return s.a.createElement(u.Card,null,s.a.createElement(S,{onAdd:this.onAdd,isActive:i,searchText:l,onActive:this.onActive,handleResetSearch:this.handleResetSearch,handleSubmitSearch:this.handleSubmitSearch,onChangeSearch:this.onChangeSearch}),s.a.createElement(_,{visibleColumns:d,dataSource:f,onEditItem:this.onEditItem,pagination:p.total>=10&&Object(n.a)({},p),onDeleteItem:this.onDelete}),s.a.createElement(U,{onSubmit:this.onSubmit,onCancel:this.onCancel,onChangeFile:this.onChangeFile,onChangeAnyFile:this.onChangeAnyFile,onChangeAnyFileVideo:this.onChangeAnyFileVideo,onFormLocale:this.onFormLocale,onTextChange:this.onTextChange,files:c,videos:o,file:r,text:m,modalVisible:a,selectedFormLocale:E,formItems:h,actionType:g,currentItem:"create"===g?{}:t}))}}]),a}(o.Component);t.default=Z}}]);
//# sourceMappingURL=10.b902a146.chunk.js.map