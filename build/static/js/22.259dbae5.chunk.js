(this["webpackJsonpArk-Logistics"]=this["webpackJsonpArk-Logistics"]||[]).push([[22],{1318:function(e,t,a){"use strict";var n=a(15),r=a(0),i=a.n(r),c=a(1296),o=a(1319),l=a(106),s=a(30),u=a(2);t.a=function(e){var t=e.onMenuClick,a=e.menuOptions,r=void 0===a?[]:a,m=e.menuStatus,d=e.buttonStyle,h=e.onAdminMenuClick,b=e.adminMenuOptions,E=void 0===b?[]:b,g=(e.adminStatus,r.map((function(e){return i.a.createElement(c.a.Item,{key:e.key,value:e.name},e.name)}))),p=E.map((function(e){return i.a.createElement(c.a.Item,{key:e.key,value:e.name},e.name)}));return!0===m?i.a.createElement(o.a,{overlay:i.a.createElement(c.a,{onClick:h},p)},i.a.createElement(l.a,{className:"btn-block mb-0 pb-3"},i.a.createElement(s.a,{type:"user",style:{transform:"translate(-4px,-2px)"}}),i.a.createElement(u.a,{id:"admin"}))):i.a.createElement(o.a,{overlay:i.a.createElement(c.a,{onClick:t},g)},i.a.createElement(l.a,{className:"mb-0 pb-3",style:Object(n.a)({border:"none"},d)},i.a.createElement(s.a,{style:{marginRight:2},type:"bars"}),i.a.createElement(s.a,{type:"down"})))}},1330:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a(17),i=a(18),c=a(20),o=a(19),l=a(0),s=a.n(l),u=a(1307),m=a(1312),d=a(1339),h=a(31),b=a(33),E=a(1294),g=a(1295),p=a(106),y=a(2),f=m.a.Search,S=function(e){var t=e.onAdd,a=e.handleResetSearch,n=e.handleSubmitSearch,r=e.onChangeSearch,i=e.searchText;return s.a.createElement(E.a,{gutter:24},s.a.createElement(g.a,{xs:23,sm:23,md:8,xl:8,lg:8},s.a.createElement(f,{value:i,placeholder:Object(y.b)({en:"What are we looking for?",ru:"\u0427\u0442\u043e \u043c\u044b \u0438\u0449\u0435\u043c?",uz:"Nima izlaymiz?"}),onChange:function(e){return r(e.target.value)}})),s.a.createElement(g.a,{xs:12,sm:12,md:8,xl:8,lg:8},s.a.createElement("div",null,s.a.createElement(p.a,{type:"primary",className:"margin-right",onClick:n,icon:"search"},s.a.createElement(y.a,{id:"search"})),s.a.createElement(p.a,{onClick:a,icon:"undo"},s.a.createElement(y.a,{id:"reset"})))),s.a.createElement(g.a,{xs:12,sm:12,md:8,xl:8,lg:8,className:"text-right"},s.a.createElement(p.a,{type:"primary",onClick:t,style:{marginLeft:16}},s.a.createElement(y.a,{id:"create"}))))},O=a(68),k=O.Form.Item,v=O.Select.Option,j={labelCol:{span:24},wrapperCol:{span:24}},C=O.Form.create()((function(e){var t=e.currentItem,a=e.onSubmit,r=e.onCancel,i=e.modalVisible,c=e.actionType,o=e.formItems,l=e.countries,u=e.form,m=u.getFieldDecorator,d=u.validateFields,h=u.getFieldsValue,b=o.map((function(e){return s.a.createElement(k,Object.assign({key:e.name,className:"mb-0",label:e.label,hasFeedback:!0},j),m(e.name,Object(n.a)({initialValue:t[e.name]},e))(e.obj))})),E=l.map((function(e){return s.a.createElement(v,{value:e.id},Object(y.b)({en:e.nameEn,ru:e.nameRu,uz:e.nameUz}))}));return s.a.createElement(O.Modal,{title:"create"===c?Object(y.b)({en:"Create new region",ru:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0440\u0435\u0433\u0438\u043e\u043d",uz:"Yangi viloyat yaratish"}):Object(y.b)({en:"Update region",ru:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0440\u0435\u0433\u0438\u043e\u043d",uz:"Viloyatni tahrirlash"}),visible:i,onOk:function(){d((function(e){if(!e){var n=h();n.id=t.id,a(n)}}))},destroyOnClose:!0,onCancel:r,wrapClassName:"vertical-center-modal",cancelText:s.a.createElement(y.a,{id:"cancel"}),okText:s.a.createElement(y.a,{id:"save"})},s.a.createElement(O.Form,{layout:"horizontal"},b,s.a.createElement(k,Object.assign({key:"countryId",className:"mb-0",label:s.a.createElement(y.a,{id:"country"}),hasFeedback:!0},j),m("countryId",{initialValue:t&&t.country&&t.country.id,rules:[{required:!0,message:s.a.createElement(y.a,{id:"E_ERROR"})}]})(s.a.createElement(O.Select,{name:"countryId",allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},E)))))})),z=a(258),x=a(83),R=a(1313),I=a(30),T=a(1337),w=a(1318),q=["onDeleteItem","onEditItem","pagination","location","visibleColumns"],F=R.a.confirm,V=function(e){var t=e.onDeleteItem,a=e.onEditItem,n=e.pagination,r=(e.location,e.visibleColumns),i=Object(x.a)(e,q),c=[].concat(Object(z.a)(r),[{title:s.a.createElement(y.a,{id:"operation"}),key:"operation",width:100,align:"center",fixed:"right",render:function(e,t){return s.a.createElement(w.a,{onMenuClick:function(e){return o(t,e)},menuOptions:[{key:"1",name:s.a.createElement("div",null,s.a.createElement(I.a,{className:"mr-2",type:"edit"}),s.a.createElement(y.a,{id:"update"}))},{key:"2",name:s.a.createElement("div",null,s.a.createElement(I.a,{className:"mr-2",type:"delete"}),s.a.createElement(y.a,{id:"delete"}))}]})}}]),o=function(e,n){"1"===n.key?a(e):"2"===n.key&&F({title:Object(y.b)({en:"You really want to turn it off?",ru:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0435\u0433\u043e?",uz:"Siz chindan ham o'chirmoqchimisiz?"}),onOk:function(){t(e.id)}})},l={emptyText:s.a.createElement("div",{style:{textAlign:"center",fontSize:16,marginTop:30}},s.a.createElement(I.a,{type:"inbox",style:{fontSize:40}}),s.a.createElement("p",null,s.a.createElement(y.a,{id:"NODATA"})))};return s.a.createElement("div",null,s.a.createElement(T.a,Object.assign({},i,{columns:c,bordered:!0,size:"small",pagination:n,className:"gx-table-responsive",locale:l,rowKey:function(e){return e.id}})))},N=b.a.getRegion,A=b.a.postRegion,M=b.a.deleteRegion,D=b.a.getCountryList,L=b.a.searchRegion,U=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).onStartEvent=function(e){Object(h.a)(N,e).then((function(e){e.success&&i.setState((function(t,a){return{list:e.object,pagination:Object(n.a)(Object(n.a)({},t.pagination),{},{total:e.totalElements||e.object.length})}}))}))},i.getCountry=function(){Object(h.a)(D).then((function(e){e.success&&i.setState({countries:e.object})}))},i.onRequestFunc=function(e,t,a){Object(h.a)(e,t).then((function(e){e.success?(i.setState({actionType:"create",modalVisible:!1,currentItem:{}}),u.a.success({key:a.key,message:a.messageSuccess,description:a.descriptionSuccess}),i.onStartEvent()):u.a.error({key:a.key,message:a.messageError,description:a.descriptionError})}))},i.onSubmit=function(e){var t={};"create"===i.state.actionType&&(t={key:"create",messageError:Object(y.b)({en:"There was an error creating",ru:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438",uz:"Yaratishda xatolik yuz berdi"}),messageSuccess:Object(y.b)({en:"Successfully created",ru:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d",uz:"Muvaffaqqiyatli yaratildi"})},i.onRequestFunc(A,e,t)),"update"===i.state.actionType&&(t={key:"update",messageError:Object(y.b)({en:"There was an error updating",ru:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435",uz:"Tahrirlashda xatolik yuz berdi"}),messageSuccess:Object(y.b)({en:"Successfully updated",ru:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e",uz:"Muvaffaqqiyatli tahrirlandi"})},i.onRequestFunc(A,e,t))},i.onCancel=function(){i.setState({modalVisible:!1,actionType:"create"})},i.onAdd=function(){i.setState({modalVisible:!0,actionType:"create"})},i.onDelete=function(e){var t={key:"delete",messageError:Object(y.b)({en:"There was an error deleting",ru:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438",uz:"O'chirishda xatolik yuz berdi"}),messageSuccess:Object(y.b)({en:"Successfully deleted",ru:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d",uz:"Muvaffaqiyatli o'chirildi"})};i.onRequestFunc(M,{id:e},t)},i.onEditItem=function(e){i.setState({actionType:"update",currentItem:e,modalVisible:!0})},i.onChange=function(e){i.setState((function(t,a){return{pagination:Object(n.a)(Object(n.a)({},t.pagination),{},{current:e})}})),i.onStartEvent({page:e-1})},i.onShowSizeChange=function(e,t){i.onStartEvent({page:e-1,size:t}),i.setState((function(a,r){return{pagination:Object(n.a)(Object(n.a)({},a.pagination),{},{current:e,pageSize:t})}}))},i.onChangeSearch=function(e){i.setState({searchText:e})},i.handleResetSearch=function(){i.onStartEvent({page:0,size:20}),i.setState({searchText:""})},i.handleSubmitSearch=function(){Object(h.a)(L,{word:i.state.searchText}).then((function(e){e.success&&i.setState({list:e.object})}))},i.state={actionType:"create",modalVisible:!1,searchText:"",columns:[{title:s.a.createElement("strong",null,"\u2116"),key:"\u2116",align:"center",width:60,render:function(e,t,a){return a+1}},Object(y.b)({en:{title:"Region",dataIndex:"nameEn",key:"nameEn"},ru:{title:"\u0420\u0435\u0433\u0438\u043e\u043d",dataIndex:"nameRu",key:"nameRu"},uz:{title:"Viloyatlar",dataIndex:"nameUz",key:"nameUz"}})],formItems:[{label:"English",name:"nameEn",rules:[{required:!0,message:s.a.createElement(y.a,{id:"E_ERROR"})}],obj:s.a.createElement(m.a,null)},{label:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",name:"nameRu",rules:[{required:!0,message:s.a.createElement(y.a,{id:"E_ERROR"})}],obj:s.a.createElement(m.a,null)},{label:"O'zbek",name:"nameUz",rules:[{required:!0,message:s.a.createElement(y.a,{id:"E_ERROR"})}],obj:s.a.createElement(m.a,null)}],currentItem:{},countries:[],list:[],pagination:{showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"Total ".concat(e," Items")},current:1,total:0,pageSize:20}},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onStartEvent({page:0,size:20}),this.getCountry()}},{key:"render",value:function(){var e=this.state,t=e.currentItem,a=e.countries,r=e.searchText,i=e.modalVisible,c=e.columns,o=e.formItems,l=e.list,u=e.actionType,m=e.pagination;return s.a.createElement(d.a,null,s.a.createElement(S,{searchText:r,handleResetSearch:this.handleResetSearch,handleSubmitSearch:this.handleSubmitSearch,onChangeSearch:this.onChangeSearch,onAdd:this.onAdd}),s.a.createElement(V,{visibleColumns:c,dataSource:l,onEditItem:this.onEditItem,pagination:m.total>=10&&Object(n.a)(Object(n.a)({},m),{},{onChange:this.onChange,onShowSizeChange:this.onShowSizeChange}),onDeleteItem:this.onDelete}),s.a.createElement(C,{onSubmit:this.onSubmit,onCancel:this.onCancel,modalVisible:i,countries:a,actionType:u,currentItem:"create"===u?{}:t,formItems:o}))}}]),a}(l.Component);t.default=U}}]);
//# sourceMappingURL=22.259dbae5.chunk.js.map