{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import React,{Fragment}from'react';import{Form,Modal,Popover,Row,Col}from'antd';import IntlMessages,{intlMessages}from\"../../../../../util/IntlMessages\";import config from\"../../../../../util/config\";var locales=config.locales;var FormItem=Form.Item;var formItemLayout={labelCol:{xs:24,justify:\"center\"},wrapperCol:{justify:\"center\",xs:24}};var ColProps={xs:24,sm:24,md:24,xl:24,ld:24};var modal=function modal(_ref){var currentItem=_ref.currentItem,onFormLocale=_ref.onFormLocale,onSubmit=_ref.onSubmit,onCancel=_ref.onCancel,file=_ref.file,onChangeFile=_ref.onChangeFile,modalVisible=_ref.modalVisible,formItems=_ref.formItems,selectedFormLocale=_ref.selectedFormLocale,actionType=_ref.actionType,_ref$form=_ref.form,getFieldDecorator=_ref$form.getFieldDecorator,validateFields=_ref$form.validateFields,getFieldsValue=_ref$form.getFieldsValue;var handleOk=function handleOk(){validateFields(function(errors){if(errors){for(var i in errors){if(i===\"titleEn\"||i===\"descriptionEn\"){return onFormLocale(locales[0]);}}return;}var formData=getFieldsValue();formData['titleRu']=formData['titleRu']===undefined?formData['titleEn']:formData['titleRu'];formData['titleUz']=formData['titleUz']===undefined?formData['titleEn']:formData['titleUz'];formData['descriptionRu']=formData['descriptionRu']===undefined?formData['descriptionEn']:formData['descriptionRu'];formData['descriptionUz']=formData['descriptionUz']===undefined?formData['descriptionEn']:formData['descriptionUz'];formData['isView']=actionType===\"create\"?true:currentItem.isView;formData['file']=file===null?{}:file.file;formData['fileUpload']=true;if(actionType===\"update\"){formData['id']=currentItem.id;if(file&&file.fileStatus===\"delete\"){formData['file']={};}if(file&&file.fileStatus===\"create\"){formData['fileId']=currentItem.attachment&&currentItem.attachment.id;}if(file&&!file.fileStatus){formData['file']={};formData['fileId']=currentItem.fileId&&currentItem.fileId.id;}}onSubmit(formData);});};var dynamicFormItems=formItems.map(function(formItem){return/*#__PURE__*/React.createElement(Col,Object.assign({},ColProps,{key:formItem.name,hidden:!(formItem.locale===null||formItem.locale===selectedFormLocale.locale)}),/*#__PURE__*/React.createElement(FormItem,Object.assign({label:/*#__PURE__*/React.createElement(Fragment,null,formItem.locale!==null&&/*#__PURE__*/React.createElement(\"i\",{className:\"vertical-align-middle icon icon-check-circle-o mr-1\"}),formItem.label),className:\"mb-0 \",hasFeedback:true},formItemLayout),getFieldDecorator(formItem.name,_objectSpread({initialValue:currentItem[formItem.name]},formItem))(formItem.obj)));});var languageMenu=function languageMenu(){return/*#__PURE__*/React.createElement(\"div\",{className:\"gx-popover-lang-scroll overflow-hidden\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"gx-sub-popover\"},locales.map(function(language){return/*#__PURE__*/React.createElement(\"li\",{className:\"gx-media gx-pointer\",key:JSON.stringify(language),onClick:function onClick(e){return onFormLocale(language);}},/*#__PURE__*/React.createElement(\"i\",{className:\"flag flag-24 gx-mr-2 flag-\".concat(language.icon)}),/*#__PURE__*/React.createElement(\"span\",{className:\"gx-language-text\"},language.name));})));};return/*#__PURE__*/React.createElement(Modal,{visible:modalVisible,title:actionType===\"create\"?intlMessages({en:\"Create new vacancy\",ru:\"Создать новый вакансии\",uz:\"Yangi bo'sh ish o'rni yaratish\"}):intlMessages({en:\"Update vacancy\",ru:\"Изменить вакансии\",uz:\"Bo'sh ish o'rnini tahrirlash\"}),onOk:handleOk,destroyOnClose:true,width:700,onCancel:onCancel,wrapClassName:'vertical-center-modal',cancelText:/*#__PURE__*/React.createElement(IntlMessages,{id:'cancel'}),okText:/*#__PURE__*/React.createElement(IntlMessages,{id:'save'})},/*#__PURE__*/React.createElement(Form,{layout:\"horizontal\"},/*#__PURE__*/React.createElement(Row,{gutter:24},/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(\"div\",{className:\"#\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"gx-header-notifications gx-ml-auto\"},/*#__PURE__*/React.createElement(\"li\",{className:\"gx-language\"},/*#__PURE__*/React.createElement(Popover,{overlayClassName:\"gx-popover-horizantal\",placement:\"bottomRight\",content:languageMenu(),trigger:\"click\"},/*#__PURE__*/React.createElement(\"span\",{className:\"gx-pointer gx-flex-row gx-align-items-center\"},/*#__PURE__*/React.createElement(\"i\",{className:\"flag flag-24 flag-\".concat(selectedFormLocale.icon)}),/*#__PURE__*/React.createElement(\"span\",{className:'gx-pl-2'},selectedFormLocale.name),/*#__PURE__*/React.createElement(\"i\",{className:'icon icon-chevron-down gx-pl-2 d-block'}))))))),dynamicFormItems)));};export default Form.create()(modal);","map":{"version":3,"sources":["C:/Users/Ibrohim/Desktop/ark-front/src/routes/routesManagers/settings/vacancy/components/Modal.js"],"names":["React","Fragment","Form","Modal","Popover","Row","Col","IntlMessages","intlMessages","config","locales","FormItem","Item","formItemLayout","labelCol","xs","justify","wrapperCol","ColProps","sm","md","xl","ld","modal","currentItem","onFormLocale","onSubmit","onCancel","file","onChangeFile","modalVisible","formItems","selectedFormLocale","actionType","form","getFieldDecorator","validateFields","getFieldsValue","handleOk","errors","i","formData","undefined","isView","id","fileStatus","attachment","fileId","dynamicFormItems","map","formItem","name","locale","label","initialValue","obj","languageMenu","language","JSON","stringify","e","icon","en","ru","uz","create"],"mappings":"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","sourcesContent":["import React, {Fragment} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {Form, Modal, Popover, Row, Col} from 'antd'\r\n\r\nimport IntlMessages, {intlMessages} from \"../../../../../util/IntlMessages\";\r\nimport config from \"../../../../../util/config\";\r\n\r\n\r\nconst {locales} = config;\r\nconst FormItem = Form.Item;\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: 24,\r\n    justify: \"center\"\r\n  },\r\n  wrapperCol: {\r\n    justify: \"center\",\r\n    xs: 24,\r\n  },\r\n};\r\nconst ColProps = {\r\n  xs: 24,\r\n  sm: 24,\r\n  md: 24,\r\n  xl: 24,\r\n  ld: 24\r\n};\r\n\r\n\r\nconst modal = ({\r\n                 currentItem,\r\n                 onFormLocale,\r\n                 onSubmit,\r\n                 onCancel,\r\n                 file,\r\n                 onChangeFile,\r\n                 modalVisible,\r\n                 formItems,\r\n                 selectedFormLocale,\r\n                 actionType,\r\n                 form: {\r\n                   getFieldDecorator,\r\n                   validateFields,\r\n                   getFieldsValue,\r\n                 },\r\n               }) => {\r\n\r\n  const handleOk = () => {\r\n    validateFields((errors) => {\r\n      if (errors) {\r\n        for (let i in errors) {\r\n          if (i === \"titleEn\" || i === \"descriptionEn\") {\r\n            return onFormLocale(locales[0])\r\n          }\r\n        }\r\n        return;\r\n      }\r\n      let formData = getFieldsValue();\r\n      formData['titleRu'] = formData['titleRu'] === undefined ? formData['titleEn'] : formData['titleRu'];\r\n      formData['titleUz'] = formData['titleUz'] === undefined ? formData['titleEn'] : formData['titleUz'];\r\n      formData['descriptionRu'] = formData['descriptionRu'] === undefined ? formData['descriptionEn'] : formData['descriptionRu'];\r\n      formData['descriptionUz'] = formData['descriptionUz'] === undefined ? formData['descriptionEn'] : formData['descriptionUz'];\r\n      formData['isView'] = actionType === \"create\" ? true : currentItem.isView;\r\n      formData['file'] = file === null ? {} : file.file;\r\n      formData['fileUpload'] = true;\r\n      if (actionType === \"update\") {\r\n        formData['id'] = currentItem.id;\r\n        if (file && file.fileStatus === \"delete\") {\r\n          formData['file'] = {};\r\n        }\r\n        if (file && file.fileStatus === \"create\") {\r\n          formData['fileId'] = currentItem.attachment && currentItem.attachment.id;\r\n        }\r\n        if (file && !file.fileStatus) {\r\n          formData['file'] = {};\r\n          formData['fileId'] = currentItem.fileId && currentItem.fileId.id;\r\n        }\r\n      }\r\n      onSubmit(formData)\r\n    })\r\n  };\r\n\r\n  const dynamicFormItems = formItems.map((formItem) =>\r\n    <Col {...ColProps} key={formItem.name}\r\n         hidden={!(formItem.locale === null || formItem.locale === selectedFormLocale.locale)}>\r\n      <FormItem label={<Fragment>{formItem.locale !== null &&\r\n      <i className=\"vertical-align-middle icon icon-check-circle-o mr-1\"/>}{formItem.label}</Fragment>}\r\n                className=\"mb-0 \" hasFeedback {...formItemLayout}>\r\n        {getFieldDecorator(formItem.name, {\r\n          initialValue: currentItem[formItem.name],\r\n          ...formItem\r\n        })(formItem.obj)}\r\n      </FormItem>\r\n    </Col>\r\n  );\r\n  const languageMenu = () => (\r\n    <div className=\"gx-popover-lang-scroll overflow-hidden\">\r\n      <ul className=\"gx-sub-popover\">\r\n        {locales.map(language =>\r\n          <li className=\"gx-media gx-pointer\" key={JSON.stringify(language)}\r\n              onClick={(e) => onFormLocale(language)}>\r\n            <i className={`flag flag-24 gx-mr-2 flag-${language.icon}`}/>\r\n            <span className=\"gx-language-text\">{language.name}</span>\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </div>);\r\n\r\n\r\n  return (\r\n    <Modal\r\n      visible={modalVisible}\r\n      title={actionType === \"create\" ? intlMessages({\r\n        en: \"Create new vacancy\",\r\n        ru: \"Создать новый вакансии\",\r\n        uz: \"Yangi bo'sh ish o'rni yaratish\"\r\n      }) : intlMessages({en: \"Update vacancy\", ru: \"Изменить вакансии\", uz: \"Bo'sh ish o'rnini tahrirlash\"})}\r\n      onOk={handleOk}\r\n      destroyOnClose={true}\r\n      width={700}\r\n      onCancel={onCancel}\r\n      wrapClassName={'vertical-center-modal'}\r\n      cancelText={<IntlMessages id={'cancel'}/>}\r\n      okText={<IntlMessages id={'save'}/>}>\r\n      <Form layout=\"horizontal\">\r\n        <Row gutter={24}>\r\n          <Col span={24}>\r\n            <div className=\"#\">\r\n              <ul className=\"gx-header-notifications gx-ml-auto\">\r\n                <li className=\"gx-language\">\r\n                  <Popover overlayClassName=\"gx-popover-horizantal\" placement=\"bottomRight\"\r\n                           content={languageMenu()} trigger=\"click\">\r\n              <span className=\"gx-pointer gx-flex-row gx-align-items-center\">\r\n                <i className={`flag flag-24 flag-${selectedFormLocale.icon}`}/>\r\n                <span className={'gx-pl-2'}>{selectedFormLocale.name}</span>\r\n                <i className={'icon icon-chevron-down gx-pl-2 d-block'}/>\r\n              </span>\r\n                  </Popover>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Col>\r\n          {dynamicFormItems}\r\n          {/*       <FileUpload\r\n                        name={'file'}\r\n                        title={<IntlMessages id={'file'}/>}\r\n                        types={[\"image/jpeg\",\r\n                            \"image/png\",\r\n                            \"image/jpg\"]}\r\n                        size={50}\r\n                        file={file}\r\n                        onChangeFile={onChangeFile}\r\n                        formItemLayout={formItemLayout}\r\n                        colLayout={ColProps}\r\n                    />*/}\r\n        </Row>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n};\r\n\r\nmodal.propTypes = {\r\n  form: PropTypes.object.isRequired,\r\n  type: PropTypes.string,\r\n  item: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Form.create()(modal)\r\n"]},"metadata":{},"sourceType":"module"}