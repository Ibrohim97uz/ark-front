{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import React from'react';import{Form}from'antd/lib/index';import IntlMessages from\"util/IntlMessages\";import{FileUpload}from\"../../../../../../components/CustomComponents\";import{Button,Card,Col}from\"antd\";var FormItem=Form.Item;var formItemLayout={labelCol:{span:24},wrapperCol:{span:24}};var ColProps={span:12,offset:6};var ColPropsAsFile={span:6,offset:9};var UserInfo=function UserInfo(_ref){var currentItem=_ref.currentItem,onSubmit=_ref.onSubmit,formItems=_ref.formItems,onChangeFile=_ref.onChangeFile,file=_ref.file,_ref$form=_ref.form,getFieldDecorator=_ref$form.getFieldDecorator,validateFields=_ref$form.validateFields,getFieldsValue=_ref$form.getFieldsValue;var handleSubmit=function handleSubmit(e){e.preventDefault();validateFields(function(errors){if(errors){return;}var formData=getFieldsValue();formData['id']=currentItem.id;formData['file']=file===null?{}:file.file;formData['type']=true;formData['fileUpload']=true;formData['password']=formData['nowPassword'];if(file&&file.fileStatus===\"delete\"){formData['file']={};}if(file&&file.fileStatus===\"create\"){formData['photoId']=currentItem.photo&&currentItem.photo.id;}if(file&&!file.fileStatus){formData['file']={};formData['photoId']=currentItem.photo&&currentItem.photo.id;}onSubmit(formData);});};var dynamicFormItems=formItems.map(function(formItem){return/*#__PURE__*/React.createElement(Col,Object.assign({},ColProps,{key:formItem.name}),/*#__PURE__*/React.createElement(FormItem,Object.assign({className:\"mb-0\",label:formItem.label,hasFeedback:true},formItemLayout),getFieldDecorator(formItem.name,_objectSpread({initialValue:currentItem[formItem.name]},formItem))(formItem.obj)));});return/*#__PURE__*/React.createElement(Card,{className:\"h-100 page-info\"},/*#__PURE__*/React.createElement(Form,{layout:\"horizontal\",onSubmit:handleSubmit},/*#__PURE__*/React.createElement(Col,ColProps,/*#__PURE__*/React.createElement(FileUpload,{name:\"file\",colLayout:ColPropsAsFile,title:/*#__PURE__*/React.createElement(IntlMessages,{id:'attachment'}),types:[\"image/jpeg\",\"image/png\",\"image/jpg\"],size:50,file:file,onChangeFile:onChangeFile,formItemLayout:formItemLayout})),dynamicFormItems,/*#__PURE__*/React.createElement(Col,Object.assign({},ColProps,{className:'mt-3'}),/*#__PURE__*/React.createElement(Button,{type:\"primary\",htmlType:\"submit\",className:\"btn-block\"},/*#__PURE__*/React.createElement(IntlMessages,{id:'updateInfo'})))));};export default Form.create()(UserInfo);","map":{"version":3,"sources":["C:/Users/Ibrohim/Desktop/ark-front/src/routes/routesManagers/settings/profile/info/components/UserInfo.js"],"names":["React","Form","IntlMessages","FileUpload","Button","Card","Col","FormItem","Item","formItemLayout","labelCol","span","wrapperCol","ColProps","offset","ColPropsAsFile","UserInfo","currentItem","onSubmit","formItems","onChangeFile","file","form","getFieldDecorator","validateFields","getFieldsValue","handleSubmit","e","preventDefault","errors","formData","id","fileStatus","photo","dynamicFormItems","map","formItem","name","label","initialValue","obj","create"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {Form} from 'antd/lib/index'\r\nimport IntlMessages from \"util/IntlMessages\";\r\nimport {FileUpload} from \"../../../../../../components/CustomComponents\";\r\nimport {Button, Card, Col} from \"antd\";\r\n\r\nconst FormItem = Form.Item;\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    span: 24,\r\n  },\r\n  wrapperCol: {\r\n    span: 24,\r\n  },\r\n};\r\nconst ColProps = {\r\n  span: 12,\r\n  offset: 6\r\n};\r\n\r\nconst ColPropsAsFile = {\r\n  span: 6,\r\n  offset: 9\r\n};\r\n\r\nconst UserInfo = ({\r\n                    currentItem,\r\n                    onSubmit,\r\n                    formItems,\r\n                    onChangeFile,\r\n                    file,\r\n                    form: {\r\n                      getFieldDecorator,\r\n                      validateFields,\r\n                      getFieldsValue,\r\n                    },\r\n                  }) => {\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    validateFields((errors) => {\r\n      if (errors) {\r\n        return\r\n      }\r\n      let formData = getFieldsValue();\r\n      formData['id'] = currentItem.id;\r\n      formData['file'] = file === null ? {} : file.file;\r\n      formData['type'] = true;\r\n      formData['fileUpload'] = true;\r\n      formData['password'] = formData['nowPassword'];\r\n      if (file && file.fileStatus === \"delete\") {\r\n        formData['file'] = {};\r\n      }\r\n      if (file && file.fileStatus === \"create\") {\r\n        formData['photoId'] = currentItem.photo && currentItem.photo.id;\r\n      }\r\n      if (file && !file.fileStatus) {\r\n        formData['file'] = {};\r\n        formData['photoId'] = currentItem.photo && currentItem.photo.id;\r\n      }\r\n      onSubmit(formData)\r\n    })\r\n  };\r\n\r\n  const dynamicFormItems = formItems.map((formItem) =>\r\n    <Col {...ColProps} key={formItem.name}>\r\n      <FormItem className=\"mb-0\" label={formItem.label} hasFeedback {...formItemLayout}>\r\n        {getFieldDecorator(formItem.name, {\r\n          initialValue: currentItem[formItem.name],\r\n          ...formItem\r\n        })(formItem.obj)}\r\n      </FormItem>\r\n    </Col>\r\n  );\r\n\r\n  return (\r\n    <Card className=\"h-100 page-info\">\r\n      <Form layout=\"horizontal\" onSubmit={handleSubmit}>\r\n        <Col {...ColProps}>\r\n          <FileUpload\r\n            name={\"file\"}\r\n            colLayout={ColPropsAsFile}\r\n            title={<IntlMessages id={'attachment'}/>}\r\n            types={[\"image/jpeg\",\r\n              \"image/png\",\r\n              \"image/jpg\"]}\r\n            size={50}\r\n            file={file}\r\n            onChangeFile={onChangeFile}\r\n            formItemLayout={formItemLayout}\r\n          />\r\n        </Col>\r\n        {dynamicFormItems}\r\n        <Col {...ColProps} className={'mt-3'}>\r\n          <Button type=\"primary\" htmlType=\"submit\" className=\"btn-block\">\r\n            <IntlMessages id={'updateInfo'}/>\r\n          </Button>\r\n        </Col>\r\n      </Form>\r\n    </Card>\r\n  )\r\n};\r\n\r\nUserInfo.propTypes = {\r\n  form: PropTypes.object.isRequired,\r\n  type: PropTypes.string,\r\n  item: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Form.create()(UserInfo)\r\n"]},"metadata":{},"sourceType":"module"}