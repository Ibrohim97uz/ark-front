{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import React,{Fragment}from'react';import{Form,Modal,Popover,Row,Select,Switch}from'antd/lib/index';import IntlMessages,{intlMessages}from\"../../../../../util/IntlMessages\";import config from\"../../../../../util/config\";import{Col}from\"antd\";import{FileUpload}from\"../../../../../components/CustomComponents\";var locales=config.locales;var Option=Select.Option;var FormItem=Form.Item;var formItemLayout={labelCol:{xs:24,justify:\"center\"},wrapperCol:{justify:\"center\",xs:24}};var ColProps={xs:24,sm:24,md:12,xl:12,ld:12};var ColProps2={xs:24,sm:24,md:6,xl:6,ld:6};var modal=function modal(_ref){var currentItem=_ref.currentItem,onFormLocale=_ref.onFormLocale,onSubmit=_ref.onSubmit,onCancel=_ref.onCancel,onChangeFile=_ref.onChangeFile,modalVisible=_ref.modalVisible,formItems=_ref.formItems,regions=_ref.regions,districts=_ref.districts,positionTypes=_ref.positionTypes,selectedFormLocale=_ref.selectedFormLocale,actionType=_ref.actionType,file=_ref.file,getDistrictByRegionId=_ref.getDistrictByRegionId,_ref$form=_ref.form,getFieldDecorator=_ref$form.getFieldDecorator,validateFields=_ref$form.validateFields,getFieldsValue=_ref$form.getFieldsValue;var handleOk=function handleOk(){validateFields(function(errors){if(errors){for(var i in errors){if(i===\"firstNameEn\"||i===\"lastNameEn\"||i===\"middleNameEn\"||i===\"tariffEn\"){return onFormLocale(locales[0]);}}return;}var formData=getFieldsValue();formData['firstNameRu']=formData['firstNameRu']===undefined?formData['firstNameEn']:formData['firstNameRu'];formData['lastNameRu']=formData['lastNameRu']===undefined?formData['lastNameEn']:formData['lastNameRu'];formData['middleNameRu']=formData['middleNameRu']===undefined?formData['middleNameEn']:formData['middleNameRu'];formData['tariffRu']=formData['tariffRu']===undefined?formData['tariffEn']:formData['tariffRu'];formData['firstNameUz']=formData['firstNameUz']===undefined?formData['firstNameEn']:formData['firstNameUz'];formData['lastNameUz']=formData['lastNameUz']===undefined?formData['lastNameEn']:formData['lastNameUz'];formData['middleNameUz']=formData['middleNameUz']===undefined?formData['middleNameEn']:formData['middleNameUz'];formData['tariffUz']=formData['tariffUz']===undefined?formData['tariffEn']:formData['tariffUz'];formData['isStatus']=formData['isStatus']===undefined?true:formData['isStatus'];formData['file']=file.file;formData['fileUpload']=true;if(actionType===\"update\"){formData['id']=currentItem.id;formData['addressId']=currentItem.address.id;if(file&&file.fileStatus===\"update\")delete formData['fileId'];if(file&&file.fileStatus===\"delete\"){delete formData['fileId'];formData['file']={};}if(file&&!file.fileStatus){formData['file']={};formData['fileId']=currentItem.attachment&&currentItem.attachment.id;}}onSubmit(formData);});};var dynamicFormItems=formItems.map(function(formItem){return/*#__PURE__*/React.createElement(Col,Object.assign({},ColProps,{key:formItem.name,hidden:!(formItem.locale===null||formItem.locale===selectedFormLocale.locale)}),/*#__PURE__*/React.createElement(FormItem,Object.assign({label:/*#__PURE__*/React.createElement(Fragment,null,formItem.locale!==null&&/*#__PURE__*/React.createElement(\"i\",{className:\"vertical-align-middle icon icon-check-circle-o mr-1\"}),formItem.label),className:\"mb-0 \",hasFeedback:true},formItemLayout),getFieldDecorator(formItem.name,_objectSpread({initialValue:formItem.name===\"streetAndHome\"?currentItem.address&&currentItem.address.streetAndHome:currentItem[formItem.name]},formItem))(formItem.obj)));});var languageMenu=function languageMenu(){return/*#__PURE__*/React.createElement(\"div\",{className:\"gx-popover-lang-scroll overflow-hidden\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"gx-sub-popover\"},locales.map(function(language){return/*#__PURE__*/React.createElement(\"li\",{className:\"gx-media gx-pointer\",key:JSON.stringify(language),onClick:function onClick(e){return onFormLocale(language);}},/*#__PURE__*/React.createElement(\"i\",{className:\"flag flag-24 gx-mr-2 flag-\".concat(language.icon)}),/*#__PURE__*/React.createElement(\"span\",{className:\"gx-language-text\"},language.name));})));};var regionList=regions.map(function(item){return/*#__PURE__*/React.createElement(Option,{value:item.id,key:item.id},intlMessages({en:item.nameEn,ru:item.nameRu,uz:item.nameUz}));});var districtList=districts.map(function(item){return/*#__PURE__*/React.createElement(Option,{value:item.id,key:item.id},intlMessages({en:item.nameEn,ru:item.nameRu,uz:item.nameUz}));});var positionTypeList=positionTypes.map(function(item){return/*#__PURE__*/React.createElement(Option,{value:item.id,key:item.id},intlMessages({en:item.nameEn,ru:item.nameRu,uz:item.nameUz}));});return/*#__PURE__*/React.createElement(Modal,{visible:modalVisible,title:actionType===\"create\"?intlMessages({en:\"Create new employee\",ru:\"Создать нового сотрудника\",uz:\"Yangi xodim yaratish\"}):intlMessages({en:\"Update employee\",ru:\"Изменить сотрудника\",uz:\"Xodimni tahrirlash\"}),onOk:handleOk,width:800,bodyStyle:{height:550,overflowY:\"auto\"},style:{top:20},destroyOnClose:true,onCancel:onCancel,cancelText:/*#__PURE__*/React.createElement(IntlMessages,{id:'cancel'}),okText:/*#__PURE__*/React.createElement(IntlMessages,{id:'save'})},/*#__PURE__*/React.createElement(Form,{layout:\"horizontal\",className:\"text-left\"},/*#__PURE__*/React.createElement(Row,{gutter:24},/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(\"div\",{className:\"#\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"gx-header-notifications gx-ml-auto\"},/*#__PURE__*/React.createElement(\"li\",{className:\"gx-language\"},/*#__PURE__*/React.createElement(Popover,{overlayClassName:\"gx-popover-horizantal\",placement:\"bottomRight\",content:languageMenu(),trigger:\"click\"},/*#__PURE__*/React.createElement(\"span\",{className:\"gx-pointer gx-flex-row gx-align-items-center\"},/*#__PURE__*/React.createElement(\"i\",{className:\"flag flag-24 flag-\".concat(selectedFormLocale.icon)}),/*#__PURE__*/React.createElement(\"span\",{className:'gx-pl-2'},selectedFormLocale.name),/*#__PURE__*/React.createElement(\"i\",{className:'icon icon-chevron-down gx-pl-2 d-block'}))))))),dynamicFormItems,/*#__PURE__*/React.createElement(Col,ColProps,/*#__PURE__*/React.createElement(FormItem,Object.assign({key:\"regionId\",className:\"mb-0\",label:/*#__PURE__*/React.createElement(IntlMessages,{id:\"region\"}),hasFeedback:true},formItemLayout),getFieldDecorator('regionId',{initialValue:currentItem&&currentItem.address&&currentItem.address.region&&currentItem.address.region.id,rules:[{required:true,message:/*#__PURE__*/React.createElement(IntlMessages,{id:\"E_ERROR\"})}]})(/*#__PURE__*/React.createElement(Select,{name:\"regionId\",placeholder:intlMessages({en:\"Select region\",ru:\"Выберите регион\",uz:\"Viloyatni tanlang\"}),allowClear:true,onSelect:getDistrictByRegionId,showSearch:true,optionFilterProp:\"children\",filterOption:function filterOption(input,option){return option.props.children.toLowerCase().indexOf(input.toLowerCase())>=0;}},regionList)))),/*#__PURE__*/React.createElement(Col,ColProps,/*#__PURE__*/React.createElement(FormItem,Object.assign({key:\"districtId\",className:\"mb-0\",label:/*#__PURE__*/React.createElement(IntlMessages,{id:\"district\"}),hasFeedback:true},formItemLayout),getFieldDecorator('districtId',{initialValue:currentItem&&currentItem.address&&currentItem.address.district&&currentItem.address.district.id,rules:[{required:true,message:/*#__PURE__*/React.createElement(IntlMessages,{id:\"E_ERROR\"})}]})(/*#__PURE__*/React.createElement(Select,{name:\"districtId\",placeholder:intlMessages({en:\"Select district\",ru:\"Выберите район\",uz:\"Tumanni tanlang\"}),allowClear:true,disabled:districts.length===0,showSearch:true,optionFilterProp:\"children\",filterOption:function filterOption(input,option){return option.props.children.toLowerCase().indexOf(input.toLowerCase())>=0;}},districtList)))),/*#__PURE__*/React.createElement(Col,ColProps,/*#__PURE__*/React.createElement(FormItem,Object.assign({key:\"positionTypeId\",className:\"mb-0\",label:/*#__PURE__*/React.createElement(IntlMessages,{id:\"positionType\"}),hasFeedback:true},formItemLayout),getFieldDecorator('positionTypeId',{initialValue:currentItem&&currentItem.positionType&&currentItem.positionType.id,rules:[{required:true,message:/*#__PURE__*/React.createElement(IntlMessages,{id:\"E_ERROR\"})}]})(/*#__PURE__*/React.createElement(Select,{name:\"positionTypeId\",placeholder:intlMessages({en:\"Select position type\",ru:\"Выберите тип должность\",uz:\"Lavozim turini tanlang\"}),allowClear:true,showSearch:true,optionFilterProp:\"children\",filterOption:function filterOption(input,option){return option.props.children.toLowerCase().indexOf(input.toLowerCase())>=0;}},positionTypeList)))),/*#__PURE__*/React.createElement(FileUpload,{name:\"file\",title:/*#__PURE__*/React.createElement(IntlMessages,{id:\"file\"}),types:[\"image/jpeg\",\"image/png\",\"image/jpg\"],size:50,file:file,onChangeFile:onChangeFile,formItemLayout:formItemLayout,colLayout:ColProps2}),/*#__PURE__*/React.createElement(Col,ColProps2,/*#__PURE__*/React.createElement(FormItem,Object.assign({key:\"isStatus\",className:\"mb-0\",label:/*#__PURE__*/React.createElement(IntlMessages,{id:\"status\"}),hasFeedback:true},formItemLayout),getFieldDecorator('isStatus',{initialValue:actionType===\"create\"?true:currentItem&&currentItem.isStatus,valuePropName:\"checked\"})(/*#__PURE__*/React.createElement(Switch,null)))))));};export default Form.create()(modal);","map":{"version":3,"sources":["C:/Users/Ibrohim/Desktop/ark-front/src/routes/routesManagers/hr/staffs/components/Modal.js"],"names":["React","Fragment","Form","Modal","Popover","Row","Select","Switch","IntlMessages","intlMessages","config","Col","FileUpload","locales","Option","FormItem","Item","formItemLayout","labelCol","xs","justify","wrapperCol","ColProps","sm","md","xl","ld","ColProps2","modal","currentItem","onFormLocale","onSubmit","onCancel","onChangeFile","modalVisible","formItems","regions","districts","positionTypes","selectedFormLocale","actionType","file","getDistrictByRegionId","form","getFieldDecorator","validateFields","getFieldsValue","handleOk","errors","i","formData","undefined","id","address","fileStatus","attachment","dynamicFormItems","map","formItem","name","locale","label","initialValue","streetAndHome","obj","languageMenu","language","JSON","stringify","e","icon","regionList","item","en","nameEn","ru","nameRu","uz","nameUz","districtList","positionTypeList","height","overflowY","top","region","rules","required","message","input","option","props","children","toLowerCase","indexOf","district","length","positionType","isStatus","valuePropName","create"],"mappings":"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","sourcesContent":["import React, {Fragment} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {Form, Modal, Popover, Row, Select, Switch} from 'antd/lib/index'\r\nimport IntlMessages, {intlMessages} from \"../../../../../util/IntlMessages\";\r\nimport config from \"../../../../../util/config\";\r\nimport {Col} from \"antd\";\r\nimport {FileUpload} from \"../../../../../components/CustomComponents\";\r\n\r\nconst {locales} = config;\r\nconst Option = Select.Option;\r\nconst FormItem = Form.Item;\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: 24,\r\n    justify: \"center\"\r\n  },\r\n  wrapperCol: {\r\n    justify: \"center\",\r\n    xs: 24,\r\n  },\r\n};\r\nconst ColProps = {\r\n  xs: 24,\r\n  sm: 24,\r\n  md: 12,\r\n  xl: 12,\r\n  ld: 12\r\n};\r\nconst ColProps2 = {xs: 24, sm: 24, md: 6, xl: 6, ld: 6};\r\n\r\nconst modal = ({\r\n                 currentItem,\r\n                 onFormLocale,\r\n                 onSubmit,\r\n                 onCancel,\r\n                 onChangeFile,\r\n                 modalVisible,\r\n                 formItems,\r\n                 regions,\r\n                 districts,\r\n                 positionTypes,\r\n                 selectedFormLocale,\r\n                 actionType,\r\n                 file,\r\n                 getDistrictByRegionId,\r\n                 form: {\r\n                   getFieldDecorator,\r\n                   validateFields,\r\n                   getFieldsValue,\r\n                 },\r\n               }) => {\r\n\r\n  const handleOk = () => {\r\n    validateFields((errors) => {\r\n      if (errors) {\r\n        for (let i in errors) {\r\n          if (i === \"firstNameEn\" || i === \"lastNameEn\" || i === \"middleNameEn\" || i === \"tariffEn\") {\r\n            return onFormLocale(locales[0])\r\n          }\r\n        }\r\n        return\r\n      }\r\n      let formData = getFieldsValue();\r\n      formData['firstNameRu'] = formData['firstNameRu'] === undefined ? formData['firstNameEn'] : formData['firstNameRu'];\r\n      formData['lastNameRu'] = formData['lastNameRu'] === undefined ? formData['lastNameEn'] : formData['lastNameRu'];\r\n      formData['middleNameRu'] = formData['middleNameRu'] === undefined ? formData['middleNameEn'] : formData['middleNameRu'];\r\n      formData['tariffRu'] = formData['tariffRu'] === undefined ? formData['tariffEn'] : formData['tariffRu'];\r\n      formData['firstNameUz'] = formData['firstNameUz'] === undefined ? formData['firstNameEn'] : formData['firstNameUz'];\r\n      formData['lastNameUz'] = formData['lastNameUz'] === undefined ? formData['lastNameEn'] : formData['lastNameUz'];\r\n      formData['middleNameUz'] = formData['middleNameUz'] === undefined ? formData['middleNameEn'] : formData['middleNameUz'];\r\n      formData['tariffUz'] = formData['tariffUz'] === undefined ? formData['tariffEn'] : formData['tariffUz'];\r\n      formData['isStatus'] = formData['isStatus'] === undefined ? true : formData['isStatus'];\r\n      formData['file'] = file.file;\r\n      formData['fileUpload'] = true;\r\n      if (actionType === \"update\") {\r\n        formData['id'] = currentItem.id;\r\n        formData['addressId'] = currentItem.address.id;\r\n        if (file && file.fileStatus === \"update\")\r\n          delete formData['fileId'];\r\n        if (file && file.fileStatus === \"delete\") {\r\n          delete formData['fileId'];\r\n          formData['file'] = {};\r\n        }\r\n        if (file && !file.fileStatus) {\r\n          formData['file'] = {};\r\n          formData['fileId'] = currentItem.attachment && currentItem.attachment.id;\r\n        }\r\n      }\r\n      onSubmit(formData)\r\n    })\r\n  };\r\n\r\n  const dynamicFormItems = formItems.map((formItem) =>\r\n    <Col {...ColProps} key={formItem.name}\r\n         hidden={!(formItem.locale === null || formItem.locale === selectedFormLocale.locale)}>\r\n      <FormItem label={<Fragment>{formItem.locale !== null &&\r\n      <i className=\"vertical-align-middle icon icon-check-circle-o mr-1\"/>}{formItem.label}</Fragment>}\r\n                className=\"mb-0 \" hasFeedback {...formItemLayout}>\r\n        {getFieldDecorator(formItem.name, {\r\n          initialValue: formItem.name === \"streetAndHome\" ? currentItem.address &&\r\n            currentItem.address.streetAndHome : currentItem[formItem.name],\r\n          ...formItem\r\n        })(formItem.obj)}\r\n      </FormItem>\r\n    </Col>\r\n  );\r\n\r\n  const languageMenu = () => (\r\n    <div className=\"gx-popover-lang-scroll overflow-hidden\">\r\n      <ul className=\"gx-sub-popover\">\r\n        {locales.map(language =>\r\n          <li className=\"gx-media gx-pointer\" key={JSON.stringify(language)}\r\n              onClick={(e) => onFormLocale(language)}>\r\n            <i className={`flag flag-24 gx-mr-2 flag-${language.icon}`}/>\r\n            <span className=\"gx-language-text\">{language.name}</span>\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </div>);\r\n\r\n  const regionList = regions.map(item => {\r\n    return <Option value={item.id} key={item.id}>{intlMessages({\r\n      en: item.nameEn,\r\n      ru: item.nameRu,\r\n      uz: item.nameUz\r\n    })}</Option>\r\n  });\r\n\r\n  const districtList = districts.map(item => {\r\n    return <Option value={item.id} key={item.id}>{intlMessages({\r\n      en: item.nameEn,\r\n      ru: item.nameRu,\r\n      uz: item.nameUz\r\n    })}</Option>\r\n  });\r\n  const positionTypeList = positionTypes.map(item => {\r\n    return <Option value={item.id} key={item.id}>{intlMessages({\r\n      en: item.nameEn,\r\n      ru: item.nameRu,\r\n      uz: item.nameUz\r\n    })}</Option>\r\n  });\r\n\r\n  return (\r\n    <Modal\r\n      visible={modalVisible}\r\n      title={actionType === \"create\" ? intlMessages({\r\n        en: \"Create new employee\",\r\n        ru: \"Создать нового сотрудника\",\r\n        uz: \"Yangi xodim yaratish\"\r\n      }) : intlMessages({en: \"Update employee\", ru: \"Изменить сотрудника\", uz: \"Xodimni tahrirlash\"})}\r\n      onOk={handleOk}\r\n      width={800}\r\n      bodyStyle={{height: 550, overflowY: \"auto\"}}\r\n      style={{top: 20}}\r\n      destroyOnClose={true}\r\n      onCancel={onCancel}\r\n      cancelText={<IntlMessages id={'cancel'}/>}\r\n      okText={<IntlMessages id={'save'}/>}>\r\n      <Form layout=\"horizontal\" className=\"text-left\">\r\n        <Row gutter={24}>\r\n          <Col span={24}>\r\n            <div className=\"#\">\r\n              <ul className=\"gx-header-notifications gx-ml-auto\">\r\n                <li className=\"gx-language\">\r\n                  <Popover overlayClassName=\"gx-popover-horizantal\" placement=\"bottomRight\"\r\n                           content={languageMenu()} trigger=\"click\">\r\n                                        <span className=\"gx-pointer gx-flex-row gx-align-items-center\"><i\r\n                                          className={`flag flag-24 flag-${selectedFormLocale.icon}`}/><span\r\n                                          className={'gx-pl-2'}>{selectedFormLocale.name}</span><i\r\n                                          className={'icon icon-chevron-down gx-pl-2 d-block'}/></span>\r\n                  </Popover>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Col>\r\n\r\n          {dynamicFormItems}\r\n\r\n          <Col {...ColProps}>\r\n            <FormItem key=\"regionId\" className=\"mb-0\" label={<IntlMessages id=\"region\"/>}\r\n                      hasFeedback {...formItemLayout}>\r\n              {getFieldDecorator('regionId', {\r\n                initialValue: currentItem && currentItem.address && currentItem.address.region && currentItem.address.region.id,\r\n                rules: [{required: true, message: <IntlMessages id=\"E_ERROR\"/>}]\r\n              })\r\n              (<Select\r\n                name=\"regionId\"\r\n                placeholder={intlMessages({\r\n                  en: \"Select region\",\r\n                  ru: \"Выберите регион\",\r\n                  uz: \"Viloyatni tanlang\"\r\n                })}\r\n                allowClear\r\n                onSelect={getDistrictByRegionId}\r\n                showSearch\r\n                optionFilterProp=\"children\"\r\n                filterOption={(input, option) =>\r\n                  option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                }\r\n              >\r\n                {regionList}\r\n              </Select>,)\r\n              }\r\n            </FormItem>\r\n          </Col>\r\n          <Col {...ColProps}>\r\n            <FormItem key=\"districtId\" className=\"mb-0\" label={<IntlMessages id=\"district\"/>}\r\n                      hasFeedback {...formItemLayout}>\r\n              {getFieldDecorator('districtId', {\r\n                initialValue: currentItem && currentItem.address && currentItem.address.district && currentItem.address.district.id,\r\n                rules: [{required: true, message: <IntlMessages id=\"E_ERROR\"/>}]\r\n              })\r\n              (<Select\r\n                name=\"districtId\"\r\n                placeholder={intlMessages({\r\n                  en: \"Select district\",\r\n                  ru: \"Выберите район\",\r\n                  uz: \"Tumanni tanlang\"\r\n                })}\r\n                allowClear\r\n                disabled={districts.length === 0}\r\n                showSearch\r\n                optionFilterProp=\"children\"\r\n                filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\r\n              >\r\n                {districtList}\r\n              </Select>)\r\n              }\r\n            </FormItem>\r\n          </Col>\r\n          <Col {...ColProps}>\r\n            <FormItem key=\"positionTypeId\" className=\"mb-0\" label={<IntlMessages id=\"positionType\"/>}\r\n                      hasFeedback {...formItemLayout}>\r\n              {getFieldDecorator('positionTypeId', {\r\n                initialValue: currentItem && currentItem.positionType && currentItem.positionType.id,\r\n                rules: [{required: true, message: <IntlMessages id=\"E_ERROR\"/>}]\r\n              })\r\n              (<Select\r\n                name=\"positionTypeId\"\r\n                placeholder={intlMessages({\r\n                  en: \"Select position type\",\r\n                  ru: \"Выберите тип должность\",\r\n                  uz: \"Lavozim turini tanlang\"\r\n                })}\r\n                allowClear\r\n                showSearch\r\n                optionFilterProp=\"children\"\r\n                filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\r\n              >\r\n                {positionTypeList}\r\n              </Select>)}\r\n            </FormItem>\r\n          </Col>\r\n          <FileUpload\r\n            name={\"file\"}\r\n            title={<IntlMessages id=\"file\"/>}\r\n            types={[\"image/jpeg\",\r\n              \"image/png\",\r\n              \"image/jpg\"]}\r\n            size={50}\r\n            file={file}\r\n            onChangeFile={onChangeFile}\r\n            formItemLayout={formItemLayout}\r\n            colLayout={ColProps2}\r\n          />\r\n          <Col {...ColProps2}>\r\n            <FormItem key=\"isStatus\" className=\"mb-0\" label={<IntlMessages id=\"status\"/>}\r\n                      hasFeedback {...formItemLayout}>\r\n              {getFieldDecorator('isStatus', {\r\n                initialValue: actionType === \"create\" ? true : currentItem && currentItem.isStatus,\r\n                valuePropName: \"checked\"\r\n              })\r\n              (<Switch/>)\r\n              }\r\n            </FormItem>\r\n          </Col>\r\n\r\n        </Row>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n};\r\n\r\nmodal.propTypes = {\r\n  form: PropTypes.object.isRequired,\r\n  type: PropTypes.string,\r\n  item: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Form.create()(modal)\r\n"]},"metadata":{},"sourceType":"module"}