{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import React from'react';import{Col,Form,Modal,Switch}from'antd/lib/index';import IntlMessages from\"util/IntlMessages\";import{intlMessages}from\"../../../../../util/IntlMessages\";import{FileUpload}from\"../../../../../components/CustomComponents\";var FormItem=Form.Item;var formItemLayout={labelCol:{span:24},wrapperCol:{span:24}};var modal=function modal(_ref){var currentItem=_ref.currentItem,onSubmit=_ref.onSubmit,onCancel=_ref.onCancel,modalVisible=_ref.modalVisible,actionType=_ref.actionType,formItems=_ref.formItems,onChangeFile=_ref.onChangeFile,file=_ref.file,_ref$form=_ref.form,getFieldDecorator=_ref$form.getFieldDecorator,validateFields=_ref$form.validateFields,getFieldsValue=_ref$form.getFieldsValue;var handleOk=function handleOk(){validateFields(function(errors){if(errors){return;}var formData=getFieldsValue();formData['enabled']=formData['enabled']===undefined?true:formData['enabled'];formData['file']=file===null?{}:file.file;formData['fileUpload']=true;if(actionType===\"update\"){formData['id']=currentItem.id;if(file&&file.fileStatus===\"update\")delete formData['fileId'];if(file&&file.fileStatus===\"delete\"){delete formData['fileId'];formData['file']={};}if(file&&!file.fileStatus){formData['file']={};formData['fileId']=currentItem.attachment&&currentItem.attachment.id;}}onSubmit(formData);});};var dynamicFormItems=formItems.map(function(formItem){return/*#__PURE__*/React.createElement(FormItem,Object.assign({key:formItem.name,className:\"mb-0\",label:formItem.label,hasFeedback:true},formItemLayout),getFieldDecorator(formItem.name,_objectSpread({initialValue:currentItem[formItem.name]},formItem))(formItem.obj));});return/*#__PURE__*/React.createElement(Modal,{visible:modalVisible,title:actionType===\"create\"?intlMessages({en:\"Create new moderator\",ru:\"Создать новую модератор\",uz:\"Yangi moderator yaratish\"}):intlMessages({en:\"Update moderator\",ru:\"Изменить модератор\",uz:\"Moderatorni tahrirlash\"}),onOk:handleOk,destroyOnClose:true,onCancel:onCancel,maskClosable:true,wrapClassName:'vertical-center-modal',cancelText:/*#__PURE__*/React.createElement(IntlMessages,{id:'cancel'}),okText:/*#__PURE__*/React.createElement(IntlMessages,{id:'save'})},/*#__PURE__*/React.createElement(Form,{layout:\"horizontal\"},dynamicFormItems,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormItem,Object.assign({key:\"enabled\",className:\"mb-0\",label:/*#__PURE__*/React.createElement(IntlMessages,{id:\"enabled\"}),hasFeedback:true},formItemLayout),getFieldDecorator('enabled',{initialValue:actionType===\"create\"?true:currentItem&&currentItem.enabled,valuePropName:\"checked\"})(/*#__PURE__*/React.createElement(Switch,null)))),/*#__PURE__*/React.createElement(FileUpload,{name:\"file\",title:/*#__PURE__*/React.createElement(IntlMessages,{id:'file'}),types:[\"image/jpeg\",\"image/png\",\"image/jpg\"],size:50,file:file,onChangeFile:onChangeFile,formItemLayout:formItemLayout})));};export default Form.create()(modal);","map":{"version":3,"sources":["C:/Users/Ibrohim/Desktop/ark-front/src/routes/routesManagers/settings/moderators/components/Modal.js"],"names":["React","Col","Form","Modal","Switch","IntlMessages","intlMessages","FileUpload","FormItem","Item","formItemLayout","labelCol","span","wrapperCol","modal","currentItem","onSubmit","onCancel","modalVisible","actionType","formItems","onChangeFile","file","form","getFieldDecorator","validateFields","getFieldsValue","handleOk","errors","formData","undefined","id","fileStatus","attachment","dynamicFormItems","map","formItem","name","label","initialValue","obj","en","ru","uz","enabled","valuePropName","create"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {Col, Form, Modal, Switch,} from 'antd/lib/index'\r\nimport IntlMessages from \"util/IntlMessages\";\r\nimport {intlMessages} from \"../../../../../util/IntlMessages\";\r\nimport {FileUpload} from \"../../../../../components/CustomComponents\";\r\n\r\nconst FormItem = Form.Item;\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    span: 24,\r\n  },\r\n  wrapperCol: {\r\n    span: 24,\r\n  },\r\n};\r\nconst modal = ({\r\n                 currentItem,\r\n                 onSubmit,\r\n                 onCancel,\r\n                 modalVisible,\r\n                 actionType,\r\n                 formItems,\r\n                 onChangeFile,\r\n                 file,\r\n                 form: {\r\n                   getFieldDecorator,\r\n                   validateFields,\r\n                   getFieldsValue,\r\n                 },\r\n               }) => {\r\n  const handleOk = () => {\r\n    validateFields((errors) => {\r\n      if (errors) {\r\n        return\r\n      }\r\n      let formData = getFieldsValue();\r\n      formData['enabled'] = formData['enabled'] === undefined ? true : formData['enabled'];\r\n      formData['file'] = file === null ? {} : file.file;\r\n      formData['fileUpload'] = true;\r\n      if (actionType === \"update\") {\r\n        formData['id'] = currentItem.id;\r\n        if (file && file.fileStatus === \"update\")\r\n          delete formData['fileId'];\r\n        if (file && file.fileStatus === \"delete\") {\r\n          delete  formData['fileId'];\r\n          formData['file'] = {};\r\n        }\r\n        if (file && !file.fileStatus) {\r\n          formData['file'] = {};\r\n          formData['fileId'] = currentItem.attachment && currentItem.attachment.id;\r\n        }\r\n      }\r\n      onSubmit(formData)\r\n    })\r\n  };\r\n\r\n  const dynamicFormItems = formItems.map((formItem) =>\r\n    <FormItem key={formItem.name} className=\"mb-0\" label={formItem.label} hasFeedback {...formItemLayout}>\r\n      {getFieldDecorator(formItem.name, {\r\n        initialValue: currentItem[formItem.name],\r\n        ...formItem\r\n      })(formItem.obj)}\r\n    </FormItem>\r\n  );\r\n\r\n  return (\r\n    <Modal\r\n      visible={modalVisible}\r\n      title={actionType === \"create\" ? intlMessages({\r\n        en: \"Create new moderator\",\r\n        ru: \"Создать новую модератор\",\r\n        uz: \"Yangi moderator yaratish\"\r\n      }) : intlMessages({en: \"Update moderator\", ru: \"Изменить модератор\", uz: \"Moderatorni tahrirlash\"})}\r\n      onOk={handleOk}\r\n      destroyOnClose={true}\r\n      onCancel={onCancel}\r\n      maskClosable={true}\r\n      wrapClassName={'vertical-center-modal'}\r\n      cancelText={<IntlMessages id={'cancel'}/>}\r\n      okText={<IntlMessages id={'save'}/>}>\r\n      <Form layout=\"horizontal\">\r\n        {dynamicFormItems}\r\n\r\n        <Col>\r\n          <FormItem key=\"enabled\" className=\"mb-0\" label={<IntlMessages id=\"enabled\"/>}\r\n                    hasFeedback {...formItemLayout}>\r\n\r\n            {getFieldDecorator('enabled', {\r\n              initialValue: actionType === \"create\" ? true : currentItem && currentItem.enabled,\r\n              valuePropName: \"checked\"\r\n            })\r\n            (<Switch/>)\r\n            }\r\n          </FormItem>\r\n        </Col>\r\n        <FileUpload\r\n          name={\"file\"}\r\n          title={<IntlMessages id={'file'}/>}\r\n          types={[\"image/jpeg\",\r\n            \"image/png\",\r\n            \"image/jpg\"]}\r\n          size={50}\r\n          file={file}\r\n          onChangeFile={onChangeFile}\r\n          formItemLayout={formItemLayout}\r\n        />\r\n      </Form>\r\n    </Modal>\r\n  )\r\n};\r\n\r\nmodal.propTypes = {\r\n  form: PropTypes.object.isRequired,\r\n  type: PropTypes.string,\r\n  item: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Form.create()(modal)\r\n"]},"metadata":{},"sourceType":"module"}