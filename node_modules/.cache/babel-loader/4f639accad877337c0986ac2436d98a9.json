{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\src\\\\routes\\\\routesManagers\\\\hr\\\\resume\\\\index.js\";\nimport React, { Component } from 'react';\nimport { Button, Card, Icon, Modal, notification } from \"antd\";\nimport List from \"./components/List\";\nimport IntlMessages, { intlMessages } from \"../../../../util/IntlMessages\";\nimport ApiRequest from \"../../../../services\";\nimport api from '../../../../services/app';\nvar getResume = api.getResume,\n    deleteResume = api.deleteResume;\n\nvar Resume = /*#__PURE__*/function (_Component) {\n  _inherits(Resume, _Component);\n\n  var _super = _createSuper(Resume);\n\n  function Resume(props) {\n    var _this;\n\n    _classCallCheck(this, Resume);\n\n    _this = _super.call(this, props);\n\n    _this.onDownloadFile = function (id, fileId) {\n      ApiRequest(\"\".concat(getResume, \"/\").concat(id, \"/\").concat(fileId)).then(function (result) {\n        if (result.success) {\n          var a = document.createElement(\"a\");\n          a.href = result.object;\n          document.body.appendChild(a);\n          a.target = \"_blank\";\n          a.click();\n          document.body.removeChild(a);\n        }\n      });\n    };\n\n    _this.getResume = function () {\n      ApiRequest(getResume).then(function (result) {\n        if (result.success) {\n          _this.setState(function (state, props) {\n            return {\n              list: result.object,\n              pagination: _objectSpread(_objectSpread({}, state.pagination), {}, {\n                total: result.object.totalElements\n              })\n            };\n          });\n        }\n      });\n    };\n\n    _this.onRequestFunc = function (path, data, message) {\n      ApiRequest(path, data).then(function (result) {\n        if (result.success) {\n          notification.success({\n            key: message.key,\n            message: message.messageSuccess,\n            description: message.descriptionSuccess\n          });\n\n          _this.getResume();\n        } else {\n          notification.error({\n            key: message.key,\n            message: message.messageError,\n            description: message.descriptionError\n          });\n        }\n      });\n    };\n\n    _this.onDelete = function (dataItemId) {\n      var message = {\n        key: \"delete\",\n        messageError: intlMessages({\n          en: \"There was an error deleting\",\n          ru: \"Произошла ошибка при удалении\",\n          uz: \"O'chirishda xatolik yuz berdi\"\n        }),\n        messageSuccess: intlMessages({\n          en: \"Successfully deleted\",\n          ru: \"Успешно удален\",\n          uz: \"Muvaffaqiyatli o'chirildi\"\n        })\n      };\n\n      _this.onRequestFunc(deleteResume, {\n        id: dataItemId\n      }, message);\n    };\n\n    _this.onChange = function (page) {\n      _this.setState(function (state, props) {\n        return {\n          pagination: _objectSpread(_objectSpread({}, state.pagination), {}, {\n            current: page\n          })\n        };\n      });\n\n      _this.onStartEvent({\n        page: page - 1\n      });\n    };\n\n    _this.onShowSizeChange = function (current, size) {\n      _this.onStartEvent({\n        page: current - 1,\n        size: size\n      });\n\n      _this.setState(function (state, props) {\n        return {\n          pagination: _objectSpread(_objectSpread({}, state.pagination), {}, {\n            current: current,\n            pageSize: size\n          })\n        };\n      });\n    };\n\n    _this.state = {\n      columns: [{\n        title: /*#__PURE__*/React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 14,\n            columnNumber: 18\n          }\n        }, \"\\u2116\"),\n        key: \"№\",\n        width: 60,\n        render: function render(text, record, index) {\n          return index + 1;\n        }\n      }, {\n        title: /*#__PURE__*/React.createElement(IntlMessages, {\n          id: 'fullName',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 18\n          }\n        }),\n        key: \"fullName\",\n        dataIndex: \"fullName\"\n      }, {\n        title: /*#__PURE__*/React.createElement(IntlMessages, {\n          id: 'email',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 18\n          }\n        }),\n        key: \"email\",\n        dataIndex: \"email\"\n      }, {\n        title: /*#__PURE__*/React.createElement(IntlMessages, {\n          id: 'phoneNumber',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 18\n          }\n        }),\n        key: \"phoneNumber\",\n        dataIndex: \"phoneNumber\"\n      }, {\n        title: /*#__PURE__*/React.createElement(IntlMessages, {\n          id: 'vacancy',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 18\n          }\n        }),\n        key: 'vacancy',\n        width: 100,\n        render: function render(text, record, index) {\n          return intlMessages({\n            en: record.vacancy.titleEn,\n            ru: record.vacancy.titleRu,\n            uz: record.vacancy.titleUz\n          });\n        }\n      }, {\n        title: /*#__PURE__*/React.createElement(IntlMessages, {\n          id: 'file',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 18\n          }\n        }),\n        key: 'file',\n        align: \"center\",\n        width: 100,\n        render: function render(text, record, index) {\n          return /*#__PURE__*/React.createElement(React.Fragment, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"button\", {\n            className: \"bg-transparent border-0 mx-2\",\n            onClick: function onClick() {\n              return _this.onDownloadFile(record.id, record.file.id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(Icon, {\n            type: \"cloud-download\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 124\n            }\n          })), record.file.contentType === \"application/pdf\" ? /*#__PURE__*/React.createElement(\"button\", {\n            className: \"bg-transparent border-0 mx-2\",\n            onClick: function onClick() {\n              return _this.onDownloadFile(record.id, record.file.id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 17\n            }\n          }, record.isStatus ? /*#__PURE__*/React.createElement(Icon, {\n            type: \"eye\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 36\n            }\n          }) : /*#__PURE__*/React.createElement(Icon, {\n            type: \"eye-invisible\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 56\n            }\n          })) : /*#__PURE__*/React.createElement(\"button\", {\n            className: \"bg-transparent border-0 mx-2\",\n            onClick: function onClick() {\n              _this.setState({\n                fileModal: {\n                  showModal: true,\n                  currentData: record\n                }\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }\n          }, record.isStatus ? /*#__PURE__*/React.createElement(Icon, {\n            type: \"eye\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 36\n            }\n          }) : /*#__PURE__*/React.createElement(Icon, {\n            type: \"eye-invisible\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 56\n            }\n          })));\n        }\n      }, {\n        title: /*#__PURE__*/React.createElement(IntlMessages, {\n          id: 'createAt',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 18\n          }\n        }),\n        key: 'createdAt',\n        align: \"center\",\n        width: 100,\n        render: function render(text, record, index) {\n          var date = new Date(record.createdAt);\n          return date.getDate() + '/' + date.getMonth() + '/' + date.getFullYear();\n        }\n      }],\n      list: [],\n      fileModal: null,\n      pagination: {\n        showSizeChanger: true,\n        showQuickJumper: true,\n        showTotal: function showTotal(total) {\n          return \"Total \".concat(total, \" Items\");\n        },\n        current: 1,\n        total: 0,\n        pageSize: 20\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Resume, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getResume();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(List, {\n        visibleColumns: this.state.columns,\n        dataSource: this.state.list,\n        pagination: this.state.pagination.total >= 10 ? _objectSpread(_objectSpread({}, this.state.pagination), {}, {\n          onChange: this.onChange,\n          onShowSizeChange: this.onShowSizeChange\n        }) : false,\n        onDeleteItem: this.onDelete,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 9\n        }\n      }), this.state.fileModal && this.state.fileModal.showModal && /*#__PURE__*/React.createElement(Modal, {\n        footer: null,\n        width: 800,\n        visible: this.state.fileModal.showModal,\n        onCancel: function onCancel() {\n          return _this2.setState({\n            fileModal: null\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 20\n        }\n      }, intlMessages({\n        en: \"Sorry, no view\",\n        ru: \"Извините, нет просмотра\",\n        uz: \"Kechirasiz, ko'rinish yo'q\"\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: 'center',\n          marginTop: \"25px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        className: \"margin-right btn-sm\",\n        onClick: function onClick() {\n          return _this2.onDownloadFile(_this2.state.fileModal.currentData.id, _this2.state.fileModal.currentData.file.id);\n        },\n        icon: \"cloud-download\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"download\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 19\n        }\n      }))))));\n    }\n  }]);\n\n  return Resume;\n}(Component);\n\nexport default Resume;","map":{"version":3,"sources":["C:/Users/Ibrohim/Desktop/ark-front/src/routes/routesManagers/hr/resume/index.js"],"names":["React","Component","Button","Card","Icon","Modal","notification","List","IntlMessages","intlMessages","ApiRequest","api","getResume","deleteResume","Resume","props","onDownloadFile","id","fileId","then","result","success","a","document","createElement","href","object","body","appendChild","target","click","removeChild","setState","state","list","pagination","total","totalElements","onRequestFunc","path","data","message","key","messageSuccess","description","descriptionSuccess","error","messageError","descriptionError","onDelete","dataItemId","en","ru","uz","onChange","page","current","onStartEvent","onShowSizeChange","size","pageSize","columns","title","width","render","text","record","index","dataIndex","vacancy","titleEn","titleRu","titleUz","align","file","contentType","isStatus","fileModal","showModal","currentData","date","Date","createdAt","getDate","getMonth","getFullYear","showSizeChanger","showQuickJumper","showTotal","textAlign","marginTop"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Button, Card, Icon, Modal, notification} from \"antd\";\r\nimport List from \"./components/List\";\r\nimport IntlMessages,{intlMessages} from \"../../../../util/IntlMessages\";\r\nimport ApiRequest from \"../../../../services\";\r\nimport api from '../../../../services/app'\r\nconst {getResume,deleteResume} = api;\r\nclass Resume extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      columns: [\r\n        {\r\n          title: <strong>№</strong>,\r\n          key: \"№\",\r\n          width: 60,\r\n          render: (text, record, index) => index + 1,\r\n        },\r\n        {\r\n          title: <IntlMessages id={'fullName'}/>,\r\n          key: \"fullName\",\r\n          dataIndex: \"fullName\",\r\n        },\r\n        {\r\n          title: <IntlMessages id={'email'}/>,\r\n          key: \"email\",\r\n          dataIndex: \"email\",\r\n        },\r\n        {\r\n          title: <IntlMessages id={'phoneNumber'}/>,\r\n          key: \"phoneNumber\",\r\n          dataIndex: \"phoneNumber\",\r\n        },\r\n        {\r\n          title: <IntlMessages id={'vacancy'}/>,\r\n          key: 'vacancy',\r\n          width: 100,\r\n          render: (text, record, index) => (intlMessages({en:record.vacancy.titleEn,ru:record.vacancy.titleRu,uz:record.vacancy.titleUz})),\r\n        },\r\n        {\r\n          title: <IntlMessages id={'file'}/>,\r\n          key: 'file',\r\n          align:\"center\",\r\n          width: 100,\r\n          render: (text, record, index) => (\r\n            <React.Fragment>\r\n              <button className=\"bg-transparent border-0 mx-2\" onClick={()=>this.onDownloadFile(record.id,record.file.id)}><Icon type=\"cloud-download\" /></button>\r\n              {record.file.contentType === \"application/pdf\"?\r\n                <button className=\"bg-transparent border-0 mx-2\" onClick={()=>this.onDownloadFile(record.id,record.file.id)}>\r\n                  {record.isStatus?<Icon type=\"eye\" />:<Icon type=\"eye-invisible\" />}\r\n                </button>:\r\n                <button className=\"bg-transparent border-0 mx-2\" onClick={()=>{this.setState({fileModal:{showModal:true,currentData:record}})}}>\r\n                  {record.isStatus?<Icon type=\"eye\" />:<Icon type=\"eye-invisible\" />}\r\n                </button>\r\n              }\r\n            </React.Fragment>\r\n          ),\r\n        },\r\n        {\r\n          title: <IntlMessages id={'createAt'}/>,\r\n          key: 'createdAt',\r\n          align: \"center\",\r\n          width: 100,\r\n          render: (text, record, index) => {\r\n            let date = new Date(record.createdAt);\r\n            return date.getDate() + '/' + date.getMonth() + '/' + date.getFullYear()\r\n          },\r\n        },\r\n      ],\r\n      list: [],\r\n      fileModal:null,\r\n      pagination: {\r\n        showSizeChanger: true,\r\n        showQuickJumper: true,\r\n        showTotal: total => `Total ${total} Items`,\r\n        current: 1,\r\n        total: 0,\r\n        pageSize: 20,\r\n      },\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getResume();\r\n  }\r\n  onDownloadFile=(id,fileId)=>{\r\n    ApiRequest(`${getResume}/${id}/${fileId}`).then((result)=>{\r\n      if (result.success){\r\n        let a = document.createElement(\"a\");\r\n        a.href = result.object;\r\n        document.body.appendChild(a);\r\n        a.target = \"_blank\";\r\n        a.click();\r\n        document.body.removeChild(a);\r\n      }\r\n    })\r\n\r\n  };\r\n\r\n  getResume = () => {\r\n    ApiRequest(getResume).then((result)=>{\r\n      if (result.success){\r\n        this.setState((state, props) => ({\r\n          list: result.object,\r\n          pagination: {\r\n            ...state.pagination,\r\n            total: result.object.totalElements\r\n          }\r\n        }));\r\n      }\r\n    })\r\n  };\r\n  onRequestFunc = (path, data, message) => {\r\n    ApiRequest(path, data).then((result => {\r\n      if (result.success) {\r\n\r\n        notification.success({\r\n          key: message.key,\r\n          message: message.messageSuccess,\r\n          description: message.descriptionSuccess,\r\n        });\r\n        this.getResume()\r\n      } else {\r\n        notification.error({\r\n          key: message.key,\r\n          message: message.messageError,\r\n          description: message.descriptionError,\r\n        });\r\n      }\r\n    }))\r\n  };\r\n\r\n  onDelete = (dataItemId) => {\r\n    let message = {\r\n      key: \"delete\",\r\n      messageError: intlMessages({en:\"There was an error deleting\",ru:\"Произошла ошибка при удалении\",uz:\"O'chirishda xatolik yuz berdi\"}),\r\n      messageSuccess: intlMessages({en:\"Successfully deleted\",ru:\"Успешно удален\",uz:\"Muvaffaqiyatli o'chirildi\"}),\r\n    };\r\n    this.onRequestFunc(deleteResume, {id: dataItemId}, message)\r\n  };\r\n\r\n  onChange = (page) => {\r\n    this.setState((state, props) => ({\r\n      pagination: {\r\n        ...state.pagination,\r\n        current:page\r\n      }\r\n    }));\r\n    this.onStartEvent({page:page-1});\r\n  };\r\n  onShowSizeChange = (current, size) => {\r\n    this.onStartEvent({page:current-1,size:size});\r\n    this.setState((state, props) => ({\r\n      pagination: {\r\n        ...state.pagination,\r\n        current:current,\r\n        pageSize:size\r\n      }\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Card>\r\n        <List visibleColumns={this.state.columns}\r\n              dataSource={this.state.list}\r\n              pagination={this.state.pagination.total >= 10 ? {\r\n                ...this.state.pagination,\r\n                onChange: this.onChange,\r\n                onShowSizeChange: this.onShowSizeChange\r\n              } : false}\r\n              onDeleteItem={this.onDelete}/>\r\n        {this.state.fileModal && this.state.fileModal.showModal && (\r\n          <Modal\r\n            footer={null}\r\n            width={800}\r\n            visible={this.state.fileModal.showModal}\r\n            onCancel={() => this.setState({fileModal:null})}\r\n          >\r\n            <div>\r\n              <div style={{textAlign:'center'}}>\r\n                   <span>\r\n                      {\r\n                        intlMessages({en:\"Sorry, no view\",ru:\"Извините, нет просмотра\",uz:\"Kechirasiz, ko'rinish yo'q\"})\r\n                      }\r\n                   </span>\r\n\r\n              </div>\r\n              <div  style={{textAlign:'center',marginTop:\"25px\"}}>\r\n                <Button type=\"primary\"\r\n                        className=\"margin-right btn-sm\"\r\n                        onClick={()=>this.onDownloadFile(this.state.fileModal.currentData.id,this.state.fileModal.currentData.file.id)}\r\n                        icon=\"cloud-download\">\r\n                  <IntlMessages id=\"download\"/>\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Modal>\r\n        )}\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Resume;\r\n"]},"metadata":{},"sourceType":"module"}