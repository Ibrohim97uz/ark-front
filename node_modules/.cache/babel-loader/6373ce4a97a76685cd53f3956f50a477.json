{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Button,Card,Icon,Modal,notification}from\"antd\";import List from\"./components/List\";import IntlMessages,{intlMessages}from\"../../../../util/IntlMessages\";import ApiRequest from\"../../../../services\";import api from'../../../../services/app';var getResume=api.getResume,deleteResume=api.deleteResume;var Resume=/*#__PURE__*/function(_Component){_inherits(Resume,_Component);var _super=_createSuper(Resume);function Resume(props){var _this;_classCallCheck(this,Resume);_this=_super.call(this,props);_this.onDownloadFile=function(id,fileId){ApiRequest(\"\".concat(getResume,\"/\").concat(id,\"/\").concat(fileId)).then(function(result){if(result.success){var a=document.createElement(\"a\");a.href=result.object;document.body.appendChild(a);a.target=\"_blank\";a.click();document.body.removeChild(a);}});};_this.getResume=function(){ApiRequest(getResume).then(function(result){if(result.success){_this.setState(function(state,props){return{list:result.object,pagination:_objectSpread(_objectSpread({},state.pagination),{},{total:result.object.totalElements})};});}});};_this.onRequestFunc=function(path,data,message){ApiRequest(path,data).then(function(result){if(result.success){notification.success({key:message.key,message:message.messageSuccess,description:message.descriptionSuccess});_this.getResume();}else{notification.error({key:message.key,message:message.messageError,description:message.descriptionError});}});};_this.onDelete=function(dataItemId){var message={key:\"delete\",messageError:intlMessages({en:\"There was an error deleting\",ru:\"Произошла ошибка при удалении\",uz:\"O'chirishda xatolik yuz berdi\"}),messageSuccess:intlMessages({en:\"Successfully deleted\",ru:\"Успешно удален\",uz:\"Muvaffaqiyatli o'chirildi\"})};_this.onRequestFunc(deleteResume,{id:dataItemId},message);};_this.onChange=function(page){_this.setState(function(state,props){return{pagination:_objectSpread(_objectSpread({},state.pagination),{},{current:page})};});_this.onStartEvent({page:page-1});};_this.onShowSizeChange=function(current,size){_this.onStartEvent({page:current-1,size:size});_this.setState(function(state,props){return{pagination:_objectSpread(_objectSpread({},state.pagination),{},{current:current,pageSize:size})};});};_this.state={columns:[{title:/*#__PURE__*/React.createElement(\"strong\",null,\"\\u2116\"),key:\"№\",width:60,render:function render(text,record,index){return index+1;}},{title:/*#__PURE__*/React.createElement(IntlMessages,{id:'fullName'}),key:\"fullName\",dataIndex:\"fullName\"},{title:/*#__PURE__*/React.createElement(IntlMessages,{id:'email'}),key:\"email\",dataIndex:\"email\"},{title:/*#__PURE__*/React.createElement(IntlMessages,{id:'phoneNumber'}),key:\"phoneNumber\",dataIndex:\"phoneNumber\"},{title:/*#__PURE__*/React.createElement(IntlMessages,{id:'vacancy'}),key:'vacancy',width:100,render:function render(text,record,index){return intlMessages({en:record.vacancy.titleEn,ru:record.vacancy.titleRu,uz:record.vacancy.titleUz});}},{title:/*#__PURE__*/React.createElement(IntlMessages,{id:'file'}),key:'file',align:\"center\",width:100,render:function render(text,record,index){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"button\",{className:\"bg-transparent border-0 mx-2\",onClick:function onClick(){return _this.onDownloadFile(record.id,record.file.id);}},/*#__PURE__*/React.createElement(Icon,{type:\"cloud-download\"})),record.file.contentType===\"application/pdf\"?/*#__PURE__*/React.createElement(\"button\",{className:\"bg-transparent border-0 mx-2\",onClick:function onClick(){return _this.onDownloadFile(record.id,record.file.id);}},record.isStatus?/*#__PURE__*/React.createElement(Icon,{type:\"eye\"}):/*#__PURE__*/React.createElement(Icon,{type:\"eye-invisible\"})):/*#__PURE__*/React.createElement(\"button\",{className:\"bg-transparent border-0 mx-2\",onClick:function onClick(){_this.setState({fileModal:{showModal:true,currentData:record}});}},record.isStatus?/*#__PURE__*/React.createElement(Icon,{type:\"eye\"}):/*#__PURE__*/React.createElement(Icon,{type:\"eye-invisible\"})));}},{title:/*#__PURE__*/React.createElement(IntlMessages,{id:'createAt'}),key:'createdAt',align:\"center\",width:100,render:function render(text,record,index){var date=new Date(record.createdAt);return date.getDate()+'/'+date.getMonth()+'/'+date.getFullYear();}}],list:[],fileModal:null,pagination:{showSizeChanger:true,showQuickJumper:true,showTotal:function showTotal(total){return\"Total \".concat(total,\" Items\");},current:1,total:0,pageSize:20}};return _this;}_createClass(Resume,[{key:\"componentDidMount\",value:function componentDidMount(){this.getResume();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(List,{visibleColumns:this.state.columns,dataSource:this.state.list,pagination:this.state.pagination.total>=10?_objectSpread(_objectSpread({},this.state.pagination),{},{onChange:this.onChange,onShowSizeChange:this.onShowSizeChange}):false,onDeleteItem:this.onDelete}),this.state.fileModal&&this.state.fileModal.showModal&&/*#__PURE__*/React.createElement(Modal,{footer:null,width:800,visible:this.state.fileModal.showModal,onCancel:function onCancel(){return _this2.setState({fileModal:null});}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'center'}},/*#__PURE__*/React.createElement(\"span\",null,intlMessages({en:\"Sorry, no view\",ru:\"Извините, нет просмотра\",uz:\"Kechirasiz, ko'rinish yo'q\"}))),/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'center',marginTop:\"25px\"}},/*#__PURE__*/React.createElement(Button,{type:\"primary\",className:\"margin-right btn-sm\",onClick:function onClick(){return _this2.onDownloadFile(_this2.state.fileModal.currentData.id,_this2.state.fileModal.currentData.file.id);},icon:\"cloud-download\"},/*#__PURE__*/React.createElement(IntlMessages,{id:\"download\"}))))));}}]);return Resume;}(Component);export default Resume;","map":{"version":3,"sources":["C:/Users/Ibrohim/Desktop/ark-front/src/routes/routesManagers/hr/resume/index.js"],"names":["React","Component","Button","Card","Icon","Modal","notification","List","IntlMessages","intlMessages","ApiRequest","api","getResume","deleteResume","Resume","props","onDownloadFile","id","fileId","then","result","success","a","document","createElement","href","object","body","appendChild","target","click","removeChild","setState","state","list","pagination","total","totalElements","onRequestFunc","path","data","message","key","messageSuccess","description","descriptionSuccess","error","messageError","descriptionError","onDelete","dataItemId","en","ru","uz","onChange","page","current","onStartEvent","onShowSizeChange","size","pageSize","columns","title","width","render","text","record","index","dataIndex","vacancy","titleEn","titleRu","titleUz","align","file","contentType","isStatus","fileModal","showModal","currentData","date","Date","createdAt","getDate","getMonth","getFullYear","showSizeChanger","showQuickJumper","showTotal","textAlign","marginTop"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Button, Card, Icon, Modal, notification} from \"antd\";\r\nimport List from \"./components/List\";\r\nimport IntlMessages,{intlMessages} from \"../../../../util/IntlMessages\";\r\nimport ApiRequest from \"../../../../services\";\r\nimport api from '../../../../services/app'\r\nconst {getResume,deleteResume} = api;\r\nclass Resume extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      columns: [\r\n        {\r\n          title: <strong>№</strong>,\r\n          key: \"№\",\r\n          width: 60,\r\n          render: (text, record, index) => index + 1,\r\n        },\r\n        {\r\n          title: <IntlMessages id={'fullName'}/>,\r\n          key: \"fullName\",\r\n          dataIndex: \"fullName\",\r\n        },\r\n        {\r\n          title: <IntlMessages id={'email'}/>,\r\n          key: \"email\",\r\n          dataIndex: \"email\",\r\n        },\r\n        {\r\n          title: <IntlMessages id={'phoneNumber'}/>,\r\n          key: \"phoneNumber\",\r\n          dataIndex: \"phoneNumber\",\r\n        },\r\n        {\r\n          title: <IntlMessages id={'vacancy'}/>,\r\n          key: 'vacancy',\r\n          width: 100,\r\n          render: (text, record, index) => (intlMessages({en:record.vacancy.titleEn,ru:record.vacancy.titleRu,uz:record.vacancy.titleUz})),\r\n        },\r\n        {\r\n          title: <IntlMessages id={'file'}/>,\r\n          key: 'file',\r\n          align:\"center\",\r\n          width: 100,\r\n          render: (text, record, index) => (\r\n            <React.Fragment>\r\n              <button className=\"bg-transparent border-0 mx-2\" onClick={()=>this.onDownloadFile(record.id,record.file.id)}><Icon type=\"cloud-download\" /></button>\r\n              {record.file.contentType === \"application/pdf\"?\r\n                <button className=\"bg-transparent border-0 mx-2\" onClick={()=>this.onDownloadFile(record.id,record.file.id)}>\r\n                  {record.isStatus?<Icon type=\"eye\" />:<Icon type=\"eye-invisible\" />}\r\n                </button>:\r\n                <button className=\"bg-transparent border-0 mx-2\" onClick={()=>{this.setState({fileModal:{showModal:true,currentData:record}})}}>\r\n                  {record.isStatus?<Icon type=\"eye\" />:<Icon type=\"eye-invisible\" />}\r\n                </button>\r\n              }\r\n            </React.Fragment>\r\n          ),\r\n        },\r\n        {\r\n          title: <IntlMessages id={'createAt'}/>,\r\n          key: 'createdAt',\r\n          align: \"center\",\r\n          width: 100,\r\n          render: (text, record, index) => {\r\n            let date = new Date(record.createdAt);\r\n            return date.getDate() + '/' + date.getMonth() + '/' + date.getFullYear()\r\n          },\r\n        },\r\n      ],\r\n      list: [],\r\n      fileModal:null,\r\n      pagination: {\r\n        showSizeChanger: true,\r\n        showQuickJumper: true,\r\n        showTotal: total => `Total ${total} Items`,\r\n        current: 1,\r\n        total: 0,\r\n        pageSize: 20,\r\n      },\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getResume();\r\n  }\r\n  onDownloadFile=(id,fileId)=>{\r\n    ApiRequest(`${getResume}/${id}/${fileId}`).then((result)=>{\r\n      if (result.success){\r\n        let a = document.createElement(\"a\");\r\n        a.href = result.object;\r\n        document.body.appendChild(a);\r\n        a.target = \"_blank\";\r\n        a.click();\r\n        document.body.removeChild(a);\r\n      }\r\n    })\r\n\r\n  };\r\n\r\n  getResume = () => {\r\n    ApiRequest(getResume).then((result)=>{\r\n      if (result.success){\r\n        this.setState((state, props) => ({\r\n          list: result.object,\r\n          pagination: {\r\n            ...state.pagination,\r\n            total: result.object.totalElements\r\n          }\r\n        }));\r\n      }\r\n    })\r\n  };\r\n  onRequestFunc = (path, data, message) => {\r\n    ApiRequest(path, data).then((result => {\r\n      if (result.success) {\r\n\r\n        notification.success({\r\n          key: message.key,\r\n          message: message.messageSuccess,\r\n          description: message.descriptionSuccess,\r\n        });\r\n        this.getResume()\r\n      } else {\r\n        notification.error({\r\n          key: message.key,\r\n          message: message.messageError,\r\n          description: message.descriptionError,\r\n        });\r\n      }\r\n    }))\r\n  };\r\n\r\n  onDelete = (dataItemId) => {\r\n    let message = {\r\n      key: \"delete\",\r\n      messageError: intlMessages({en:\"There was an error deleting\",ru:\"Произошла ошибка при удалении\",uz:\"O'chirishda xatolik yuz berdi\"}),\r\n      messageSuccess: intlMessages({en:\"Successfully deleted\",ru:\"Успешно удален\",uz:\"Muvaffaqiyatli o'chirildi\"}),\r\n    };\r\n    this.onRequestFunc(deleteResume, {id: dataItemId}, message)\r\n  };\r\n\r\n  onChange = (page) => {\r\n    this.setState((state, props) => ({\r\n      pagination: {\r\n        ...state.pagination,\r\n        current:page\r\n      }\r\n    }));\r\n    this.onStartEvent({page:page-1});\r\n  };\r\n  onShowSizeChange = (current, size) => {\r\n    this.onStartEvent({page:current-1,size:size});\r\n    this.setState((state, props) => ({\r\n      pagination: {\r\n        ...state.pagination,\r\n        current:current,\r\n        pageSize:size\r\n      }\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Card>\r\n        <List visibleColumns={this.state.columns}\r\n              dataSource={this.state.list}\r\n              pagination={this.state.pagination.total >= 10 ? {\r\n                ...this.state.pagination,\r\n                onChange: this.onChange,\r\n                onShowSizeChange: this.onShowSizeChange\r\n              } : false}\r\n              onDeleteItem={this.onDelete}/>\r\n        {this.state.fileModal && this.state.fileModal.showModal && (\r\n          <Modal\r\n            footer={null}\r\n            width={800}\r\n            visible={this.state.fileModal.showModal}\r\n            onCancel={() => this.setState({fileModal:null})}\r\n          >\r\n            <div>\r\n              <div style={{textAlign:'center'}}>\r\n                   <span>\r\n                      {\r\n                        intlMessages({en:\"Sorry, no view\",ru:\"Извините, нет просмотра\",uz:\"Kechirasiz, ko'rinish yo'q\"})\r\n                      }\r\n                   </span>\r\n\r\n              </div>\r\n              <div  style={{textAlign:'center',marginTop:\"25px\"}}>\r\n                <Button type=\"primary\"\r\n                        className=\"margin-right btn-sm\"\r\n                        onClick={()=>this.onDownloadFile(this.state.fileModal.currentData.id,this.state.fileModal.currentData.file.id)}\r\n                        icon=\"cloud-download\">\r\n                  <IntlMessages id=\"download\"/>\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Modal>\r\n        )}\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Resume;\r\n"]},"metadata":{},"sourceType":"module"}