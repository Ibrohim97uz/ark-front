{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import React from'react';import{Form,Modal,Select}from'antd/lib/index';import IntlMessages from\"util/IntlMessages\";import{intlMessages}from\"../../../../../../util/IntlMessages\";var FormItem=Form.Item;var Option=Select.Option;var formItemLayout={labelCol:{span:24},wrapperCol:{span:24}};var modal=function modal(_ref){var currentItem=_ref.currentItem,onSubmit=_ref.onSubmit,onCancel=_ref.onCancel,modalVisible=_ref.modalVisible,actionType=_ref.actionType,formItems=_ref.formItems,countries=_ref.countries,_ref$form=_ref.form,getFieldDecorator=_ref$form.getFieldDecorator,validateFields=_ref$form.validateFields,getFieldsValue=_ref$form.getFieldsValue;var handleOk=function handleOk(){validateFields(function(errors){if(errors){return;}var formData=getFieldsValue();formData['id']=currentItem['id'];onSubmit(formData);});};var dynamicFormItems=formItems.map(function(formItem){return/*#__PURE__*/React.createElement(FormItem,Object.assign({key:formItem.name,className:\"mb-0\",label:formItem.label,hasFeedback:true},formItemLayout),getFieldDecorator(formItem.name,_objectSpread({initialValue:currentItem[formItem.name]},formItem))(formItem.obj));});var countryList=countries.map(function(item){return/*#__PURE__*/React.createElement(Option,{value:item.id},intlMessages({en:item.nameEn,ru:item.nameRu,uz:item.nameUz}));});return/*#__PURE__*/React.createElement(Modal,{title:actionType===\"create\"?intlMessages({en:\"Create new region\",ru:\"Создать новую регион\",uz:\"Yangi viloyat yaratish\"}):intlMessages({en:\"Update region\",ru:\"Изменить регион\",uz:\"Viloyatni tahrirlash\"}),visible:modalVisible,onOk:handleOk,destroyOnClose:true,onCancel:onCancel,wrapClassName:'vertical-center-modal',cancelText:/*#__PURE__*/React.createElement(IntlMessages,{id:'cancel'}),okText:/*#__PURE__*/React.createElement(IntlMessages,{id:'save'})},/*#__PURE__*/React.createElement(Form,{layout:\"horizontal\"},dynamicFormItems,/*#__PURE__*/React.createElement(FormItem,Object.assign({key:\"countryId\",className:\"mb-0\",label:/*#__PURE__*/React.createElement(IntlMessages,{id:\"country\"}),hasFeedback:true},formItemLayout),getFieldDecorator('countryId',{initialValue:currentItem&&currentItem.country&&currentItem.country.id,rules:[{required:true,message:/*#__PURE__*/React.createElement(IntlMessages,{id:\"E_ERROR\"})}]})(/*#__PURE__*/React.createElement(Select,{name:\"countryId\",allowClear:true,showSearch:true,optionFilterProp:\"children\",filterOption:function filterOption(input,option){return option.props.children.toLowerCase().indexOf(input.toLowerCase())>=0;}},countryList)))));};export default Form.create()(modal);","map":{"version":3,"sources":["C:/Users/Ibrohim/Desktop/ark-front/src/routes/routesManagers/settings/dictionary/region/components/Modal.js"],"names":["React","Form","Modal","Select","IntlMessages","intlMessages","FormItem","Item","Option","formItemLayout","labelCol","span","wrapperCol","modal","currentItem","onSubmit","onCancel","modalVisible","actionType","formItems","countries","form","getFieldDecorator","validateFields","getFieldsValue","handleOk","errors","formData","dynamicFormItems","map","formItem","name","label","initialValue","obj","countryList","item","id","en","nameEn","ru","nameRu","uz","nameUz","country","rules","required","message","input","option","props","children","toLowerCase","indexOf","create"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {Form, Modal, Select,} from 'antd/lib/index'\r\nimport IntlMessages from \"util/IntlMessages\";\r\nimport {intlMessages} from \"../../../../../../util/IntlMessages\";\r\n\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\nconst formItemLayout = {\r\n    labelCol: {\r\n        span: 24,\r\n    },\r\n    wrapperCol: {\r\n        span: 24,\r\n    },\r\n};\r\n\r\n\r\nconst modal = ({\r\n                   currentItem,\r\n                   onSubmit,\r\n                   onCancel,\r\n                   modalVisible,\r\n                   actionType,\r\n                   formItems,\r\n                   countries,\r\n                   form: {\r\n                       getFieldDecorator,\r\n                       validateFields,\r\n                       getFieldsValue,\r\n                   },\r\n               }) => {\r\n    const handleOk = () => {\r\n        validateFields((errors) => {\r\n            if (errors) {\r\n                return\r\n            }\r\n            let formData = getFieldsValue();\r\n            formData['id'] = currentItem['id'];\r\n            onSubmit(formData)\r\n        })\r\n    };\r\n\r\n    const dynamicFormItems = formItems.map((formItem) =>\r\n        <FormItem key={formItem.name} className=\"mb-0\" label={formItem.label} hasFeedback {...formItemLayout}>\r\n            {getFieldDecorator(formItem.name, {\r\n                initialValue: currentItem[formItem.name],\r\n                ...formItem\r\n            })(formItem.obj)}\r\n        </FormItem>\r\n    );\r\n\r\n    const countryList = countries.map(item => {\r\n        return <Option value={item.id}>{intlMessages({en: item.nameEn, ru: item.nameRu, uz: item.nameUz})}</Option>\r\n    });\r\n\r\n    return (\r\n        <Modal\r\n            title={actionType === \"create\" ? intlMessages({\r\n                en: \"Create new region\",\r\n                ru: \"Создать новую регион\",\r\n                uz: \"Yangi viloyat yaratish\"\r\n            }) : intlMessages({en: \"Update region\", ru: \"Изменить регион\", uz: \"Viloyatni tahrirlash\"})}\r\n            visible={modalVisible}\r\n            onOk={handleOk}\r\n            destroyOnClose={true}\r\n            onCancel={onCancel}\r\n            wrapClassName={'vertical-center-modal'}\r\n            cancelText={<IntlMessages id={'cancel'}/>}\r\n            okText={<IntlMessages id={'save'}/>}\r\n        >\r\n            <Form layout=\"horizontal\">\r\n                {dynamicFormItems}\r\n                <FormItem key=\"countryId\" className=\"mb-0\" label={<IntlMessages id=\"country\"/>}\r\n                          hasFeedback {...formItemLayout}>\r\n                    {getFieldDecorator('countryId', {\r\n                        initialValue: currentItem && currentItem.country && currentItem.country.id,\r\n                        rules: [{\r\n                            required: true,\r\n                            message: <IntlMessages id=\"E_ERROR\"/>\r\n                        }]\r\n                    })\r\n                    (<Select\r\n                        name=\"countryId\"\r\n                        allowClear\r\n                        showSearch\r\n                        optionFilterProp=\"children\"\r\n                        filterOption={(input, option) =>\r\n                            option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                        }\r\n                    >\r\n                        {countryList}\r\n                    </Select>,)\r\n                    }\r\n                </FormItem>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n};\r\n\r\nmodal.propTypes = {\r\n    form: PropTypes.object.isRequired,\r\n    type: PropTypes.string,\r\n    item: PropTypes.object,\r\n    onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Form.create()(modal)\r\n"]},"metadata":{},"sourceType":"module"}