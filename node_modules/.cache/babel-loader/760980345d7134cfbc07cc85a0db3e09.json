{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\src\\\\routes\\\\routesManagers\\\\settings\\\\news\\\\components\\\\Modal.js\";\n\nimport React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Modal, Popover, Row, Col, message, Switch } from 'antd';\nimport { FileUpload, MultipleFileUpload, MultipleFileVideoUpload } from '../../../../../components/CustomComponents';\nimport Editor from \"../../../../../components/WYSISWYG\";\nimport { convertToRaw } from \"draft-js\";\nimport draftToHtml from \"draftjs-to-html\";\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nimport IntlMessages, { intlMessages } from \"../../../../../util/IntlMessages\";\nimport config from \"../../../../../util/config\";\nvar locales = config.locales;\nvar FormItem = Form.Item;\nvar formItemLayout = {\n  labelCol: {\n    xs: 24,\n    justify: \"center\"\n  },\n  wrapperCol: {\n    justify: \"center\",\n    xs: 24\n  }\n};\nvar ColProps = {\n  xs: 24,\n  sm: 24,\n  md: 24,\n  xl: 24,\n  ld: 24\n};\nvar ColProp2 = {\n  xs: 24,\n  sm: 24,\n  md: 8,\n  xl: 8,\n  ld: 8\n};\n\nvar modal = function modal(_ref) {\n  var currentItem = _ref.currentItem,\n      onFormLocale = _ref.onFormLocale,\n      onSubmit = _ref.onSubmit,\n      onCancel = _ref.onCancel,\n      file = _ref.file,\n      files = _ref.files,\n      videos = _ref.videos,\n      text = _ref.text,\n      onChangeFile = _ref.onChangeFile,\n      onChangeAnyFile = _ref.onChangeAnyFile,\n      onChangeAnyFileVideo = _ref.onChangeAnyFileVideo,\n      modalVisible = _ref.modalVisible,\n      formItems = _ref.formItems,\n      selectedFormLocale = _ref.selectedFormLocale,\n      onTextChange = _ref.onTextChange,\n      actionType = _ref.actionType,\n      _ref$form = _ref.form,\n      getFieldDecorator = _ref$form.getFieldDecorator,\n      validateFields = _ref$form.validateFields,\n      getFieldsValue = _ref$form.getFieldsValue;\n\n  var handleOk = function handleOk() {\n    validateFields(function (errors) {\n      if (errors || file === null || file.file === null || text.en === \"\") {\n        for (var i in errors) {\n          if (i === \"titleEn\") {\n            return onFormLocale(locales[0]);\n          }\n        }\n\n        if (text && text.en === \"\") {\n          message.error(intlMessages({\n            en: \"The problem with the text!\",\n            ru: \"Проблема с текстом!\",\n            uz: \"Matn bilan bog'liq muammo!\"\n          }));\n        }\n\n        if (file === null || file.file === null) {\n          message.error(intlMessages({\n            en: \"File problem!\",\n            ru: \"Проблема с файлом!\",\n            uz: \"Fayl bilan bog'liq muammo!\"\n          }));\n        }\n\n        return;\n      }\n\n      var formData = getFieldsValue();\n      var currentFileList = [];\n      formData['titleRu'] = formData['titleRu'] === undefined ? formData['titleEn'] : formData['titleRu'];\n      formData['titleUz'] = formData['titleUz'] === undefined ? formData['titleEn'] : formData['titleUz'];\n      formData['textEn'] = draftToHtml(convertToRaw(text.en.getCurrentContent()));\n      formData['textRu'] = text.ru === \"\" ? formData['textEn'] : draftToHtml(convertToRaw(text.ru.getCurrentContent()));\n      formData['textUz'] = text.uz === \"\" ? formData['textEn'] : draftToHtml(convertToRaw(text.uz.getCurrentContent()));\n      formData['isStatus'] = formData['isStatus'] === undefined ? true : formData['isStatus'];\n      formData['fileUpload'] = true;\n      formData['type'] = true;\n      formData['otherAttachmentId'] = [];\n      formData['files'] = [];\n      formData['videosId'] = [];\n      formData['videos'] = [];\n\n      if (actionType === \"create\") {\n        if (files.length !== 0) {\n          files.map(function (item) {\n            if (item.fileStatus === \"update\") {\n              return formData['files'].push(item);\n            }\n\n            return item;\n          });\n        }\n\n        if (videos !== 0) {\n          videos.map(function (item) {\n            if (item.fileStatus === \"update\") {\n              return formData['videos'].push(item);\n            }\n\n            return item;\n          });\n        }\n      }\n\n      if (actionType === \"update\") {\n        formData['id'] = currentItem.id;\n\n        if (files.length !== 0) {\n          files.map(function (item) {\n            if (item.fileStatus === \"create\") {\n              return formData['otherAttachmentId'].push(item.file.id);\n            }\n\n            if (item.fileStatus === \"update\") {\n              return formData['files'].push(item);\n            }\n\n            return item;\n          });\n        }\n\n        if (videos.length !== 0) {\n          videos.map(function (item) {\n            if (item.fileStatus === \"create\") {\n              return formData['videosId'].push(item.file.id);\n            }\n\n            if (item.fileStatus === \"update\") {\n              return formData['videos'].push(item);\n            }\n\n            return item;\n          });\n        }\n      }\n\n      if (file && file.fileStatus === \"update\") {\n        currentFileList.push({\n          name: \"mainFile\",\n          file: file.file\n        });\n      }\n\n      if (file && file.fileStatus === \"create\") {\n        formData['mainAttachmentId'] = currentItem.mainAttachment.id;\n        currentFileList.push({\n          name: \"mainFile\",\n          file: {}\n        });\n      }\n\n      if (file && file.fileStatus === \"delete\") {\n        currentFileList.push({\n          name: \"mainFile\",\n          file: {}\n        });\n      }\n\n      currentFileList.push({\n        name: \"file1\",\n        file: formData['files'][0] ? {\n          0: formData['files'][0].file\n        } : {}\n      });\n      currentFileList.push({\n        name: \"file2\",\n        file: formData['files'][1] ? {\n          0: formData['files'][1].file\n        } : {}\n      });\n      currentFileList.push({\n        name: \"file3\",\n        file: formData['files'][2] ? {\n          0: formData['files'][2].file\n        } : {}\n      });\n      currentFileList.push({\n        name: \"video1\",\n        file: formData['videos'][0] ? {\n          0: formData['videos'][0].file\n        } : {}\n      });\n      currentFileList.push({\n        name: \"video2\",\n        file: formData['videos'][1] ? {\n          0: formData['videos'][1].file\n        } : {}\n      });\n      currentFileList.push({\n        name: \"video3\",\n        file: formData['videos'][2] ? {\n          0: formData['videos'][2].file\n        } : {}\n      });\n      formData['file'] = currentFileList;\n      onSubmit(formData);\n    });\n  };\n\n  var dynamicFormItems = formItems.map(function (formItem) {\n    return /*#__PURE__*/React.createElement(Col, Object.assign({}, ColProps, {\n      key: formItem.name,\n      hidden: !(formItem.locale === null || formItem.locale === selectedFormLocale.locale),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(FormItem, Object.assign({\n      label: /*#__PURE__*/React.createElement(Fragment, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 30\n        }\n      }, formItem.locale !== null && /*#__PURE__*/React.createElement(\"i\", {\n        className: \"vertical-align-middle icon icon-check-circle-o mr-1\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }\n      }), formItem.label),\n      className: \"mb-0 \",\n      hasFeedback: true\n    }, formItemLayout, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 13\n      }\n    }), getFieldDecorator(formItem.name, _objectSpread({\n      initialValue: currentItem[formItem.name]\n    }, formItem))(formItem.obj)));\n  });\n\n  var languageMenu = function languageMenu() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"gx-popover-lang-scroll overflow-hidden\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"gx-sub-popover\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }\n    }, locales.map(function (language) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: \"gx-media gx-pointer\",\n        key: JSON.stringify(language),\n        onClick: function onClick(e) {\n          return onFormLocale(language);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"flag flag-24 gx-mr-2 flag-\".concat(language.icon),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"gx-language-text\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 25\n        }\n      }, language.name));\n    })));\n  };\n\n  var onEditorChange = function onEditorChange(e) {\n    onTextChange(e);\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    visible: modalVisible,\n    title: actionType === \"create\" ? intlMessages({\n      en: \"Create new news\",\n      ru: \"Создать новый новости\",\n      uz: \"Yangi yangilik yaratish\"\n    }) : intlMessages({\n      en: \"Update news\",\n      ru: \"Изменить новости\",\n      uz: \"Yangilikni tahrirlash\"\n    }),\n    onOk: handleOk,\n    bodyStyle: {\n      height: 550,\n      overflowY: \"auto\"\n    },\n    destroyOnClose: true,\n    width: 900,\n    style: {\n      top: 20\n    },\n    onCancel: onCancel,\n    cancelText: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: 'cancel',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 25\n      }\n    }),\n    okText: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: 'save',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 21\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    layout: \"horizontal\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: 24,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"#\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"gx-header-notifications gx-ml-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"gx-language\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Popover, {\n    overlayClassName: \"gx-popover-horizantal\",\n    placement: \"bottomRight\",\n    content: languageMenu(),\n    trigger: \"click\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"gx-pointer gx-flex-row gx-align-items-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"flag flag-24 flag-\".concat(selectedFormLocale.icon),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: 'gx-pl-2',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 17\n    }\n  }, selectedFormLocale.name), /*#__PURE__*/React.createElement(\"i\", {\n    className: 'icon icon-chevron-down gx-pl-2 d-block',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 17\n    }\n  }))))))), dynamicFormItems, /*#__PURE__*/React.createElement(Editor, {\n    title: \"field.text\",\n    text: text[selectedFormLocale['locale']],\n    onEditorChange: onEditorChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Col, Object.assign({}, ColProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(FormItem, Object.assign({\n    key: \"isStatus\",\n    className: \"mb-0\",\n    label: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"status\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 74\n      }\n    }),\n    hasFeedback: true\n  }, formItemLayout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 25\n    }\n  }), getFieldDecorator('isStatus', {\n    initialValue: actionType === \"create\" ? true : currentItem && currentItem.isStatus,\n    valuePropName: \"checked\"\n  })( /*#__PURE__*/React.createElement(Switch, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 30\n    }\n  })))), /*#__PURE__*/React.createElement(FileUpload, {\n    name: \"main-img\",\n    title: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"mainFile\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 32\n      }\n    }),\n    types: [\"image/jpeg\", \"image/png\", \"image/jpg\"],\n    size: 50,\n    file: file,\n    onChangeFile: onChangeFile,\n    formItemLayout: formItemLayout,\n    colLayout: ColProp2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(MultipleFileUpload, {\n    name: \"other-img\",\n    files: files,\n    types: [\"image/jpeg\", \"image/png\", \"image/jpg\"],\n    size: 50,\n    fileUploadCount: 3,\n    title: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"otherImg\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 32\n      }\n    }),\n    formItemLayout: formItemLayout,\n    colLayout: ColProp2,\n    onChangeFile: onChangeAnyFile,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(MultipleFileVideoUpload, {\n    name: \"videos\",\n    files: videos,\n    types: [\"video/mp4\", \"video/webm\", \"video/ogg\"],\n    size: 500,\n    fileUploadCount: 3,\n    title: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"video\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 32\n      }\n    }),\n    formItemLayout: formItemLayout,\n    colLayout: ColProp2,\n    onChangeFile: onChangeAnyFileVideo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 21\n    }\n  }))));\n};\n\nmodal.propTypes = {\n  form: PropTypes.object.isRequired,\n  type: PropTypes.string,\n  item: PropTypes.object,\n  onSubmit: PropTypes.func\n};\nexport default Form.create()(modal);","map":{"version":3,"sources":["C:/Users/Ibrohim/Desktop/ark-front/src/routes/routesManagers/settings/news/components/Modal.js"],"names":["React","Fragment","PropTypes","Form","Modal","Popover","Row","Col","message","Switch","FileUpload","MultipleFileUpload","MultipleFileVideoUpload","Editor","convertToRaw","draftToHtml","IntlMessages","intlMessages","config","locales","FormItem","Item","formItemLayout","labelCol","xs","justify","wrapperCol","ColProps","sm","md","xl","ld","ColProp2","modal","currentItem","onFormLocale","onSubmit","onCancel","file","files","videos","text","onChangeFile","onChangeAnyFile","onChangeAnyFileVideo","modalVisible","formItems","selectedFormLocale","onTextChange","actionType","form","getFieldDecorator","validateFields","getFieldsValue","handleOk","errors","en","i","error","ru","uz","formData","currentFileList","undefined","getCurrentContent","length","map","item","fileStatus","push","id","name","mainAttachment","dynamicFormItems","formItem","locale","label","initialValue","obj","languageMenu","language","JSON","stringify","e","icon","onEditorChange","height","overflowY","top","isStatus","valuePropName","propTypes","object","isRequired","type","string","func","create"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Form, Modal, Popover, Row, Col, message, Switch } from 'antd'\r\nimport { FileUpload, MultipleFileUpload, MultipleFileVideoUpload } from '../../../../../components/CustomComponents'\r\nimport Editor from \"../../../../../components/WYSISWYG\";\r\nimport { convertToRaw } from \"draft-js\";\r\nimport draftToHtml from \"draftjs-to-html\";\r\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\r\nimport IntlMessages, { intlMessages } from \"../../../../../util/IntlMessages\";\r\nimport config from \"../../../../../util/config\";\r\n\r\n\r\nconst { locales } = config;\r\nconst FormItem = Form.Item;\r\nconst formItemLayout = {\r\n    labelCol: {\r\n        xs: 24,\r\n        justify: \"center\"\r\n    },\r\n    wrapperCol: {\r\n        justify: \"center\",\r\n        xs: 24,\r\n    },\r\n};\r\nconst ColProps = {\r\n    xs: 24,\r\n    sm: 24,\r\n    md: 24,\r\n    xl: 24,\r\n    ld: 24\r\n};\r\n\r\nconst ColProp2 = {\r\n    xs: 24,\r\n    sm: 24,\r\n    md: 8,\r\n    xl: 8,\r\n    ld: 8\r\n};\r\n\r\n\r\nconst modal = ({\r\n                   currentItem,\r\n                   onFormLocale,\r\n                   onSubmit,\r\n                   onCancel,\r\n                   file,\r\n                   files,\r\n                   videos,\r\n                   text,\r\n                   onChangeFile,\r\n                   onChangeAnyFile,\r\n                   onChangeAnyFileVideo,\r\n                   modalVisible,\r\n                   formItems,\r\n                   selectedFormLocale,\r\n                   onTextChange,\r\n                   actionType,\r\n                   form: {\r\n                       getFieldDecorator,\r\n                       validateFields,\r\n                       getFieldsValue,\r\n                   },\r\n               }) => {\r\n\r\n    const handleOk = () => {\r\n        validateFields((errors) => {\r\n            if (errors || file === null || file.file === null || text.en === \"\") {\r\n                for (let i in errors) {\r\n                    if (i === \"titleEn\") {\r\n                        return onFormLocale(locales[0])\r\n                    }\r\n                }\r\n\r\n                if (text && text.en === \"\") {\r\n                    message.error(intlMessages({\r\n                        en: \"The problem with the text!\",\r\n                        ru: \"Проблема с текстом!\",\r\n                        uz: \"Matn bilan bog'liq muammo!\"\r\n                    }));\r\n                }\r\n\r\n                if (file === null || file.file === null) {\r\n                    message.error(intlMessages({\r\n                        en: \"File problem!\",\r\n                        ru: \"Проблема с файлом!\",\r\n                        uz: \"Fayl bilan bog'liq muammo!\"\r\n                    }));\r\n                }\r\n\r\n                return;\r\n            }\r\n            let formData = getFieldsValue();\r\n            let currentFileList = [];\r\n            formData['titleRu'] = formData['titleRu'] === undefined ? formData['titleEn'] : formData['titleRu'];\r\n            formData['titleUz'] = formData['titleUz'] === undefined ? formData['titleEn'] : formData['titleUz'];\r\n            formData['textEn'] = draftToHtml(convertToRaw(text.en.getCurrentContent()));\r\n            formData['textRu'] = text.ru === \"\" ? formData['textEn'] : draftToHtml(convertToRaw(text.ru.getCurrentContent()));\r\n            formData['textUz'] = text.uz === \"\" ? formData['textEn'] : draftToHtml(convertToRaw(text.uz.getCurrentContent()));\r\n            formData['isStatus'] = formData['isStatus'] === undefined ? true : formData['isStatus'];\r\n\r\n            formData['fileUpload'] = true;\r\n            formData['type'] = true;\r\n            formData['otherAttachmentId'] = [];\r\n            formData['files'] = [];\r\n            formData['videosId'] = [];\r\n            formData['videos'] = [];\r\n            if (actionType === \"create\") {\r\n                if (files.length !== 0) {\r\n                    files.map((item) => {\r\n                        if (item.fileStatus === \"update\") {\r\n                            return formData['files'].push(item)\r\n                        }\r\n                        return item;\r\n                    });\r\n                }\r\n                if (videos !== 0) {\r\n                    videos.map((item) => {\r\n                        if (item.fileStatus === \"update\") {\r\n                            return formData['videos'].push(item)\r\n                        }\r\n                        return item;\r\n                    })\r\n                }\r\n            }\r\n            if (actionType === \"update\") {\r\n                formData['id'] = currentItem.id;\r\n                if (files.length !== 0) {\r\n                    files.map((item) => {\r\n                        if (item.fileStatus === \"create\") {\r\n                            return formData['otherAttachmentId'].push(item.file.id)\r\n                        }\r\n                        if (item.fileStatus === \"update\") {\r\n                            return formData['files'].push(item)\r\n                        }\r\n                        return item;\r\n                    })\r\n                }\r\n                if (videos.length !== 0) {\r\n                    videos.map((item) => {\r\n                        if (item.fileStatus === \"create\") {\r\n                            return formData['videosId'].push(item.file.id)\r\n                        }\r\n                        if (item.fileStatus === \"update\") {\r\n                            return formData['videos'].push(item)\r\n                        }\r\n                        return item;\r\n                    })\r\n                }\r\n            }\r\n            if (file && file.fileStatus === \"update\") {\r\n                currentFileList.push({ name: \"mainFile\", file: file.file })\r\n            }\r\n            if (file && file.fileStatus === \"create\") {\r\n                formData['mainAttachmentId'] = currentItem.mainAttachment.id;\r\n                currentFileList.push({ name: \"mainFile\", file: {} })\r\n            }\r\n            if (file && file.fileStatus === \"delete\") {\r\n                currentFileList.push({ name: \"mainFile\", file: {} })\r\n            }\r\n            currentFileList.push({ name: \"file1\", file: formData['files'][0] ? { 0: formData['files'][0].file } : {} });\r\n            currentFileList.push({ name: \"file2\", file: formData['files'][1] ? { 0: formData['files'][1].file } : {} });\r\n            currentFileList.push({ name: \"file3\", file: formData['files'][2] ? { 0: formData['files'][2].file } : {} });\r\n            currentFileList.push({\r\n                name: \"video1\",\r\n                file: formData['videos'][0] ? { 0: formData['videos'][0].file } : {}\r\n            });\r\n            currentFileList.push({\r\n                name: \"video2\",\r\n                file: formData['videos'][1] ? { 0: formData['videos'][1].file } : {}\r\n            });\r\n            currentFileList.push({\r\n                name: \"video3\",\r\n                file: formData['videos'][2] ? { 0: formData['videos'][2].file } : {}\r\n            });\r\n            formData['file'] = currentFileList;\r\n            onSubmit(formData)\r\n\r\n        })\r\n    };\r\n\r\n    const dynamicFormItems = formItems.map((formItem) =>\r\n        <Col {...ColProps} key={formItem.name}\r\n             hidden={!(formItem.locale === null || formItem.locale === selectedFormLocale.locale)}>\r\n            <FormItem label={<Fragment>{formItem.locale !== null &&\r\n            <i className=\"vertical-align-middle icon icon-check-circle-o mr-1\" />}{formItem.label}</Fragment>}\r\n                      className=\"mb-0 \" hasFeedback {...formItemLayout}>\r\n                {getFieldDecorator(formItem.name, {\r\n                    initialValue: currentItem[formItem.name],\r\n                    ...formItem\r\n                })(formItem.obj)}\r\n            </FormItem>\r\n        </Col>\r\n    );\r\n    const languageMenu = () => (\r\n        <div className=\"gx-popover-lang-scroll overflow-hidden\">\r\n            <ul className=\"gx-sub-popover\">\r\n                {locales.map(language =>\r\n                    <li className=\"gx-media gx-pointer\" key={JSON.stringify(language)}\r\n                        onClick={(e) => onFormLocale(language)}>\r\n                        <i className={`flag flag-24 gx-mr-2 flag-${language.icon}`} />\r\n                        <span className=\"gx-language-text\">{language.name}</span>\r\n                    </li>\r\n                )}\r\n            </ul>\r\n        </div>);\r\n\r\n    const onEditorChange = (e) => {\r\n        onTextChange(e)\r\n    };\r\n    return (\r\n        <Modal\r\n            visible={modalVisible}\r\n            title={actionType === \"create\" ? intlMessages({\r\n                en: \"Create new news\",\r\n                ru: \"Создать новый новости\",\r\n                uz: \"Yangi yangilik yaratish\"\r\n            }) : intlMessages({ en: \"Update news\", ru: \"Изменить новости\", uz: \"Yangilikni tahrirlash\" })}\r\n            onOk={handleOk}\r\n            bodyStyle={{ height: 550, overflowY: \"auto\" }}\r\n            destroyOnClose={true}\r\n            width={900}\r\n            style={{ top: 20 }}\r\n            onCancel={onCancel}\r\n            cancelText={<IntlMessages id={'cancel'} />}\r\n            okText={<IntlMessages id={'save'} />}\r\n        >\r\n            <Form layout=\"horizontal\">\r\n                <Row gutter={24}>\r\n                    <Col span={24}>\r\n                        <div className=\"#\">\r\n                            <ul className=\"gx-header-notifications gx-ml-auto\">\r\n                                <li className=\"gx-language\">\r\n                                    <Popover overlayClassName=\"gx-popover-horizantal\" placement=\"bottomRight\"\r\n                                             content={languageMenu()} trigger=\"click\">\r\n              <span className=\"gx-pointer gx-flex-row gx-align-items-center\">\r\n                <i className={`flag flag-24 flag-${selectedFormLocale.icon}`} />\r\n                <span className={'gx-pl-2'}>{selectedFormLocale.name}</span>\r\n                <i className={'icon icon-chevron-down gx-pl-2 d-block'} />\r\n              </span>\r\n                                    </Popover>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </Col>\r\n                    {dynamicFormItems}\r\n                    <Editor\r\n                        title={\"field.text\"}\r\n                        text={text[selectedFormLocale['locale']]}\r\n                        onEditorChange={onEditorChange}\r\n                    />\r\n                    <Col {...ColProps}>\r\n                        <FormItem key=\"isStatus\" className=\"mb-0\" label={<IntlMessages id=\"status\" />}\r\n                                  hasFeedback {...formItemLayout}>\r\n\r\n                            {getFieldDecorator('isStatus', {\r\n                                initialValue: actionType === \"create\" ? true : currentItem && currentItem.isStatus,\r\n                                valuePropName: \"checked\"\r\n                            })\r\n                            (<Switch />)\r\n                            }\r\n                        </FormItem>\r\n                    </Col>\r\n                    <FileUpload\r\n                        name={\"main-img\"}\r\n                        title={<IntlMessages id=\"mainFile\" />}\r\n                        types={[\"image/jpeg\",\r\n                            \"image/png\",\r\n                            \"image/jpg\"]}\r\n                        size={50}\r\n                        file={file}\r\n                        onChangeFile={onChangeFile}\r\n                        formItemLayout={formItemLayout}\r\n                        colLayout={ColProp2}\r\n                    />\r\n                    <MultipleFileUpload\r\n                        name={\"other-img\"}\r\n                        files={files}\r\n                        types={[\"image/jpeg\",\r\n                            \"image/png\",\r\n                            \"image/jpg\"]}\r\n                        size={50}\r\n                        fileUploadCount={3}\r\n                        title={<IntlMessages id=\"otherImg\" />}\r\n                        formItemLayout={formItemLayout}\r\n                        colLayout={ColProp2}\r\n                        onChangeFile={onChangeAnyFile}\r\n                    />\r\n                    <MultipleFileVideoUpload\r\n                        name={\"videos\"}\r\n                        files={videos}\r\n                        types={[\"video/mp4\",\r\n                            \"video/webm\",\r\n                            \"video/ogg\"]}\r\n                        size={500}\r\n                        fileUploadCount={3}\r\n                        title={<IntlMessages id=\"video\" />}\r\n                        formItemLayout={formItemLayout}\r\n                        colLayout={ColProp2}\r\n                        onChangeFile={onChangeAnyFileVideo}\r\n                    />\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n};\r\n\r\nmodal.propTypes = {\r\n    form: PropTypes.object.isRequired,\r\n    type: PropTypes.string,\r\n    item: PropTypes.object,\r\n    onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Form.create()(modal)\r\n"]},"metadata":{},"sourceType":"module"}