{"ast":null,"code":"import React from'react';import{Form,Modal,Row,Col,Select,Input,DatePicker,message}from'antd';import{FileUpload}from'../../../../../components/CustomComponents';import IntlMessages,{intlMessages}from\"../../../../../util/IntlMessages\";import moment from\"moment\";var FormItem=Form.Item;var Option=Select.Option;var formItemLayout={labelCol:{xs:24,justify:\"center\"},wrapperCol:{justify:\"center\",xs:24}};var ColProps={xs:24,sm:24,md:12,xl:12,lg:12};var modal=function modal(_ref){var currentItem=_ref.currentItem,onSubmit=_ref.onSubmit,onCancel=_ref.onCancel,file=_ref.file,onChangeFile=_ref.onChangeFile,modalVisible=_ref.modalVisible,services=_ref.services,countries=_ref.countries,actionType=_ref.actionType,_ref$form=_ref.form,getFieldDecorator=_ref$form.getFieldDecorator,validateFields=_ref$form.validateFields,getFieldsValue=_ref$form.getFieldsValue;var handleOk=function handleOk(){validateFields(function(errors){if(errors||file==null||file.file==null){if(file===null||file.file===null){message.error(intlMessages({en:\"File problem!\",ru:\"Проблема с файлом!\",uz:\"Fayl bilan bog'liq muammo!\"}));}return;}var formData=getFieldsValue();formData['file']=file.file;formData['fileUpload']=true;formData['type']=true;if(actionType===\"update\"){formData['id']=currentItem.id;if(file&&file.fileStatus===\"delete\"){formData['file']={};}if(file&&file.fileStatus===\"create\"){formData['attachmentId']=currentItem.attachment&&currentItem.attachment.id;formData['file']={};}if(file&&!file.fileStatus){formData['file']={};formData['fileId']=currentItem.attachment&&currentItem.attachment.id;}}formData['trackingNumber']=formData['trackingNumber']===undefined||formData['trackingNumber']===null?\"\":formData['trackingNumber'];onSubmit(formData);});};var countryList=countries&&countries.length!==0?countries.map(function(item){return/*#__PURE__*/React.createElement(Option,{value:item.id,key:\"from\".concat(item.id)},intlMessages({en:item.nameEn,ru:item.nameRu,uz:item.nameUz}));}):[];var serviceList=services&&services.length!==0?services.map(function(item){return/*#__PURE__*/React.createElement(Option,{value:item.id,key:\"to\".concat(item.id)},intlMessages({en:item.titleEn,ru:item.titleRu,uz:item.titleUz}));}):[];return/*#__PURE__*/React.createElement(Modal,{visible:modalVisible,title:actionType===\"create\"?intlMessages({en:\"Create new client\",ru:\"Создать новый клиент\",uz:\"Yangi mijoz yaratish\"}):intlMessages({en:\"Update client\",ru:\"Изменить клиент\",uz:\"Mijozni tahrirlash\"}),onOk:handleOk,bodyStyle:{height:550,overflowY:\"auto\"},destroyOnClose:true,width:800,onCancel:onCancel,style:{top:20},cancelText:/*#__PURE__*/React.createElement(IntlMessages,{id:'cancel'}),okText:/*#__PURE__*/React.createElement(IntlMessages,{id:'save'})},/*#__PURE__*/React.createElement(Form,{layout:\"horizontal\"},/*#__PURE__*/React.createElement(Row,{gutter:24},/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(FormItem,Object.assign({key:\"companyName\",className:\"mb-0\",label:/*#__PURE__*/React.createElement(IntlMessages,{id:\"companyName\"}),hasFeedback:true},formItemLayout),getFieldDecorator('companyName',{initialValue:currentItem&&currentItem.companyName,rules:[{required:true,message:/*#__PURE__*/React.createElement(IntlMessages,{id:\"E_ERROR\"})}]})(/*#__PURE__*/React.createElement(Input,null)))),/*#__PURE__*/React.createElement(Col,ColProps,/*#__PURE__*/React.createElement(FormItem,Object.assign({key:\"companyStir\",className:\"mb-0\",label:/*#__PURE__*/React.createElement(IntlMessages,{id:\"companyStir\"}),hasFeedback:true},formItemLayout),getFieldDecorator('companyStir',{initialValue:currentItem&&currentItem.companyStir,rules:[{required:true,message:/*#__PURE__*/React.createElement(IntlMessages,{id:\"E_ERROR\"})}]})(/*#__PURE__*/React.createElement(Input,null)))),/*#__PURE__*/React.createElement(Col,ColProps,/*#__PURE__*/React.createElement(FormItem,Object.assign({key:\"trackingNumber\",className:\"mb-0\",label:/*#__PURE__*/React.createElement(IntlMessages,{id:\"trackingNumber\"}),hasFeedback:true},formItemLayout),getFieldDecorator('trackingNumber',{initialValue:currentItem&&currentItem.trackingNumber})(/*#__PURE__*/React.createElement(Input,{disabled:actionType===\"update\"&&currentItem.actionStatus!==null})))),/*#__PURE__*/React.createElement(Col,ColProps,/*#__PURE__*/React.createElement(FormItem,Object.assign({key:\"serviceType\",className:\"mb-0\",label:/*#__PURE__*/React.createElement(IntlMessages,{id:\"serviceType\"}),hasFeedback:true},formItemLayout),getFieldDecorator('serviceType',{initialValue:currentItem&&currentItem.serviceType&&currentItem.serviceType.id,rules:[{required:true,message:/*#__PURE__*/React.createElement(IntlMessages,{id:\"E_ERROR\"})}]})(/*#__PURE__*/React.createElement(Select,{name:\"serviceType\",allowClear:true,showSearch:true,optionFilterProp:\"children\",filterOption:function filterOption(input,option){return option.props.children.toLowerCase().indexOf(input.toLowerCase())>=0;}},serviceList)))),/*#__PURE__*/React.createElement(Col,ColProps,/*#__PURE__*/React.createElement(FormItem,Object.assign({key:\"dateOfAgreement\",className:\"mb-0\",label:/*#__PURE__*/React.createElement(IntlMessages,{id:\"dateOfAgreement\"}),hasFeedback:true},formItemLayout),getFieldDecorator('dateOfAgreement',{initialValue:currentItem&&moment(currentItem.dateOfAgreement),rules:[{required:true,message:/*#__PURE__*/React.createElement(IntlMessages,{id:\"E_ERROR\"})}]})(/*#__PURE__*/React.createElement(DatePicker,null)))),/*#__PURE__*/React.createElement(Col,ColProps,/*#__PURE__*/React.createElement(FormItem,Object.assign({key:\"fromCountry\",className:\"mb-0\",label:/*#__PURE__*/React.createElement(IntlMessages,{id:\"fromCountry\"}),hasFeedback:true},formItemLayout),getFieldDecorator('fromCountry',{initialValue:currentItem&&currentItem.fromCountry&&currentItem.fromCountry.id,rules:[{required:true,message:/*#__PURE__*/React.createElement(IntlMessages,{id:\"E_ERROR\"})}]})(/*#__PURE__*/React.createElement(Select,{name:\"fromCountry\",allowClear:true,showSearch:true,optionFilterProp:\"children\",filterOption:function filterOption(input,option){return option.props.children.toLowerCase().indexOf(input.toLowerCase())>=0;}},countryList)))),/*#__PURE__*/React.createElement(Col,ColProps,/*#__PURE__*/React.createElement(FormItem,Object.assign({key:\"toCountry\",className:\"mb-0\",label:/*#__PURE__*/React.createElement(IntlMessages,{id:\"toCountry\"}),hasFeedback:true},formItemLayout),getFieldDecorator('toCountry',{initialValue:currentItem&&currentItem.toCountry&&currentItem.toCountry.id,rules:[{required:true,message:/*#__PURE__*/React.createElement(IntlMessages,{id:\"E_ERROR\"})}]})(/*#__PURE__*/React.createElement(Select,{name:\"toCountry\",allowClear:true,showSearch:true,optionFilterProp:\"children\",filterOption:function filterOption(input,option){return option.props.children.toLowerCase().indexOf(input.toLowerCase())>=0;}},countryList)))),/*#__PURE__*/React.createElement(FileUpload,{name:\"file\",title:/*#__PURE__*/React.createElement(IntlMessages,{id:\"file\"}),size:50,types:[\"application/pdf\",\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\"file.type application/msword\"],fileTypeMessage:[\" .doc\",\" .docx \",\" .pdf\"],file:file,onChangeFile:onChangeFile,formItemLayout:formItemLayout,colLayout:ColProps}))));};export default Form.create()(modal);","map":{"version":3,"sources":["C:/Users/Ibrohim/Desktop/ark-front/src/routes/routesManagers/main/clients/components/Modal.js"],"names":["React","Form","Modal","Row","Col","Select","Input","DatePicker","message","FileUpload","IntlMessages","intlMessages","moment","FormItem","Item","Option","formItemLayout","labelCol","xs","justify","wrapperCol","ColProps","sm","md","xl","lg","modal","currentItem","onSubmit","onCancel","file","onChangeFile","modalVisible","services","countries","actionType","form","getFieldDecorator","validateFields","getFieldsValue","handleOk","errors","error","en","ru","uz","formData","id","fileStatus","attachment","undefined","countryList","length","map","item","nameEn","nameRu","nameUz","serviceList","titleEn","titleRu","titleUz","height","overflowY","top","initialValue","companyName","rules","required","companyStir","trackingNumber","actionStatus","serviceType","input","option","props","children","toLowerCase","indexOf","dateOfAgreement","fromCountry","toCountry","create"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {Form, Modal, Row, Col, Select, Input, DatePicker, message} from 'antd'\r\nimport {FileUpload} from '../../../../../components/CustomComponents'\r\nimport IntlMessages, {intlMessages} from \"../../../../../util/IntlMessages\";\r\nimport moment from \"moment\";\r\n\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: 24,\r\n    justify: \"center\"\r\n  },\r\n  wrapperCol: {\r\n    justify: \"center\",\r\n    xs: 24,\r\n  },\r\n};\r\nconst ColProps = {xs: 24, sm: 24, md: 12, xl: 12, lg: 12};\r\nconst modal = ({\r\n                 currentItem,\r\n                 onSubmit,\r\n                 onCancel,\r\n                 file,\r\n                 onChangeFile,\r\n                 modalVisible,\r\n                 services,\r\n                 countries,\r\n                 actionType,\r\n                 form: {\r\n                   getFieldDecorator,\r\n                   validateFields,\r\n                   getFieldsValue,\r\n                 },\r\n               }) => {\r\n\r\n  const handleOk = () => {\r\n    validateFields((errors) => {\r\n      if (errors || file == null || file.file == null) {\r\n        if (file === null || file.file === null) {\r\n          message.error(intlMessages({\r\n            en: \"File problem!\",\r\n            ru: \"Проблема с файлом!\",\r\n            uz: \"Fayl bilan bog'liq muammo!\"\r\n          }));\r\n        }\r\n        return;\r\n      }\r\n      let formData = getFieldsValue();\r\n      formData['file'] = file.file;\r\n      formData['fileUpload'] = true;\r\n      formData['type'] = true;\r\n      if (actionType === \"update\") {\r\n        formData['id'] = currentItem.id;\r\n        if (file && file.fileStatus === \"delete\") {\r\n          formData['file'] = {};\r\n        }\r\n        if (file && file.fileStatus === \"create\") {\r\n          formData['attachmentId'] = currentItem.attachment && currentItem.attachment.id;\r\n          formData['file'] = {};\r\n        }\r\n        if (file && !file.fileStatus) {\r\n          formData['file'] = {};\r\n          formData['fileId'] = currentItem.attachment && currentItem.attachment.id;\r\n        }\r\n      }\r\n      formData['trackingNumber'] = formData['trackingNumber'] === undefined || formData['trackingNumber'] === null ? \"\" : formData['trackingNumber'];\r\n      onSubmit(formData)\r\n    })\r\n  };\r\n\r\n  const countryList = countries && countries.length !== 0 ? countries.map(item => {\r\n    return <Option value={item.id} key={`from${item.id}`}>{intlMessages({\r\n      en: item.nameEn,\r\n      ru: item.nameRu,\r\n      uz: item.nameUz\r\n    })}</Option>\r\n  }) : [];\r\n  const serviceList = services && services.length !== 0 ? services.map(item => {\r\n    return <Option value={item.id} key={`to${item.id}`}>{intlMessages({\r\n      en: item.titleEn,\r\n      ru: item.titleRu,\r\n      uz: item.titleUz\r\n    })}</Option>\r\n  }) : [];\r\n  return (\r\n    <Modal\r\n      visible={modalVisible}\r\n      title={actionType === \"create\" ?\r\n        intlMessages({\r\n          en: \"Create new client\",\r\n          ru: \"Создать новый клиент\",\r\n          uz: \"Yangi mijoz yaratish\"\r\n        })\r\n        :\r\n        intlMessages({en: \"Update client\", ru: \"Изменить клиент\", uz: \"Mijozni tahrirlash\"})}\r\n      onOk={handleOk}\r\n      bodyStyle={{height: 550, overflowY: \"auto\"}}\r\n      destroyOnClose={true}\r\n      width={800}\r\n      onCancel={onCancel}\r\n      style={{top: 20}}\r\n      cancelText={<IntlMessages id={'cancel'}/>}\r\n      okText={<IntlMessages id={'save'}/>}\r\n    >\r\n      <Form layout=\"horizontal\">\r\n        <Row gutter={24}>\r\n          <Col span={24}>\r\n            <FormItem key=\"companyName\" className=\"mb-0\" label={<IntlMessages id=\"companyName\"/>}\r\n                      hasFeedback {...formItemLayout}>\r\n              {getFieldDecorator('companyName', {\r\n                initialValue: currentItem && currentItem.companyName,\r\n                rules: [{\r\n                  required: true,\r\n                  message: <IntlMessages id=\"E_ERROR\"/>\r\n                }]\r\n              })\r\n              (<Input/>)\r\n              }\r\n            </FormItem>\r\n          </Col>\r\n          <Col {...ColProps}>\r\n            <FormItem key=\"companyStir\" className=\"mb-0\" label={<IntlMessages id=\"companyStir\"/>}\r\n                      hasFeedback {...formItemLayout}>\r\n              {getFieldDecorator('companyStir', {\r\n                initialValue: currentItem && currentItem.companyStir,\r\n                rules: [{\r\n                  required: true,\r\n                  message: <IntlMessages id=\"E_ERROR\"/>\r\n                }]\r\n              })\r\n              (<Input/>)\r\n              }\r\n            </FormItem>\r\n          </Col>\r\n          <Col {...ColProps}>\r\n            <FormItem key=\"trackingNumber\" className=\"mb-0\" label={<IntlMessages id=\"trackingNumber\"/>}\r\n                      hasFeedback {...formItemLayout}>\r\n              {getFieldDecorator('trackingNumber', {\r\n                initialValue: currentItem && currentItem.trackingNumber,\r\n              })\r\n              (<Input disabled={actionType === \"update\" && currentItem.actionStatus !== null}/>)\r\n              }\r\n            </FormItem>\r\n          </Col>\r\n          <Col {...ColProps}>\r\n            <FormItem key=\"serviceType\" className=\"mb-0\" label={<IntlMessages id=\"serviceType\"/>}\r\n                      hasFeedback {...formItemLayout}>\r\n              {getFieldDecorator('serviceType', {\r\n                initialValue: currentItem && currentItem.serviceType && currentItem.serviceType.id,\r\n                rules: [{\r\n                  required: true,\r\n                  message: <IntlMessages id=\"E_ERROR\"/>\r\n                }]\r\n              })\r\n              (<Select\r\n                name=\"serviceType\"\r\n                allowClear\r\n                showSearch\r\n                optionFilterProp=\"children\"\r\n                filterOption={(input, option) =>\r\n                  option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                }\r\n              >\r\n                {serviceList}\r\n              </Select>,)\r\n              }\r\n            </FormItem>\r\n          </Col>\r\n          <Col {...ColProps}>\r\n            <FormItem key=\"dateOfAgreement\" className=\"mb-0\" label={<IntlMessages id=\"dateOfAgreement\"/>}\r\n                      hasFeedback {...formItemLayout}>\r\n              {getFieldDecorator('dateOfAgreement', {\r\n                initialValue: currentItem && moment(currentItem.dateOfAgreement),\r\n                rules: [{\r\n                  required: true,\r\n                  message: <IntlMessages id=\"E_ERROR\"/>\r\n                }]\r\n              })\r\n              (<DatePicker/>)\r\n              }\r\n            </FormItem>\r\n          </Col>\r\n          <Col {...ColProps}>\r\n            <FormItem key=\"fromCountry\" className=\"mb-0\" label={<IntlMessages id=\"fromCountry\"/>}\r\n                      hasFeedback {...formItemLayout}>\r\n              {getFieldDecorator('fromCountry', {\r\n                initialValue: currentItem && currentItem.fromCountry && currentItem.fromCountry.id,\r\n                rules: [{\r\n                  required: true,\r\n                  message: <IntlMessages id=\"E_ERROR\"/>\r\n                }]\r\n              })\r\n              (<Select\r\n                name=\"fromCountry\"\r\n                allowClear\r\n                showSearch\r\n                optionFilterProp=\"children\"\r\n                filterOption={(input, option) =>\r\n                  option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                }\r\n              >\r\n                {countryList}\r\n              </Select>,)\r\n              }\r\n            </FormItem>\r\n          </Col>\r\n          <Col {...ColProps}>\r\n            <FormItem key=\"toCountry\" className=\"mb-0\" label={<IntlMessages id=\"toCountry\"/>}\r\n                      hasFeedback {...formItemLayout}>\r\n              {getFieldDecorator('toCountry', {\r\n                initialValue: currentItem && currentItem.toCountry && currentItem.toCountry.id,\r\n                rules: [{\r\n                  required: true,\r\n                  message: <IntlMessages id=\"E_ERROR\"/>\r\n                }]\r\n              })\r\n              (<Select\r\n                name=\"toCountry\"\r\n                allowClear\r\n                showSearch\r\n                optionFilterProp=\"children\"\r\n                filterOption={(input, option) =>\r\n                  option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                }\r\n              >\r\n                {countryList}\r\n              </Select>,)\r\n              }\r\n            </FormItem>\r\n          </Col>\r\n\r\n\r\n          <FileUpload\r\n            name={\"file\"}\r\n            title={<IntlMessages id=\"file\"/>}\r\n            size={50}\r\n            types={[\"application/pdf\",\r\n              \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\r\n              \"file.type application/msword\"]}\r\n            fileTypeMessage={[\" .doc\", \" .docx \", \" .pdf\"]}\r\n            file={file}\r\n            onChangeFile={onChangeFile}\r\n            formItemLayout={formItemLayout}\r\n            colLayout={ColProps}\r\n          />\r\n        </Row>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n};\r\n\r\nmodal.propTypes = {\r\n  form: PropTypes.object.isRequired,\r\n  type: PropTypes.string,\r\n  item: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Form.create()(modal)\r\n"]},"metadata":{},"sourceType":"module"}