{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Card,Input,notification,Tag}from\"antd/lib/index\";import{EditorState,ContentState,convertFromHTML}from'draft-js';import ApiRequest from\"../../../../services\";import api from'../../../../services/app';import Filter from'./components/Filter';import Modal from'./components/Modal';import List from'./components/List';import IntlMessages,{intlMessages}from\"../../../../util/IntlMessages\";import{FileView}from\"../../../../components/CustomComponents\";import{apiFileUrl}from\"../../../../util/constants\";var getNews=api.getNews,postNews=api.postNews,putNews=api.putNews,deleteNews=api.deleteNews,searchNews=api.searchNews,postIsActiveNews=api.postIsActiveNews;var Certificates=/*#__PURE__*/function(_Component){_inherits(Certificates,_Component);var _super=_createSuper(Certificates);function Certificates(props){var _this;_classCallCheck(this,Certificates);_this=_super.call(this,props);_this.onStartEvent=function(payload){ApiRequest(getNews,payload).then(function(result){if(result.success){_this.setState({list:result.object});}});};_this.onRequestFunc=function(path,data,message){ApiRequest(path,data).then(function(result){if(result.success){_this.setState({actionType:'create',modalVisible:false,file:null,currentItem:{},text:{en:\"\",ru:\"\",uz:\"\"}});notification.success({key:message.key,message:message.messageSuccess,description:message.descriptionSuccess});_this.onCancel();_this.onStartEvent();}else{notification.error({key:message.key,message:message.messageError,description:message.descriptionError});}});};_this.onFormLocale=function(dataItem){return _this.setState({selectedFormLocale:dataItem});};_this.onSubmit=function(data){var message={};if(_this.state.actionType===\"create\"){message={key:\"create\",messageError:intlMessages({en:\"There was an error creating\",ru:\"Произошла ошибка при создании\",uz:\"Yaratishda xatolik yuz berdi\"}),messageSuccess:intlMessages({en:\"Successfully created\",ru:\"Успешно создан\",uz:\"Muvaffaqqiyatli yaratildi\"})};_this.onRequestFunc(postNews,data,message);}if(_this.state.actionType===\"update\"){message={key:\"update\",messageError:intlMessages({en:\"There was an error updating\",ru:\"Произошла ошибка при изменение\",uz:\"Tahrirlashda xatolik yuz berdi\"}),messageSuccess:intlMessages({en:\"Successfully updated\",ru:\"Успешно изменено\",uz:\"Muvaffaqqiyatli tahrirlandi\"})};_this.onRequestFunc(putNews,_objectSpread({id:_this.state.currentItem.id},data),message);}};_this.onCancel=function(){_this.setState({modalVisible:false,actionType:'create',text:{en:\"\",ru:\"\",uz:\"\"},file:null,videos:[],files:[],selectedFormLocale:{languageId:'nameEn',locale:'en',name:'English',icon:'us'}});};_this.onAdd=function(){_this.setState({modalVisible:true,actionType:'create'});};_this.onDelete=function(dataItemId){var message={key:\"delete\",messageError:\"There was an error deleting\",messageSuccess:\"Successfully deleted\",descriptionError:\"DescriptionSuccessfully deleted\",descriptionSuccess:\"DescriptionSuccessfully deleted\"};_this.onRequestFunc(deleteNews,{id:dataItemId},message);};_this.onEditItem=function(dataItem){var files=[];var videos=[];if(dataItem['otherAttachmentList'].length!==0){dataItem['otherAttachmentList'].map(function(item){return files.push({fileUrl:apiFileUrl+item.id,file:item,fileStatus:\"create\"});});}if(dataItem['videos'].length!==0){dataItem['videos'].map(function(item){return videos.push({fileUrl:apiFileUrl+item.id,file:item,fileStatus:\"create\"});});}_this.setState({actionType:\"update\",text:{en:EditorState.createWithContent(ContentState.createFromBlockArray(convertFromHTML(dataItem.textEn))),ru:EditorState.createWithContent(ContentState.createFromBlockArray(convertFromHTML(dataItem.textRu))),uz:EditorState.createWithContent(ContentState.createFromBlockArray(convertFromHTML(dataItem.textUz)))},currentItem:dataItem,files:files,videos:videos,file:dataItem.mainAttachment?{fileUrl:apiFileUrl+dataItem.mainAttachment.id,file:dataItem.mainAttachment,fileStatus:\"create\"}:null,modalVisible:true});};_this.onChangeFile=function(file){_this.setState({file:file});};_this.onChangeAnyFile=function(files){_this.setState({files:files});};_this.onChangeAnyFileVideo=function(files){_this.setState({videos:files});};_this.onTextChange=function(e){var _this$state=_this.state,text=_this$state.text,selectedFormLocale=_this$state.selectedFormLocale;text[selectedFormLocale['locale']]=e;_this.setState({text:text});};_this.onChangeSearch=function(text){_this.setState({searchText:text});};_this.handleSubmitSearch=function(text){ApiRequest(searchNews,{word:_this.state.searchText,isActive:_this.state.isActive}).then(function(result){if(result.success){_this.setState({list:result.object});}});};_this.handleResetSearch=function(){_this.onStartEvent({page:0,size:20});_this.setState({searchText:\"\",isActive:true});};_this.onActive=function(e){ApiRequest(postIsActiveNews,{isActive:e}).then(function(result){if(result.success){_this.setState(function(state,props){return{list:result.object,isActive:!state.isActive};});}else{_this.setState(function(state,props){return{isActive:!state.isActive};});}});};_this.state={actionType:'create',modalVisible:false,isActive:true,searchText:\"\",columns:[{title:/*#__PURE__*/React.createElement(\"strong\",null,\"\\u2116\"),key:\"№\",align:\"center\",width:60,render:function render(text,record,index){return index+1;}},{title:/*#__PURE__*/React.createElement(IntlMessages,{id:'attachment'}),key:\"file\",align:\"center\",width:100,render:function render(text,record,index){return/*#__PURE__*/React.createElement(FileView,{fileId:record.mainAttachment&&record.mainAttachment.id,defaultView:\"picture\"});}},intlMessages({en:{title:\"Title\",dataIndex:'titleEn',align:\"center\",width:250,key:'titleEn'},ru:{title:\"Название\",dataIndex:'titleRu',width:250,align:\"center\",key:'titleRu'},uz:{title:\"Sarlavha\",dataIndex:'titleUz',width:250,align:\"center\",key:'titleUz'}}),{title:intlMessages({en:\"Description\",ru:\"Описание\",uz:\"Ta'rif\"}),key:\"text\",render:function render(text,record,index){return/*#__PURE__*/React.createElement(\"div\",{className:'text-block-table',dangerouslySetInnerHTML:{__html:intlMessages({en:record.textEn,ru:record.textRu,uz:record.textUz})}});}},{title:/*#__PURE__*/React.createElement(IntlMessages,{id:\"isActive\"}),dataIndex:'isActive',align:\"center\",key:'isActive',render:function render(text,record){return/*#__PURE__*/React.createElement(\"div\",null,record.isStatus===true?/*#__PURE__*/React.createElement(Tag,{color:\"#87d068\"},/*#__PURE__*/React.createElement(IntlMessages,{id:\"enabled\"})):/*#__PURE__*/React.createElement(Tag,{color:\"#f50\"},/*#__PURE__*/React.createElement(IntlMessages,{id:\"disabled\"})));}},{title:/*#__PURE__*/React.createElement(IntlMessages,{id:'createAt'}),key:'createdAt',align:\"center\",width:100,render:function render(text,record,index){var date=new Date(record.createdAt);return date.getDate()+'/'+date.getMonth()+'/'+date.getFullYear();}}],formItems:[{label:\"Title\",name:'titleEn',rules:[{required:true,message:/*#__PURE__*/React.createElement(IntlMessages,{id:\"E_ERROR\"})}],locale:\"en\",obj:/*#__PURE__*/React.createElement(Input,null)},{label:\"Название\",name:'titleRu',locale:\"ru\",obj:/*#__PURE__*/React.createElement(Input,null)},{label:\"Sarlavha\",name:'titleUz',locale:\"uz\",obj:/*#__PURE__*/React.createElement(Input,null)}],currentItem:{},list:[],pagination:{showSizeChanger:true,showQuickJumper:true,showTotal:function showTotal(total){return\"Total \".concat(total,\" Items\");},current:1,total:0,pageSize:20},selectedFormLocale:{languageId:'nameEn',locale:'en',name:'English',icon:'us'},file:null,files:[],videos:[],text:{en:\"\",ru:\"\",uz:\"\"}};return _this;}_createClass(Certificates,[{key:\"componentDidMount\",value:function componentDidMount(){this.onStartEvent();}},{key:\"render\",value:function render(){var _this$state2=this.state,currentItem=_this$state2.currentItem,modalVisible=_this$state2.modalVisible,isActive=_this$state2.isActive,searchText=_this$state2.searchText,file=_this$state2.file,files=_this$state2.files,videos=_this$state2.videos,text=_this$state2.text,columns=_this$state2.columns,formItems=_this$state2.formItems,list=_this$state2.list,actionType=_this$state2.actionType,pagination=_this$state2.pagination,selectedFormLocale=_this$state2.selectedFormLocale;return/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Filter,{onAdd:this.onAdd,isActive:isActive,searchText:searchText,onActive:this.onActive,handleResetSearch:this.handleResetSearch,handleSubmitSearch:this.handleSubmitSearch,onChangeSearch:this.onChangeSearch}),/*#__PURE__*/React.createElement(List,{visibleColumns:columns,dataSource:list,onEditItem:this.onEditItem,pagination:pagination.total>=10?_objectSpread({},pagination):false,onDeleteItem:this.onDelete}),/*#__PURE__*/React.createElement(Modal,{onSubmit:this.onSubmit,onCancel:this.onCancel,onChangeFile:this.onChangeFile,onChangeAnyFile:this.onChangeAnyFile,onChangeAnyFileVideo:this.onChangeAnyFileVideo,onFormLocale:this.onFormLocale,onTextChange:this.onTextChange,files:files,videos:videos,file:file,text:text,modalVisible:modalVisible,selectedFormLocale:selectedFormLocale,formItems:formItems,actionType:actionType,currentItem:actionType==='create'?{}:currentItem}));}}]);return Certificates;}(Component);export default Certificates;","map":{"version":3,"sources":["C:/Users/Ibrohim/Desktop/ark-front/src/routes/routesManagers/settings/news/index.js"],"names":["React","Component","Card","Input","notification","Tag","EditorState","ContentState","convertFromHTML","ApiRequest","api","Filter","Modal","List","IntlMessages","intlMessages","FileView","apiFileUrl","getNews","postNews","putNews","deleteNews","searchNews","postIsActiveNews","Certificates","props","onStartEvent","payload","then","result","success","setState","list","object","onRequestFunc","path","data","message","actionType","modalVisible","file","currentItem","text","en","ru","uz","key","messageSuccess","description","descriptionSuccess","onCancel","error","messageError","descriptionError","onFormLocale","dataItem","selectedFormLocale","onSubmit","state","id","videos","files","languageId","locale","name","icon","onAdd","onDelete","dataItemId","onEditItem","length","map","item","push","fileUrl","fileStatus","createWithContent","createFromBlockArray","textEn","textRu","textUz","mainAttachment","onChangeFile","onChangeAnyFile","onChangeAnyFileVideo","onTextChange","e","onChangeSearch","searchText","handleSubmitSearch","word","isActive","handleResetSearch","page","size","onActive","columns","title","align","width","render","record","index","dataIndex","__html","isStatus","date","Date","createdAt","getDate","getMonth","getFullYear","formItems","label","rules","required","obj","pagination","showSizeChanger","showQuickJumper","showTotal","total","current","pageSize"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Card, Input, notification, Tag} from \"antd/lib/index\";\r\nimport {EditorState, ContentState, convertFromHTML} from 'draft-js'\r\nimport ApiRequest from \"../../../../services\";\r\nimport api from '../../../../services/app'\r\nimport Filter from './components/Filter'\r\nimport Modal from './components/Modal'\r\nimport List from './components/List'\r\nimport IntlMessages, {intlMessages} from \"../../../../util/IntlMessages\";\r\nimport {FileView} from \"../../../../components/CustomComponents\";\r\nimport {apiFileUrl} from \"../../../../util/constants\";\r\n\r\nconst {getNews, postNews, putNews, deleteNews, searchNews,postIsActiveNews} = api;\r\n\r\nclass Certificates extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            actionType: 'create',\r\n            modalVisible: false,\r\n            isActive: true,\r\n            searchText: \"\",\r\n            columns: [{\r\n                title: <strong>№</strong>,\r\n                key: \"№\",\r\n                align: \"center\",\r\n                width: 60,\r\n                render: (text, record, index) => index + 1,\r\n            },\r\n                {\r\n                    title: <IntlMessages id={'attachment'}/>,\r\n                    key: \"file\",\r\n                    align: \"center\",\r\n                    width: 100,\r\n                    render: (text, record, index) => (\r\n                        <FileView fileId={record.mainAttachment && record.mainAttachment.id} defaultView={\"picture\"}/>)\r\n\r\n                },\r\n                (intlMessages({\r\n                    en: {\r\n                        title: \"Title\",\r\n                        dataIndex: 'titleEn',\r\n                        align: \"center\",\r\n                        width:250,\r\n                        key: 'titleEn'\r\n                    }, ru: {\r\n                        title: \"Название\",\r\n                        dataIndex: 'titleRu',\r\n                        width:250,\r\n                        align: \"center\",\r\n                        key: 'titleRu'\r\n                    },\r\n                    uz: {\r\n                        title: \"Sarlavha\",\r\n                        dataIndex: 'titleUz',\r\n                        width:250,\r\n                        align: \"center\",\r\n                        key: 'titleUz'\r\n                    }\r\n                })),\r\n                {\r\n                    title: (intlMessages({en: \"Description\", ru: \"Описание\", uz: \"Ta'rif\"})),\r\n                    key: \"text\",\r\n                    render: (text, record, index) => (<div className={'text-block-table'} dangerouslySetInnerHTML={{\r\n                        __html: (intlMessages({\r\n                            en: record.textEn,\r\n                            ru: record.textRu,\r\n                            uz: record.textUz\r\n                        }))\r\n                    }}/>),\r\n                },\r\n                {\r\n                    title: <IntlMessages id=\"isActive\"/>,\r\n                    dataIndex: 'isActive',\r\n                    align: \"center\",\r\n                    key: 'isActive',\r\n                    render: (text, record) => {\r\n                        return (\r\n                            <div>{record.isStatus === true ? <Tag color=\"#87d068\"><IntlMessages id=\"enabled\"/></Tag> :\r\n                                <Tag color=\"#f50\"><IntlMessages id=\"disabled\"/></Tag>}</div>)\r\n                    }\r\n                },\r\n                {\r\n                    title: <IntlMessages id={'createAt'}/>,\r\n                    key: 'createdAt',\r\n                    align: \"center\",\r\n                    width: 100,\r\n                    render: (text, record, index) => {\r\n                        let date = new Date(record.createdAt);\r\n                        return date.getDate() + '/' + date.getMonth() + '/' + date.getFullYear()\r\n                    },\r\n                }\r\n            ],\r\n\r\n            formItems: [\r\n                {\r\n                    label: \"Title\",\r\n                    name: 'titleEn',\r\n                    rules: [\r\n                        {\r\n                            required: true,\r\n                            message: <IntlMessages id=\"E_ERROR\"/>\r\n\r\n                        },\r\n                    ],\r\n                    locale: \"en\",\r\n                    obj: <Input/>\r\n                },\r\n                {\r\n                    label: \"Название\",\r\n                    name: 'titleRu',\r\n                    locale: \"ru\",\r\n                    obj: <Input/>\r\n                },\r\n                {\r\n                    label: \"Sarlavha\",\r\n                    name: 'titleUz',\r\n                    locale: \"uz\",\r\n                    obj: <Input/>\r\n                }\r\n            ],\r\n            currentItem: {},\r\n            list: [],\r\n            pagination: {\r\n                showSizeChanger: true,\r\n                showQuickJumper: true,\r\n                showTotal: total => `Total ${total} Items`,\r\n                current: 1,\r\n                total: 0,\r\n                pageSize: 20,\r\n            },\r\n            selectedFormLocale: {\r\n                languageId: 'nameEn',\r\n                locale: 'en',\r\n                name: 'English',\r\n                icon: 'us',\r\n            },\r\n            file: null,\r\n            files: [],\r\n            videos: [],\r\n            text: {\r\n                en: \"\",\r\n                ru: \"\",\r\n                uz: \"\",\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onStartEvent()\r\n    }\r\n\r\n    onStartEvent = (payload) => {\r\n        ApiRequest(getNews, payload).then((result => {\r\n            if (result.success) {\r\n                this.setState({\r\n                    list: result.object,\r\n                })\r\n            }\r\n        }));\r\n    };\r\n\r\n\r\n    onRequestFunc = (path, data, message) => {\r\n        ApiRequest(path, data).then((result => {\r\n            if (result.success) {\r\n                this.setState({\r\n                    actionType: 'create',\r\n                    modalVisible: false,\r\n                    file: null,\r\n                    currentItem: {},\r\n                    text: {\r\n                        en: \"\",\r\n                        ru: \"\",\r\n                        uz: \"\",\r\n                    }\r\n                });\r\n                notification.success({\r\n                    key: message.key,\r\n                    message: message.messageSuccess,\r\n                    description: message.descriptionSuccess,\r\n                });\r\n                this.onCancel();\r\n                this.onStartEvent();\r\n            } else {\r\n                notification.error({\r\n                    key: message.key,\r\n                    message: message.messageError,\r\n                    description: message.descriptionError,\r\n                });\r\n            }\r\n        }))\r\n    };\r\n    onFormLocale = (dataItem) => {\r\n        return this.setState({\r\n            selectedFormLocale: dataItem\r\n        })\r\n    };\r\n\r\n\r\n    onSubmit = (data) => {\r\n        let message = {};\r\n        if (this.state.actionType === \"create\") {\r\n            message = {\r\n                key: \"create\",\r\n                messageError: intlMessages({\r\n                    en: \"There was an error creating\",\r\n                    ru: \"Произошла ошибка при создании\",\r\n                    uz: \"Yaratishda xatolik yuz berdi\"\r\n                }),\r\n                messageSuccess: intlMessages({\r\n                    en: \"Successfully created\",\r\n                    ru: \"Успешно создан\",\r\n                    uz: \"Muvaffaqqiyatli yaratildi\"\r\n                }),\r\n            };\r\n            this.onRequestFunc(postNews, data, message)\r\n        }\r\n        if (this.state.actionType === \"update\") {\r\n            message = {\r\n                key: \"update\",\r\n                messageError: intlMessages({\r\n                    en: \"There was an error updating\",\r\n                    ru: \"Произошла ошибка при изменение\",\r\n                    uz: \"Tahrirlashda xatolik yuz berdi\"\r\n                }),\r\n                messageSuccess: intlMessages({\r\n                    en: \"Successfully updated\",\r\n                    ru: \"Успешно изменено\",\r\n                    uz: \"Muvaffaqqiyatli tahrirlandi\"\r\n                }),\r\n            };\r\n            this.onRequestFunc(putNews, {\r\n                id: this.state.currentItem.id, ...data\r\n            }, message)\r\n        }\r\n    };\r\n    onCancel = () => {\r\n        this.setState({\r\n                modalVisible: false,\r\n                actionType: 'create',\r\n                text: {\r\n                    en: \"\",\r\n                    ru: \"\",\r\n                    uz: \"\",\r\n                },\r\n                file: null,\r\n                videos: [],\r\n                files: [],\r\n                selectedFormLocale: {\r\n                    languageId: 'nameEn',\r\n                    locale: 'en',\r\n                    name: 'English',\r\n                    icon: 'us',\r\n                }\r\n            }\r\n        )\r\n    };\r\n    onAdd = () => {\r\n        this.setState({modalVisible: true, actionType: 'create'})\r\n    };\r\n    onDelete = (dataItemId) => {\r\n        let message = {\r\n            key: \"delete\",\r\n            messageError: \"There was an error deleting\",\r\n            messageSuccess: \"Successfully deleted\",\r\n            descriptionError: \"DescriptionSuccessfully deleted\",\r\n            descriptionSuccess: \"DescriptionSuccessfully deleted\",\r\n        };\r\n        this.onRequestFunc(deleteNews, {id: dataItemId}, message)\r\n    };\r\n    onEditItem = (dataItem) => {\r\n        let files = [];\r\n        let videos = [];\r\n        if (dataItem['otherAttachmentList'].length !== 0) {\r\n            dataItem['otherAttachmentList'].map((item) => {\r\n                return files.push({\r\n                    fileUrl: apiFileUrl + item.id,\r\n                    file: item,\r\n                    fileStatus: \"create\"\r\n                })\r\n            })\r\n        }\r\n        if (dataItem['videos'].length !== 0) {\r\n            dataItem['videos'].map((item) => {\r\n                return videos.push({\r\n                    fileUrl: apiFileUrl + item.id,\r\n                    file: item,\r\n                    fileStatus: \"create\"\r\n                })\r\n            })\r\n        }\r\n\r\n        this.setState({\r\n            actionType: \"update\",\r\n            text: {\r\n                en: EditorState.createWithContent(\r\n                    ContentState.createFromBlockArray(\r\n                        convertFromHTML(dataItem.textEn)\r\n                    )\r\n                )\r\n                ,\r\n                ru: EditorState.createWithContent(\r\n                    ContentState.createFromBlockArray(\r\n                        convertFromHTML(dataItem.textRu)\r\n                    )\r\n                ),\r\n                uz: EditorState.createWithContent(\r\n                    ContentState.createFromBlockArray(\r\n                        convertFromHTML(dataItem.textUz)\r\n                    )\r\n                ),\r\n            },\r\n            currentItem: dataItem,\r\n            files: files,\r\n            videos: videos,\r\n            file: dataItem.mainAttachment ? {\r\n                fileUrl: apiFileUrl + dataItem.mainAttachment.id,\r\n                file: dataItem.mainAttachment,\r\n                fileStatus: \"create\"\r\n            } : null,\r\n            modalVisible: true,\r\n        })\r\n    };\r\n\r\n    onChangeFile = (file) => {\r\n        this.setState({\r\n            file: file\r\n        })\r\n    };\r\n    onChangeAnyFile = (files) => {\r\n        this.setState({\r\n            files: files\r\n        })\r\n    };\r\n\r\n    onChangeAnyFileVideo = (files) => {\r\n        this.setState({\r\n            videos: files\r\n        })\r\n    };\r\n\r\n    onTextChange = (e) => {\r\n        let {text, selectedFormLocale} = this.state;\r\n        text[selectedFormLocale['locale']] = e;\r\n        this.setState({\r\n            text: text\r\n        })\r\n    };\r\n\r\n    onChangeSearch = (text) => {\r\n        this.setState({\r\n            searchText: text\r\n        })\r\n    };\r\n\r\n    handleSubmitSearch = (text) => {\r\n        ApiRequest(searchNews, {word: this.state.searchText,isActive:this.state.isActive}).then((result) => {\r\n            if (result.success) {\r\n                this.setState({\r\n                    list: result.object,\r\n                })\r\n            }\r\n        })\r\n    };\r\n\r\n    handleResetSearch = () => {\r\n        this.onStartEvent(\r\n            {\r\n                page: 0,\r\n                size: 20\r\n            }\r\n        );\r\n        this.setState({\r\n            searchText: \"\",\r\n            isActive: true\r\n        })\r\n    };\r\n    onActive = (e) => {\r\n        ApiRequest(postIsActiveNews,{isActive:e}).then((result)=>{\r\n            if (result.success){\r\n                this.setState((state,props)=>({\r\n                    list:result.object,\r\n                    isActive:!state.isActive\r\n                }))\r\n            }else {\r\n                this.setState((state,props)=>({\r\n                    isActive:!state.isActive\r\n                }))\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    render() {\r\n        const {currentItem, modalVisible,isActive,searchText, file,files, videos,text, columns, formItems, list, actionType, pagination, selectedFormLocale} = this.state;\r\n        return (\r\n            <Card>\r\n                <Filter onAdd={this.onAdd}\r\n                        isActive={isActive}\r\n                        searchText={searchText}\r\n                        onActive={this.onActive}\r\n                        handleResetSearch={this.handleResetSearch}\r\n                        handleSubmitSearch={this.handleSubmitSearch}\r\n                        onChangeSearch={this.onChangeSearch}/>\r\n                <List visibleColumns={columns}\r\n                      dataSource={list}\r\n                      onEditItem={this.onEditItem}\r\n                      pagination={pagination.total >= 10 ? {\r\n                          ...pagination,\r\n                      } : false}\r\n                      onDeleteItem={this.onDelete}/>\r\n                <Modal\r\n                    onSubmit={this.onSubmit}\r\n                    onCancel={this.onCancel}\r\n                    onChangeFile={this.onChangeFile}\r\n                    onChangeAnyFile={this.onChangeAnyFile}\r\n                    onChangeAnyFileVideo={this.onChangeAnyFileVideo}\r\n                    onFormLocale={this.onFormLocale}\r\n                    onTextChange={this.onTextChange}\r\n                    files={files}\r\n                    videos={videos}\r\n                    file={file}\r\n                    text={text}\r\n                    modalVisible={modalVisible}\r\n                    selectedFormLocale={selectedFormLocale}\r\n                    formItems={formItems}\r\n                    actionType={actionType}\r\n                    currentItem={actionType === 'create' ? {} : currentItem}\r\n                />\r\n            </Card>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Certificates;\r\n"]},"metadata":{},"sourceType":"module"}