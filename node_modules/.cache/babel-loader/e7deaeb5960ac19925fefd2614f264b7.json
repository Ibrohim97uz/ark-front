{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _reactLifecyclesCompat = require('react-lifecycles-compat');\n\nvar _shallowequal = require('shallowequal');\n\nvar _shallowequal2 = _interopRequireDefault(_shallowequal);\n\nvar _Track = require('./common/Track');\n\nvar _Track2 = _interopRequireDefault(_Track);\n\nvar _createSlider = require('./common/createSlider');\n\nvar _createSlider2 = _interopRequireDefault(_createSlider);\n\nvar _utils = require('./utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n/* eslint-disable react/prop-types */\n\n\nvar _trimAlignValue = function _trimAlignValue(_ref) {\n  var value = _ref.value,\n      handle = _ref.handle,\n      bounds = _ref.bounds,\n      props = _ref.props;\n  var allowCross = props.allowCross,\n      pushable = props.pushable;\n  var thershold = Number(pushable);\n  var valInRange = utils.ensureValueInRange(value, props);\n  var valNotConflict = valInRange;\n\n  if (!allowCross && handle != null && bounds !== undefined) {\n    if (handle > 0 && valInRange <= bounds[handle - 1] + thershold) {\n      valNotConflict = bounds[handle - 1] + thershold;\n    }\n\n    if (handle < bounds.length - 1 && valInRange >= bounds[handle + 1] - thershold) {\n      valNotConflict = bounds[handle + 1] - thershold;\n    }\n  }\n\n  return utils.ensureValuePrecision(valNotConflict, props);\n};\n\nvar Range = function (_React$Component) {\n  (0, _inherits3['default'])(Range, _React$Component);\n\n  function Range(props) {\n    (0, _classCallCheck3['default'])(this, Range);\n\n    var _this = (0, _possibleConstructorReturn3['default'])(this, (Range.__proto__ || Object.getPrototypeOf(Range)).call(this, props));\n\n    _this.onEnd = function (force) {\n      var handle = _this.state.handle;\n\n      _this.removeDocumentEvents();\n\n      if (handle !== null || force) {\n        _this.props.onAfterChange(_this.getValue());\n      }\n\n      _this.setState({\n        handle: null\n      });\n    };\n\n    var count = props.count,\n        min = props.min,\n        max = props.max;\n    var initialValue = Array.apply(undefined, (0, _toConsumableArray3['default'])(Array(count + 1))).map(function () {\n      return min;\n    });\n    var defaultValue = 'defaultValue' in props ? props.defaultValue : initialValue;\n    var value = props.value !== undefined ? props.value : defaultValue;\n    var bounds = value.map(function (v, i) {\n      return _trimAlignValue({\n        value: v,\n        handle: i,\n        props: props\n      });\n    });\n    var recent = bounds[0] === max ? 0 : bounds.length - 1;\n    _this.state = {\n      handle: null,\n      recent: recent,\n      bounds: bounds\n    };\n    return _this;\n  }\n\n  (0, _createClass3['default'])(Range, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      if (!('value' in this.props || 'min' in this.props || 'max' in this.props)) {\n        return;\n      }\n\n      if (this.props.min === prevProps.min && this.props.max === prevProps.max && (0, _shallowequal2['default'])(this.props.value, prevProps.value)) {\n        return;\n      }\n\n      var _props = this.props,\n          onChange = _props.onChange,\n          value = _props.value;\n      var currentValue = value || prevState.bounds;\n\n      if (currentValue.some(function (v) {\n        return utils.isValueOutOfRange(v, _this2.props);\n      })) {\n        var newValues = currentValue.map(function (v) {\n          return utils.ensureValueInRange(v, _this2.props);\n        });\n        onChange(newValues);\n      }\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(state) {\n      var props = this.props;\n      var isNotControlled = !('value' in props);\n\n      if (isNotControlled) {\n        this.setState(state);\n      } else {\n        var controlledState = {};\n        ['handle', 'recent'].forEach(function (item) {\n          if (state[item] !== undefined) {\n            controlledState[item] = state[item];\n          }\n        });\n\n        if (Object.keys(controlledState).length) {\n          this.setState(controlledState);\n        }\n      }\n\n      var data = (0, _extends3['default'])({}, this.state, state);\n      var changedValue = data.bounds;\n      props.onChange(changedValue);\n    }\n  }, {\n    key: 'onStart',\n    value: function onStart(position) {\n      var props = this.props;\n      var state = this.state;\n      var bounds = this.getValue();\n      props.onBeforeChange(bounds);\n      var value = this.calcValueByPos(position);\n      this.startValue = value;\n      this.startPosition = position;\n      var closestBound = this.getClosestBound(value);\n      this.prevMovedHandleIndex = this.getBoundNeedMoving(value, closestBound);\n      this.setState({\n        handle: this.prevMovedHandleIndex,\n        recent: this.prevMovedHandleIndex\n      });\n      var prevValue = bounds[this.prevMovedHandleIndex];\n      if (value === prevValue) return;\n      var nextBounds = [].concat((0, _toConsumableArray3['default'])(state.bounds));\n      nextBounds[this.prevMovedHandleIndex] = value;\n      this.onChange({\n        bounds: nextBounds\n      });\n    }\n  }, {\n    key: 'onMove',\n    value: function onMove(e, position) {\n      utils.pauseEvent(e);\n      var state = this.state;\n      var value = this.calcValueByPos(position);\n      var oldValue = state.bounds[state.handle];\n      if (value === oldValue) return;\n      this.moveTo(value);\n    }\n  }, {\n    key: 'onKeyboard',\n    value: function onKeyboard(e) {\n      var _props2 = this.props,\n          reverse = _props2.reverse,\n          vertical = _props2.vertical;\n      var valueMutator = utils.getKeyboardValueMutator(e, vertical, reverse);\n\n      if (valueMutator) {\n        utils.pauseEvent(e);\n        var state = this.state,\n            props = this.props;\n        var bounds = state.bounds,\n            handle = state.handle;\n        var oldValue = bounds[handle === null ? state.recent : handle];\n        var mutatedValue = valueMutator(oldValue, props);\n\n        var value = _trimAlignValue({\n          value: mutatedValue,\n          handle: handle,\n          bounds: state.bounds,\n          props: props\n        });\n\n        if (value === oldValue) return;\n        var isFromKeyboardEvent = true;\n        this.moveTo(value, isFromKeyboardEvent);\n      }\n    }\n  }, {\n    key: 'getValue',\n    value: function getValue() {\n      return this.state.bounds;\n    }\n  }, {\n    key: 'getClosestBound',\n    value: function getClosestBound(value) {\n      var bounds = this.state.bounds;\n      var closestBound = 0;\n\n      for (var i = 1; i < bounds.length - 1; ++i) {\n        if (value >= bounds[i]) {\n          closestBound = i;\n        }\n      }\n\n      if (Math.abs(bounds[closestBound + 1] - value) < Math.abs(bounds[closestBound] - value)) {\n        closestBound += 1;\n      }\n\n      return closestBound;\n    }\n  }, {\n    key: 'getBoundNeedMoving',\n    value: function getBoundNeedMoving(value, closestBound) {\n      var _state = this.state,\n          bounds = _state.bounds,\n          recent = _state.recent;\n      var boundNeedMoving = closestBound;\n      var isAtTheSamePoint = bounds[closestBound + 1] === bounds[closestBound];\n\n      if (isAtTheSamePoint && bounds[recent] === bounds[closestBound]) {\n        boundNeedMoving = recent;\n      }\n\n      if (isAtTheSamePoint && value !== bounds[closestBound + 1]) {\n        boundNeedMoving = value < bounds[closestBound + 1] ? closestBound : closestBound + 1;\n      }\n\n      return boundNeedMoving;\n    }\n  }, {\n    key: 'getLowerBound',\n    value: function getLowerBound() {\n      return this.state.bounds[0];\n    }\n  }, {\n    key: 'getUpperBound',\n    value: function getUpperBound() {\n      var bounds = this.state.bounds;\n      return bounds[bounds.length - 1];\n    }\n    /**\n     * Returns an array of possible slider points, taking into account both\n     * `marks` and `step`. The result is cached.\n     */\n\n  }, {\n    key: 'getPoints',\n    value: function getPoints() {\n      var _props3 = this.props,\n          marks = _props3.marks,\n          step = _props3.step,\n          min = _props3.min,\n          max = _props3.max;\n      var cache = this._getPointsCache;\n\n      if (!cache || cache.marks !== marks || cache.step !== step) {\n        var pointsObject = (0, _extends3['default'])({}, marks);\n\n        if (step !== null) {\n          for (var point = min; point <= max; point += step) {\n            pointsObject[point] = point;\n          }\n        }\n\n        var points = Object.keys(pointsObject).map(parseFloat);\n        points.sort(function (a, b) {\n          return a - b;\n        });\n        this._getPointsCache = {\n          marks: marks,\n          step: step,\n          points: points\n        };\n      }\n\n      return this._getPointsCache.points;\n    }\n  }, {\n    key: 'moveTo',\n    value: function moveTo(value, isFromKeyboardEvent) {\n      var _this3 = this;\n\n      var state = this.state,\n          props = this.props;\n      var nextBounds = [].concat((0, _toConsumableArray3['default'])(state.bounds));\n      var handle = state.handle === null ? state.recent : state.handle;\n      nextBounds[handle] = value;\n      var nextHandle = handle;\n\n      if (props.pushable !== false) {\n        this.pushSurroundingHandles(nextBounds, nextHandle);\n      } else if (props.allowCross) {\n        nextBounds.sort(function (a, b) {\n          return a - b;\n        });\n        nextHandle = nextBounds.indexOf(value);\n      }\n\n      this.onChange({\n        recent: nextHandle,\n        handle: nextHandle,\n        bounds: nextBounds\n      });\n\n      if (isFromKeyboardEvent) {\n        // known problem: because setState is async,\n        // so trigger focus will invoke handler's onEnd and another handler's onStart too early,\n        // cause onBeforeChange and onAfterChange receive wrong value.\n        // here use setState callback to hack，but not elegant\n        this.props.onAfterChange(nextBounds);\n        this.setState({}, function () {\n          _this3.handlesRefs[nextHandle].focus();\n        });\n        this.onEnd();\n      }\n    }\n  }, {\n    key: 'pushSurroundingHandles',\n    value: function pushSurroundingHandles(bounds, handle) {\n      var value = bounds[handle];\n      var threshold = this.props.pushable;\n      threshold = Number(threshold);\n      var direction = 0;\n\n      if (bounds[handle + 1] - value < threshold) {\n        direction = +1; // push to right\n      }\n\n      if (value - bounds[handle - 1] < threshold) {\n        direction = -1; // push to left\n      }\n\n      if (direction === 0) {\n        return;\n      }\n\n      var nextHandle = handle + direction;\n      var diffToNext = direction * (bounds[nextHandle] - value);\n\n      if (!this.pushHandle(bounds, nextHandle, direction, threshold - diffToNext)) {\n        // revert to original value if pushing is impossible\n        bounds[handle] = bounds[nextHandle] - direction * threshold;\n      }\n    }\n  }, {\n    key: 'pushHandle',\n    value: function pushHandle(bounds, handle, direction, amount) {\n      var originalValue = bounds[handle];\n      var currentValue = bounds[handle];\n\n      while (direction * (currentValue - originalValue) < amount) {\n        if (!this.pushHandleOnePoint(bounds, handle, direction)) {\n          // can't push handle enough to create the needed `amount` gap, so we\n          // revert its position to the original value\n          bounds[handle] = originalValue;\n          return false;\n        }\n\n        currentValue = bounds[handle];\n      } // the handle was pushed enough to create the needed `amount` gap\n\n\n      return true;\n    }\n  }, {\n    key: 'pushHandleOnePoint',\n    value: function pushHandleOnePoint(bounds, handle, direction) {\n      var points = this.getPoints();\n      var pointIndex = points.indexOf(bounds[handle]);\n      var nextPointIndex = pointIndex + direction;\n\n      if (nextPointIndex >= points.length || nextPointIndex < 0) {\n        // reached the minimum or maximum available point, can't push anymore\n        return false;\n      }\n\n      var nextHandle = handle + direction;\n      var nextValue = points[nextPointIndex];\n      var threshold = this.props.pushable;\n      var diffToNext = direction * (bounds[nextHandle] - nextValue);\n\n      if (!this.pushHandle(bounds, nextHandle, direction, threshold - diffToNext)) {\n        // couldn't push next handle, so we won't push this one either\n        return false;\n      } // push the handle\n\n\n      bounds[handle] = nextValue;\n      return true;\n    }\n  }, {\n    key: 'trimAlignValue',\n    value: function trimAlignValue(value) {\n      var _state2 = this.state,\n          handle = _state2.handle,\n          bounds = _state2.bounds;\n      return _trimAlignValue({\n        value: value,\n        handle: handle,\n        bounds: bounds,\n        props: this.props\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _state3 = this.state,\n          handle = _state3.handle,\n          bounds = _state3.bounds;\n      var _props4 = this.props,\n          prefixCls = _props4.prefixCls,\n          vertical = _props4.vertical,\n          included = _props4.included,\n          disabled = _props4.disabled,\n          min = _props4.min,\n          max = _props4.max,\n          reverse = _props4.reverse,\n          handleGenerator = _props4.handle,\n          trackStyle = _props4.trackStyle,\n          handleStyle = _props4.handleStyle,\n          tabIndex = _props4.tabIndex;\n      var offsets = bounds.map(function (v) {\n        return _this4.calcOffset(v);\n      });\n      var handleClassName = prefixCls + '-handle';\n      var handles = bounds.map(function (v, i) {\n        var _classNames;\n\n        var _tabIndex = tabIndex[i] || 0;\n\n        if (disabled || tabIndex[i] === null) {\n          _tabIndex = null;\n        }\n\n        return handleGenerator({\n          className: (0, _classnames2['default'])((_classNames = {}, (0, _defineProperty3['default'])(_classNames, handleClassName, true), (0, _defineProperty3['default'])(_classNames, handleClassName + '-' + (i + 1), true), _classNames)),\n          prefixCls: prefixCls,\n          vertical: vertical,\n          offset: offsets[i],\n          value: v,\n          dragging: handle === i,\n          index: i,\n          tabIndex: _tabIndex,\n          min: min,\n          max: max,\n          reverse: reverse,\n          disabled: disabled,\n          style: handleStyle[i],\n          ref: function ref(h) {\n            return _this4.saveHandle(i, h);\n          }\n        });\n      });\n      var tracks = bounds.slice(0, -1).map(function (_, index) {\n        var _classNames2;\n\n        var i = index + 1;\n        var trackClassName = (0, _classnames2['default'])((_classNames2 = {}, (0, _defineProperty3['default'])(_classNames2, prefixCls + '-track', true), (0, _defineProperty3['default'])(_classNames2, prefixCls + '-track-' + i, true), _classNames2));\n        return _react2['default'].createElement(_Track2['default'], {\n          className: trackClassName,\n          vertical: vertical,\n          reverse: reverse,\n          included: included,\n          offset: offsets[i - 1],\n          length: offsets[i] - offsets[i - 1],\n          style: trackStyle[index],\n          key: i\n        });\n      });\n      return {\n        tracks: tracks,\n        handles: handles\n      };\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, state) {\n      if ('value' in props || 'min' in props || 'max' in props) {\n        var value = props.value || state.bounds;\n        var nextBounds = value.map(function (v, i) {\n          return _trimAlignValue({\n            value: v,\n            handle: i,\n            bounds: state.bounds,\n            props: props\n          });\n        });\n\n        if (nextBounds.length === state.bounds.length && nextBounds.every(function (v, i) {\n          return v === state.bounds[i];\n        })) {\n          return null;\n        }\n\n        return (0, _extends3['default'])({}, state, {\n          bounds: nextBounds\n        });\n      }\n\n      return null;\n    }\n  }]);\n  return Range;\n}(_react2['default'].Component);\n\nRange.displayName = 'Range';\nRange.propTypes = {\n  autoFocus: _propTypes2['default'].bool,\n  defaultValue: _propTypes2['default'].arrayOf(_propTypes2['default'].number),\n  value: _propTypes2['default'].arrayOf(_propTypes2['default'].number),\n  count: _propTypes2['default'].number,\n  pushable: _propTypes2['default'].oneOfType([_propTypes2['default'].bool, _propTypes2['default'].number]),\n  allowCross: _propTypes2['default'].bool,\n  disabled: _propTypes2['default'].bool,\n  reverse: _propTypes2['default'].bool,\n  tabIndex: _propTypes2['default'].arrayOf(_propTypes2['default'].number),\n  min: _propTypes2['default'].number,\n  max: _propTypes2['default'].number\n};\nRange.defaultProps = {\n  count: 1,\n  allowCross: true,\n  pushable: false,\n  tabIndex: []\n};\n(0, _reactLifecyclesCompat.polyfill)(Range);\nexports['default'] = (0, _createSlider2['default'])(Range);\nmodule.exports = exports['default'];","map":{"version":3,"sources":["C:/Users/Ibrohim/Desktop/ark-front/node_modules/rc-slider/lib/Range.js"],"names":["Object","defineProperty","exports","value","_defineProperty2","require","_defineProperty3","_interopRequireDefault","_extends2","_extends3","_toConsumableArray2","_toConsumableArray3","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_propTypes","_propTypes2","_classnames","_classnames2","_reactLifecyclesCompat","_shallowequal","_shallowequal2","_Track","_Track2","_createSlider","_createSlider2","_utils","utils","_interopRequireWildcard","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","_trimAlignValue","_ref","handle","bounds","props","allowCross","pushable","thershold","Number","valInRange","ensureValueInRange","valNotConflict","undefined","length","ensureValuePrecision","Range","_React$Component","_this","__proto__","getPrototypeOf","onEnd","force","state","removeDocumentEvents","onAfterChange","getValue","setState","count","min","max","initialValue","Array","apply","map","defaultValue","v","i","recent","componentDidUpdate","prevProps","prevState","_this2","_props","onChange","currentValue","some","isValueOutOfRange","newValues","isNotControlled","controlledState","forEach","item","keys","data","changedValue","onStart","position","onBeforeChange","calcValueByPos","startValue","startPosition","closestBound","getClosestBound","prevMovedHandleIndex","getBoundNeedMoving","prevValue","nextBounds","concat","onMove","e","pauseEvent","oldValue","moveTo","onKeyboard","_props2","reverse","vertical","valueMutator","getKeyboardValueMutator","mutatedValue","isFromKeyboardEvent","Math","abs","_state","boundNeedMoving","isAtTheSamePoint","getLowerBound","getUpperBound","getPoints","_props3","marks","step","cache","_getPointsCache","pointsObject","point","points","parseFloat","sort","a","b","_this3","nextHandle","pushSurroundingHandles","indexOf","handlesRefs","focus","threshold","direction","diffToNext","pushHandle","amount","originalValue","pushHandleOnePoint","pointIndex","nextPointIndex","nextValue","trimAlignValue","_state2","render","_this4","_state3","_props4","prefixCls","included","disabled","handleGenerator","trackStyle","handleStyle","tabIndex","offsets","calcOffset","handleClassName","handles","_classNames","_tabIndex","className","offset","dragging","index","style","ref","h","saveHandle","tracks","slice","_","_classNames2","trackClassName","createElement","getDerivedStateFromProps","every","Component","displayName","propTypes","autoFocus","bool","arrayOf","number","oneOfType","defaultProps","polyfill","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _reactLifecyclesCompat = require('react-lifecycles-compat');\n\nvar _shallowequal = require('shallowequal');\n\nvar _shallowequal2 = _interopRequireDefault(_shallowequal);\n\nvar _Track = require('./common/Track');\n\nvar _Track2 = _interopRequireDefault(_Track);\n\nvar _createSlider = require('./common/createSlider');\n\nvar _createSlider2 = _interopRequireDefault(_createSlider);\n\nvar _utils = require('./utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/* eslint-disable react/prop-types */\nvar _trimAlignValue = function _trimAlignValue(_ref) {\n  var value = _ref.value,\n      handle = _ref.handle,\n      bounds = _ref.bounds,\n      props = _ref.props;\n  var allowCross = props.allowCross,\n      pushable = props.pushable;\n\n  var thershold = Number(pushable);\n  var valInRange = utils.ensureValueInRange(value, props);\n  var valNotConflict = valInRange;\n  if (!allowCross && handle != null && bounds !== undefined) {\n    if (handle > 0 && valInRange <= bounds[handle - 1] + thershold) {\n      valNotConflict = bounds[handle - 1] + thershold;\n    }\n    if (handle < bounds.length - 1 && valInRange >= bounds[handle + 1] - thershold) {\n      valNotConflict = bounds[handle + 1] - thershold;\n    }\n  }\n  return utils.ensureValuePrecision(valNotConflict, props);\n};\n\nvar Range = function (_React$Component) {\n  (0, _inherits3['default'])(Range, _React$Component);\n\n  function Range(props) {\n    (0, _classCallCheck3['default'])(this, Range);\n\n    var _this = (0, _possibleConstructorReturn3['default'])(this, (Range.__proto__ || Object.getPrototypeOf(Range)).call(this, props));\n\n    _this.onEnd = function (force) {\n      var handle = _this.state.handle;\n\n      _this.removeDocumentEvents();\n\n      if (handle !== null || force) {\n        _this.props.onAfterChange(_this.getValue());\n      }\n\n      _this.setState({\n        handle: null\n      });\n    };\n\n    var count = props.count,\n        min = props.min,\n        max = props.max;\n\n    var initialValue = Array.apply(undefined, (0, _toConsumableArray3['default'])(Array(count + 1))).map(function () {\n      return min;\n    });\n    var defaultValue = 'defaultValue' in props ? props.defaultValue : initialValue;\n    var value = props.value !== undefined ? props.value : defaultValue;\n    var bounds = value.map(function (v, i) {\n      return _trimAlignValue({\n        value: v,\n        handle: i,\n        props: props\n      });\n    });\n    var recent = bounds[0] === max ? 0 : bounds.length - 1;\n\n    _this.state = {\n      handle: null,\n      recent: recent,\n      bounds: bounds\n    };\n    return _this;\n  }\n\n  (0, _createClass3['default'])(Range, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      if (!('value' in this.props || 'min' in this.props || 'max' in this.props)) {\n        return;\n      }\n      if (this.props.min === prevProps.min && this.props.max === prevProps.max && (0, _shallowequal2['default'])(this.props.value, prevProps.value)) {\n        return;\n      }\n      var _props = this.props,\n          onChange = _props.onChange,\n          value = _props.value;\n\n      var currentValue = value || prevState.bounds;\n      if (currentValue.some(function (v) {\n        return utils.isValueOutOfRange(v, _this2.props);\n      })) {\n        var newValues = currentValue.map(function (v) {\n          return utils.ensureValueInRange(v, _this2.props);\n        });\n        onChange(newValues);\n      }\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(state) {\n      var props = this.props;\n      var isNotControlled = !('value' in props);\n      if (isNotControlled) {\n        this.setState(state);\n      } else {\n        var controlledState = {};\n\n        ['handle', 'recent'].forEach(function (item) {\n          if (state[item] !== undefined) {\n            controlledState[item] = state[item];\n          }\n        });\n\n        if (Object.keys(controlledState).length) {\n          this.setState(controlledState);\n        }\n      }\n\n      var data = (0, _extends3['default'])({}, this.state, state);\n      var changedValue = data.bounds;\n      props.onChange(changedValue);\n    }\n  }, {\n    key: 'onStart',\n    value: function onStart(position) {\n      var props = this.props;\n      var state = this.state;\n      var bounds = this.getValue();\n      props.onBeforeChange(bounds);\n\n      var value = this.calcValueByPos(position);\n      this.startValue = value;\n      this.startPosition = position;\n\n      var closestBound = this.getClosestBound(value);\n      this.prevMovedHandleIndex = this.getBoundNeedMoving(value, closestBound);\n\n      this.setState({\n        handle: this.prevMovedHandleIndex,\n        recent: this.prevMovedHandleIndex\n      });\n\n      var prevValue = bounds[this.prevMovedHandleIndex];\n      if (value === prevValue) return;\n\n      var nextBounds = [].concat((0, _toConsumableArray3['default'])(state.bounds));\n      nextBounds[this.prevMovedHandleIndex] = value;\n      this.onChange({ bounds: nextBounds });\n    }\n  }, {\n    key: 'onMove',\n    value: function onMove(e, position) {\n      utils.pauseEvent(e);\n      var state = this.state;\n\n      var value = this.calcValueByPos(position);\n      var oldValue = state.bounds[state.handle];\n      if (value === oldValue) return;\n\n      this.moveTo(value);\n    }\n  }, {\n    key: 'onKeyboard',\n    value: function onKeyboard(e) {\n      var _props2 = this.props,\n          reverse = _props2.reverse,\n          vertical = _props2.vertical;\n\n      var valueMutator = utils.getKeyboardValueMutator(e, vertical, reverse);\n\n      if (valueMutator) {\n        utils.pauseEvent(e);\n        var state = this.state,\n            props = this.props;\n        var bounds = state.bounds,\n            handle = state.handle;\n\n        var oldValue = bounds[handle === null ? state.recent : handle];\n        var mutatedValue = valueMutator(oldValue, props);\n        var value = _trimAlignValue({\n          value: mutatedValue,\n          handle: handle,\n          bounds: state.bounds,\n          props: props\n        });\n        if (value === oldValue) return;\n        var isFromKeyboardEvent = true;\n        this.moveTo(value, isFromKeyboardEvent);\n      }\n    }\n  }, {\n    key: 'getValue',\n    value: function getValue() {\n      return this.state.bounds;\n    }\n  }, {\n    key: 'getClosestBound',\n    value: function getClosestBound(value) {\n      var bounds = this.state.bounds;\n\n      var closestBound = 0;\n      for (var i = 1; i < bounds.length - 1; ++i) {\n        if (value >= bounds[i]) {\n          closestBound = i;\n        }\n      }\n      if (Math.abs(bounds[closestBound + 1] - value) < Math.abs(bounds[closestBound] - value)) {\n        closestBound += 1;\n      }\n      return closestBound;\n    }\n  }, {\n    key: 'getBoundNeedMoving',\n    value: function getBoundNeedMoving(value, closestBound) {\n      var _state = this.state,\n          bounds = _state.bounds,\n          recent = _state.recent;\n\n      var boundNeedMoving = closestBound;\n      var isAtTheSamePoint = bounds[closestBound + 1] === bounds[closestBound];\n\n      if (isAtTheSamePoint && bounds[recent] === bounds[closestBound]) {\n        boundNeedMoving = recent;\n      }\n\n      if (isAtTheSamePoint && value !== bounds[closestBound + 1]) {\n        boundNeedMoving = value < bounds[closestBound + 1] ? closestBound : closestBound + 1;\n      }\n      return boundNeedMoving;\n    }\n  }, {\n    key: 'getLowerBound',\n    value: function getLowerBound() {\n      return this.state.bounds[0];\n    }\n  }, {\n    key: 'getUpperBound',\n    value: function getUpperBound() {\n      var bounds = this.state.bounds;\n\n      return bounds[bounds.length - 1];\n    }\n\n    /**\n     * Returns an array of possible slider points, taking into account both\n     * `marks` and `step`. The result is cached.\n     */\n\n  }, {\n    key: 'getPoints',\n    value: function getPoints() {\n      var _props3 = this.props,\n          marks = _props3.marks,\n          step = _props3.step,\n          min = _props3.min,\n          max = _props3.max;\n\n      var cache = this._getPointsCache;\n      if (!cache || cache.marks !== marks || cache.step !== step) {\n        var pointsObject = (0, _extends3['default'])({}, marks);\n        if (step !== null) {\n          for (var point = min; point <= max; point += step) {\n            pointsObject[point] = point;\n          }\n        }\n        var points = Object.keys(pointsObject).map(parseFloat);\n        points.sort(function (a, b) {\n          return a - b;\n        });\n        this._getPointsCache = { marks: marks, step: step, points: points };\n      }\n      return this._getPointsCache.points;\n    }\n  }, {\n    key: 'moveTo',\n    value: function moveTo(value, isFromKeyboardEvent) {\n      var _this3 = this;\n\n      var state = this.state,\n          props = this.props;\n\n      var nextBounds = [].concat((0, _toConsumableArray3['default'])(state.bounds));\n      var handle = state.handle === null ? state.recent : state.handle;\n      nextBounds[handle] = value;\n      var nextHandle = handle;\n      if (props.pushable !== false) {\n        this.pushSurroundingHandles(nextBounds, nextHandle);\n      } else if (props.allowCross) {\n        nextBounds.sort(function (a, b) {\n          return a - b;\n        });\n        nextHandle = nextBounds.indexOf(value);\n      }\n      this.onChange({\n        recent: nextHandle,\n        handle: nextHandle,\n        bounds: nextBounds\n      });\n      if (isFromKeyboardEvent) {\n        // known problem: because setState is async,\n        // so trigger focus will invoke handler's onEnd and another handler's onStart too early,\n        // cause onBeforeChange and onAfterChange receive wrong value.\n        // here use setState callback to hack，but not elegant\n        this.props.onAfterChange(nextBounds);\n        this.setState({}, function () {\n          _this3.handlesRefs[nextHandle].focus();\n        });\n        this.onEnd();\n      }\n    }\n  }, {\n    key: 'pushSurroundingHandles',\n    value: function pushSurroundingHandles(bounds, handle) {\n      var value = bounds[handle];\n      var threshold = this.props.pushable;\n\n      threshold = Number(threshold);\n\n      var direction = 0;\n      if (bounds[handle + 1] - value < threshold) {\n        direction = +1; // push to right\n      }\n      if (value - bounds[handle - 1] < threshold) {\n        direction = -1; // push to left\n      }\n\n      if (direction === 0) {\n        return;\n      }\n\n      var nextHandle = handle + direction;\n      var diffToNext = direction * (bounds[nextHandle] - value);\n      if (!this.pushHandle(bounds, nextHandle, direction, threshold - diffToNext)) {\n        // revert to original value if pushing is impossible\n        bounds[handle] = bounds[nextHandle] - direction * threshold;\n      }\n    }\n  }, {\n    key: 'pushHandle',\n    value: function pushHandle(bounds, handle, direction, amount) {\n      var originalValue = bounds[handle];\n      var currentValue = bounds[handle];\n      while (direction * (currentValue - originalValue) < amount) {\n        if (!this.pushHandleOnePoint(bounds, handle, direction)) {\n          // can't push handle enough to create the needed `amount` gap, so we\n          // revert its position to the original value\n          bounds[handle] = originalValue;\n          return false;\n        }\n        currentValue = bounds[handle];\n      }\n      // the handle was pushed enough to create the needed `amount` gap\n      return true;\n    }\n  }, {\n    key: 'pushHandleOnePoint',\n    value: function pushHandleOnePoint(bounds, handle, direction) {\n      var points = this.getPoints();\n      var pointIndex = points.indexOf(bounds[handle]);\n      var nextPointIndex = pointIndex + direction;\n      if (nextPointIndex >= points.length || nextPointIndex < 0) {\n        // reached the minimum or maximum available point, can't push anymore\n        return false;\n      }\n      var nextHandle = handle + direction;\n      var nextValue = points[nextPointIndex];\n      var threshold = this.props.pushable;\n\n      var diffToNext = direction * (bounds[nextHandle] - nextValue);\n      if (!this.pushHandle(bounds, nextHandle, direction, threshold - diffToNext)) {\n        // couldn't push next handle, so we won't push this one either\n        return false;\n      }\n      // push the handle\n      bounds[handle] = nextValue;\n      return true;\n    }\n  }, {\n    key: 'trimAlignValue',\n    value: function trimAlignValue(value) {\n      var _state2 = this.state,\n          handle = _state2.handle,\n          bounds = _state2.bounds;\n\n      return _trimAlignValue({\n        value: value,\n        handle: handle,\n        bounds: bounds,\n        props: this.props\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _state3 = this.state,\n          handle = _state3.handle,\n          bounds = _state3.bounds;\n      var _props4 = this.props,\n          prefixCls = _props4.prefixCls,\n          vertical = _props4.vertical,\n          included = _props4.included,\n          disabled = _props4.disabled,\n          min = _props4.min,\n          max = _props4.max,\n          reverse = _props4.reverse,\n          handleGenerator = _props4.handle,\n          trackStyle = _props4.trackStyle,\n          handleStyle = _props4.handleStyle,\n          tabIndex = _props4.tabIndex;\n\n\n      var offsets = bounds.map(function (v) {\n        return _this4.calcOffset(v);\n      });\n\n      var handleClassName = prefixCls + '-handle';\n      var handles = bounds.map(function (v, i) {\n        var _classNames;\n\n        var _tabIndex = tabIndex[i] || 0;\n        if (disabled || tabIndex[i] === null) {\n          _tabIndex = null;\n        }\n        return handleGenerator({\n          className: (0, _classnames2['default'])((_classNames = {}, (0, _defineProperty3['default'])(_classNames, handleClassName, true), (0, _defineProperty3['default'])(_classNames, handleClassName + '-' + (i + 1), true), _classNames)),\n          prefixCls: prefixCls,\n          vertical: vertical,\n          offset: offsets[i],\n          value: v,\n          dragging: handle === i,\n          index: i,\n          tabIndex: _tabIndex,\n          min: min,\n          max: max,\n          reverse: reverse,\n          disabled: disabled,\n          style: handleStyle[i],\n          ref: function ref(h) {\n            return _this4.saveHandle(i, h);\n          }\n        });\n      });\n\n      var tracks = bounds.slice(0, -1).map(function (_, index) {\n        var _classNames2;\n\n        var i = index + 1;\n        var trackClassName = (0, _classnames2['default'])((_classNames2 = {}, (0, _defineProperty3['default'])(_classNames2, prefixCls + '-track', true), (0, _defineProperty3['default'])(_classNames2, prefixCls + '-track-' + i, true), _classNames2));\n        return _react2['default'].createElement(_Track2['default'], {\n          className: trackClassName,\n          vertical: vertical,\n          reverse: reverse,\n          included: included,\n          offset: offsets[i - 1],\n          length: offsets[i] - offsets[i - 1],\n          style: trackStyle[index],\n          key: i\n        });\n      });\n\n      return { tracks: tracks, handles: handles };\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, state) {\n      if ('value' in props || 'min' in props || 'max' in props) {\n        var value = props.value || state.bounds;\n        var nextBounds = value.map(function (v, i) {\n          return _trimAlignValue({\n            value: v,\n            handle: i,\n            bounds: state.bounds,\n            props: props\n          });\n        });\n        if (nextBounds.length === state.bounds.length && nextBounds.every(function (v, i) {\n          return v === state.bounds[i];\n        })) {\n          return null;\n        }\n        return (0, _extends3['default'])({}, state, {\n          bounds: nextBounds\n        });\n      }\n      return null;\n    }\n  }]);\n  return Range;\n}(_react2['default'].Component);\n\nRange.displayName = 'Range';\nRange.propTypes = {\n  autoFocus: _propTypes2['default'].bool,\n  defaultValue: _propTypes2['default'].arrayOf(_propTypes2['default'].number),\n  value: _propTypes2['default'].arrayOf(_propTypes2['default'].number),\n  count: _propTypes2['default'].number,\n  pushable: _propTypes2['default'].oneOfType([_propTypes2['default'].bool, _propTypes2['default'].number]),\n  allowCross: _propTypes2['default'].bool,\n  disabled: _propTypes2['default'].bool,\n  reverse: _propTypes2['default'].bool,\n  tabIndex: _propTypes2['default'].arrayOf(_propTypes2['default'].number),\n  min: _propTypes2['default'].number,\n  max: _propTypes2['default'].number\n};\nRange.defaultProps = {\n  count: 1,\n  allowCross: true,\n  pushable: false,\n  tabIndex: []\n};\n\n\n(0, _reactLifecyclesCompat.polyfill)(Range);\n\nexports['default'] = (0, _createSlider2['default'])(Range);\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}