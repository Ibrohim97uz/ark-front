{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\ark-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import React from'react';import{Form,Modal,Select}from'antd/lib/index';import IntlMessages,{intlMessages}from\"../../../../../../util/IntlMessages\";var Option=Select.Option;var FormItem=Form.Item;var formItemLayout={labelCol:{span:24},wrapperCol:{span:24}};var modal=function modal(_ref){var currentItem=_ref.currentItem,onSubmit=_ref.onSubmit,onCancel=_ref.onCancel,modalVisible=_ref.modalVisible,formItems=_ref.formItems,actionType=_ref.actionType,regions=_ref.regions,_ref$form=_ref.form,getFieldDecorator=_ref$form.getFieldDecorator,validateFields=_ref$form.validateFields,getFieldsValue=_ref$form.getFieldsValue;var handleOk=function handleOk(){validateFields(function(errors){if(errors){return;}var formData=getFieldsValue();formData['id']=currentItem['id'];onSubmit(formData);});};var dynamicFormItems=formItems.map(function(formItem){return/*#__PURE__*/React.createElement(FormItem,Object.assign({key:formItem.name,className:\"mb-0\",label:formItem.label,hasFeedback:true},formItemLayout),getFieldDecorator(formItem.name,_objectSpread({initialValue:currentItem[formItem.name]},formItem))(formItem.obj));});var regionList=regions.map(function(item){return/*#__PURE__*/React.createElement(Option,{value:item.id},intlMessages({en:item.nameEn,ru:item.nameRu,uz:item.nameUz}));});return/*#__PURE__*/React.createElement(Modal,{visible:modalVisible,title:actionType===\"create\"?intlMessages({en:\"Create new district\",ru:\"Создать новую район\",uz:\"Yangi tuman yaratish\"}):intlMessages({en:\"Update district\",ru:\"Изменить район\",uz:\"Tumanni tahrirlash\"}),onOk:handleOk,destroyOnClose:true,onCancel:onCancel,wrapClassName:'vertical-center-modal',cancelText:/*#__PURE__*/React.createElement(IntlMessages,{id:'cancel'}),okText:/*#__PURE__*/React.createElement(IntlMessages,{id:'save'})},/*#__PURE__*/React.createElement(Form,{layout:\"horizontal\"},dynamicFormItems,/*#__PURE__*/React.createElement(FormItem,Object.assign({key:\"regionId\",className:\"mb-0\",label:/*#__PURE__*/React.createElement(IntlMessages,{id:\"region\"}),hasFeedback:true},formItemLayout),getFieldDecorator('regionId',{initialValue:currentItem&&currentItem.region&&currentItem.region.id,rules:[{required:true,message:/*#__PURE__*/React.createElement(IntlMessages,{id:\"E_ERROR\"})}]})(/*#__PURE__*/React.createElement(Select,{name:\"regionId\",allowClear:true,showSearch:true,optionFilterProp:\"children\",filterOption:function filterOption(input,option){return option.props.children.toLowerCase().indexOf(input.toLowerCase())>=0;}},regionList)))));};export default Form.create()(modal);","map":{"version":3,"sources":["C:/Users/Ibrohim/Desktop/ark-front/src/routes/routesManagers/settings/dictionary/district/components/Modal.js"],"names":["React","Form","Modal","Select","IntlMessages","intlMessages","Option","FormItem","Item","formItemLayout","labelCol","span","wrapperCol","modal","currentItem","onSubmit","onCancel","modalVisible","formItems","actionType","regions","form","getFieldDecorator","validateFields","getFieldsValue","handleOk","errors","formData","dynamicFormItems","map","formItem","name","label","initialValue","obj","regionList","item","id","en","nameEn","ru","nameRu","uz","nameUz","region","rules","required","message","input","option","props","children","toLowerCase","indexOf","create"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {Form, Modal, Select,} from 'antd/lib/index'\r\nimport IntlMessages,{intlMessages} from \"../../../../../../util/IntlMessages\";\r\n\r\nconst Option = Select.Option;\r\nconst FormItem = Form.Item;\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    span: 24,\r\n  },\r\n  wrapperCol: {\r\n    span: 24,\r\n  },\r\n};\r\n\r\nconst modal = ({\r\n                 currentItem,\r\n                 onSubmit,\r\n                 onCancel,\r\n                 modalVisible,\r\n                 formItems,\r\n                 actionType,\r\n                 regions,\r\n                 form: {\r\n                   getFieldDecorator,\r\n                   validateFields,\r\n                   getFieldsValue,\r\n                 },\r\n               }) => {\r\n  const handleOk = () => {\r\n    validateFields((errors) => {\r\n      if (errors) {\r\n        return\r\n      }\r\n      let formData = getFieldsValue();\r\n      formData['id']=currentItem['id'];\r\n      onSubmit(formData)\r\n    })\r\n  };\r\n\r\n  const dynamicFormItems = formItems.map((formItem) =>\r\n    <FormItem key={formItem.name} className=\"mb-0\"  label={formItem.label} hasFeedback {...formItemLayout}>\r\n      {getFieldDecorator(formItem.name, {\r\n        initialValue: currentItem[formItem.name],\r\n        ...formItem\r\n      })(formItem.obj)}\r\n    </FormItem>\r\n  );\r\n\r\n  const regionList = regions.map(item => {\r\n    return <Option value={item.id}>{intlMessages({en:item.nameEn,ru:item.nameRu,uz:item.nameUz})}</Option>\r\n  });\r\n  return (\r\n    <Modal\r\n           visible={modalVisible}\r\n           title={actionType===\"create\"? intlMessages({en:\"Create new district\",ru:\"Создать новую район\",uz:\"Yangi tuman yaratish\"}):intlMessages({en:\"Update district\",ru:\"Изменить район\",uz:\"Tumanni tahrirlash\"})}\r\n           onOk={handleOk}\r\n           destroyOnClose={true}\r\n           onCancel={onCancel}\r\n           wrapClassName={'vertical-center-modal'}\r\n           cancelText={<IntlMessages id={'cancel'}/>}\r\n           okText={<IntlMessages id={'save'}/>}\r\n    >\r\n      <Form layout=\"horizontal\">\r\n        {dynamicFormItems}\r\n        <FormItem key=\"regionId\" className=\"mb-0\" label={<IntlMessages id=\"region\"/>} hasFeedback {...formItemLayout}>\r\n          {getFieldDecorator('regionId', {\r\n            initialValue: currentItem &&  currentItem.region && currentItem.region.id ,\r\n            rules: [{\r\n              required: true,\r\n              message: <IntlMessages id=\"E_ERROR\"/>\r\n            }]\r\n          })\r\n          (<Select\r\n            name=\"regionId\"\r\n            allowClear\r\n            showSearch\r\n            optionFilterProp=\"children\"\r\n            filterOption={(input, option) =>\r\n              option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n            }\r\n          >\r\n            {regionList}\r\n          </Select>,)\r\n          }\r\n        </FormItem>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n};\r\n\r\nmodal.propTypes = {\r\n  form: PropTypes.object.isRequired,\r\n  type: PropTypes.string,\r\n  item: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Form.create()(modal)\r\n"]},"metadata":{},"sourceType":"module"}