(this["webpackJsonpArk-Logistics"]=this["webpackJsonpArk-Logistics"]||[]).push([[18],{1318:function(e,t,a){"use strict";var n=a(15),r=a(0),i=a.n(r),o=a(1296),c=a(1319),l=a(106),s=a(30),u=a(2);t.a=function(e){var t=e.onMenuClick,a=e.menuOptions,r=void 0===a?[]:a,m=e.menuStatus,d=e.buttonStyle,y=e.onAdminMenuClick,p=e.adminMenuOptions,b=void 0===p?[]:p,E=(e.adminStatus,r.map((function(e){return i.a.createElement(o.a.Item,{key:e.key,value:e.name},e.name)}))),f=b.map((function(e){return i.a.createElement(o.a.Item,{key:e.key,value:e.name},e.name)}));return!0===m?i.a.createElement(c.a,{overlay:i.a.createElement(o.a,{onClick:y},f)},i.a.createElement(l.a,{className:"btn-block mb-0 pb-3"},i.a.createElement(s.a,{type:"user",style:{transform:"translate(-4px,-2px)"}}),i.a.createElement(u.a,{id:"admin"}))):i.a.createElement(c.a,{overlay:i.a.createElement(o.a,{onClick:t},E)},i.a.createElement(l.a,{className:"mb-0 pb-3",style:Object(n.a)({border:"none"},d)},i.a.createElement(s.a,{style:{marginRight:2},type:"bars"}),i.a.createElement(s.a,{type:"down"})))}},1341:function(e,t,a){"use strict";a.r(t);var n=a(17),r=a(18),i=a(20),o=a(19),c=a(0),l=a.n(c),s=a(1307),u=a(1339),m=a(31),d=a(33),y=a(1294),p=a(1295),b=a(106),E=a(2),f=a(577),C=function(e){var t=e.onAdd;return l.a.createElement(y.a,{gutter:24},l.a.createElement(p.a,{xs:6,sm:6,md:6,xl:6,lg:6,className:"pl-0"},l.a.createElement(f.a,{to:"/main/clients"},l.a.createElement(b.a,{type:"primary",onClick:t,style:{marginLeft:16}},l.a.createElement(E.a,{id:"prev"})))),l.a.createElement(p.a,{xs:18,sm:18,md:18,xl:18,lg:18,className:"text-right"},l.a.createElement(b.a,{type:"primary",onClick:t,style:{marginLeft:16}},l.a.createElement(E.a,{id:"create"}))))},g=a(1311),h=a(1321),k=a(1313),v=a(1338),O=a(1324),j=a.n(O),S=g.a.Item,z=h.a.Option,w={labelCol:{span:24},wrapperCol:{span:24}},x={xs:24,sm:24,md:24,xl:24,lg:24},I=g.a.create()((function(e){var t=e.currentItem,a=e.onSubmit,n=e.onCancel,r=e.countries,i=e.modalVisible,o=e.actionType,c=e.form,s=c.getFieldDecorator,u=c.validateFields,m=c.getFieldsValue,d=r.map((function(e){return l.a.createElement(z,{value:e.id,key:"from".concat(e.id)},Object(E.b)({en:e.nameEn,ru:e.nameRu,uz:e.nameUz}))}));return l.a.createElement(k.a,{visible:i,onOk:function(){u((function(e){if(!e){var n=m();n.id=t.id,a(n)}}))},title:"create"===o?Object(E.b)({en:"Create new position type",ru:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0442\u0438\u043f \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",uz:"Yangi lavozim turi yaratish"}):Object(E.b)({en:"Update position type",ru:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0438\u043f \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",uz:"Lavozim turini tahrirlash"}),destroyOnClose:!0,onCancel:n,maskClosable:!0,closable:!0,wrapClassName:"vertical-center-modal",cancelText:l.a.createElement(E.a,{id:"cancel"}),okText:l.a.createElement(E.a,{id:"save"})},l.a.createElement(g.a,{layout:"horizontal"},l.a.createElement(p.a,x,l.a.createElement(S,Object.assign({key:"date",className:"mb-0",label:l.a.createElement(E.a,{id:"date"}),hasFeedback:!0},w),s("date",{initialValue:t&&j()(t.date),rules:[{required:!0,message:l.a.createElement(E.a,{id:"E_ERROR"})}]})(l.a.createElement(v.a,null)))),l.a.createElement(p.a,x,l.a.createElement(S,Object.assign({key:"fromCountry",className:"mb-0",label:l.a.createElement(E.a,{id:"fromCountry"}),hasFeedback:!0},w),s("fromCountry",{initialValue:t&&t.fromCountry&&t.fromCountry.id,rules:[{required:!0,message:l.a.createElement(E.a,{id:"E_ERROR"})}]})(l.a.createElement(h.a,{name:"fromCountry",allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},d)))),l.a.createElement(p.a,x,l.a.createElement(S,Object.assign({key:"toCountry",className:"mb-0",label:l.a.createElement(E.a,{id:"toCountry"}),hasFeedback:!0},w),s("toCountry",{initialValue:t&&t.toCountry&&t.toCountry.id,rules:[{required:!0,message:l.a.createElement(E.a,{id:"E_ERROR"})}]})(l.a.createElement(h.a,{name:"toCountry",allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},d))))))})),T=a(258),R=a(83),V=a(30),A=a(1337),F=a(1318),N=["onEditItem","pagination","location","visibleColumns"],q=function(e){var t=e.onEditItem,a=e.pagination,n=(e.location,e.visibleColumns),r=Object(R.a)(e,N),i=[].concat(Object(T.a)(n),[{title:l.a.createElement(E.a,{id:"operation"}),key:"operation",width:100,align:"center",render:function(e,t){return l.a.createElement(F.a,{onMenuClick:function(e){return o(t,e)},menuOptions:[{key:"1",name:l.a.createElement("div",null,l.a.createElement(V.a,{className:"mr-2",type:"edit"}),l.a.createElement(E.a,{id:"update"}))}]})}}]),o=function(e,a){t(e)},c={emptyText:l.a.createElement("div",{style:{textAlign:"center",fontSize:16,marginTop:30}},l.a.createElement(V.a,{type:"inbox",style:{fontSize:40}}),l.a.createElement("p",null,l.a.createElement(E.a,{id:"NODATA"})))};return l.a.createElement("div",null,l.a.createElement(A.a,Object.assign({},r,{columns:i,bordered:!0,size:"small",pagination:a,className:"gx-table-responsive",locale:c,rowKey:function(e){return e.id}})))},L=a(25),M=a(203),P=d.a.getClientPoint,U=d.a.postClientPoint,_=d.a.getCountry,D=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).getInit=function(){r.props.location.state.id&&r.getPoints(),Object(m.a)(_).then((function(e){e.success&&r.setState((function(t,a){return{countries:e._embedded.list}}))}))},r.onRequestFunc=function(e,t,a){Object(m.a)(e,t).then((function(e){e.success?(r.getPoints(),r.setState({actionType:"create",modalVisible:!1,currentItem:{}}),s.a.success({key:a.key,message:a.messageSuccess,description:a.descriptionSuccess})):s.a.error({key:a.key,message:a.messageError,description:a.descriptionError})}))},r.onSubmit=function(e){var t={};e.clientId=r.props.location.state.id,"create"===r.state.actionType&&(t={key:"create",messageError:Object(E.b)({en:"There was an error creating",ru:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438",uz:"Yaratishda xatolik yuz berdi"}),messageSuccess:Object(E.b)({en:"Successfully created",ru:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d",uz:"Muvaffaqqiyatli yaratildi"})},r.onRequestFunc(U,e,t)),"update"===r.state.actionType&&(t={key:"update",messageError:Object(E.b)({en:"There was an error updating",ru:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435",uz:"Tahrirlashda xatolik yuz berdi"}),messageSuccess:Object(E.b)({en:"Successfully updated",ru:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e",uz:"Muvaffaqqiyatli tahrirlandi"})},r.onRequestFunc(U,e,t))},r.onCancel=function(){r.setState({modalVisible:!1,actionType:"create"})},r.onAdd=function(){r.setState({modalVisible:!0,actionType:"create"})},r.onEditItem=function(e){r.setState({actionType:"update",currentItem:e,modalVisible:!0})},r.state={actionType:"create",align:"center",modalVisible:!1,columns:[{title:l.a.createElement("strong",null,"\u2116"),key:"\u2116",width:60,render:function(e,t,a){return a+1}},{title:l.a.createElement(E.a,{id:"date"}),key:"date",align:"center",render:function(e,t,a){return t.date.substring(0,10)}},{title:l.a.createElement(E.a,{id:"fromCountry"}),key:"fromCountry",align:"center",render:function(e,t,a){return Object(E.b)({en:t.fromCountry&&t.fromCountry.nameEn,ru:t.fromCountry&&t.fromCountry.nameRu,uz:t.fromCountry&&t.fromCountry.nameUz})}},{title:l.a.createElement(E.a,{id:"toCountry"}),key:"toCountry",align:"toCountry",render:function(e,t,a){return Object(E.b)({en:t.toCountry&&t.toCountry.nameEn,ru:t.toCountry&&t.toCountry.nameRu,uz:t.toCountry&&t.toCountry.nameUz})}}],currentItem:{},countries:[],list:[]},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.getInit()}},{key:"getPoints",value:function(){var e=this;Object(m.a)(P,{clientId:this.props.location.state.id}).then((function(t){t.success&&e.setState((function(e,a){return{list:t.object.points}}))}))}},{key:"render",value:function(){var e=this.state,t=e.currentItem,a=e.modalVisible,n=e.columns,r=e.countries,i=e.list,o=e.actionType;return l.a.createElement(u.a,null,l.a.createElement(C,{onAdd:this.onAdd}),l.a.createElement(q,{visibleColumns:n,dataSource:i,onEditItem:this.onEditItem,pagination:i&&i.length>20}),l.a.createElement(I,{onSubmit:this.onSubmit,onCancel:this.onCancel,countries:r,actionType:o,modalVisible:a,currentItem:"create"===o?{}:t}))}}]),a}(c.Component);t.default=Object(L.b)((function(e){return e.routing.location}),{onAuthUser:M.a})(D)}}]);
//# sourceMappingURL=18.03182bce.chunk.js.map